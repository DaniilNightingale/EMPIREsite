function nf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(r,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eu={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar=Symbol.for("react.element"),sf=Symbol.for("react.portal"),lf=Symbol.for("react.fragment"),af=Symbol.for("react.strict_mode"),of=Symbol.for("react.profiler"),cf=Symbol.for("react.provider"),uf=Symbol.for("react.context"),df=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),ff=Symbol.for("react.memo"),pf=Symbol.for("react.lazy"),ho=Symbol.iterator;function hf(e){return e===null||typeof e!="object"?null:(e=ho&&e[ho]||e["@@iterator"],typeof e=="function"?e:null)}var tu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nu=Object.assign,ru={};function Bn(e,t,n){this.props=e,this.context=t,this.refs=ru,this.updater=n||tu}Bn.prototype.isReactComponent={};Bn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function su(){}su.prototype=Bn.prototype;function ci(e,t,n){this.props=e,this.context=t,this.refs=ru,this.updater=n||tu}var ui=ci.prototype=new su;ui.constructor=ci;nu(ui,Bn.prototype);ui.isPureReactComponent=!0;var go=Array.isArray,lu=Object.prototype.hasOwnProperty,di={current:null},au={key:!0,ref:!0,__self:!0,__source:!0};function iu(e,t,n){var r,l={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)lu.call(t,r)&&!au.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:Ar,type:e,key:a,ref:i,props:l,_owner:di.current}}function gf(e,t){return{$$typeof:Ar,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ar}function xf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xo=/\/+/g;function Tl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xf(""+e.key):t.toString(36)}function vs(e,t,n,r,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ar:case sf:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+Tl(i,0):r,go(l)?(n="",e!=null&&(n=e.replace(xo,"$&/")+"/"),vs(l,t,n,"",function(u){return u})):l!=null&&(mi(l)&&(l=gf(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(xo,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",go(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+Tl(a,o);i+=vs(a,t,n,c,l)}else if(c=hf(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+Tl(a,o++),i+=vs(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Zr(e,t,n){if(e==null)return e;var r=[],l=0;return vs(e,r,"","",function(a){return t.call(n,a,l++)}),r}function vf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},ys={transition:null},yf={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:ys,ReactCurrentOwner:di};function ou(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Zr,forEach:function(e,t,n){Zr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zr(e,function(){t++}),t},toArray:function(e){return Zr(e,function(t){return t})||[]},only:function(e){if(!mi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Bn;Q.Fragment=lf;Q.Profiler=of;Q.PureComponent=ci;Q.StrictMode=af;Q.Suspense=mf;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yf;Q.act=ou;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nu({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=di.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)lu.call(t,c)&&!au.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Ar,type:e.type,key:l,ref:a,props:r,_owner:i}};Q.createContext=function(e){return e={$$typeof:uf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cf,_context:e},e.Consumer=e};Q.createElement=iu;Q.createFactory=function(e){var t=iu.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:df,render:e}};Q.isValidElement=mi;Q.lazy=function(e){return{$$typeof:pf,_payload:{_status:-1,_result:e},_init:vf}};Q.memo=function(e,t){return{$$typeof:ff,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=ys.transition;ys.transition={};try{e()}finally{ys.transition=t}};Q.unstable_act=ou;Q.useCallback=function(e,t){return _e.current.useCallback(e,t)};Q.useContext=function(e){return _e.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};Q.useEffect=function(e,t){return _e.current.useEffect(e,t)};Q.useId=function(){return _e.current.useId()};Q.useImperativeHandle=function(e,t,n){return _e.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return _e.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return _e.current.useReducer(e,t,n)};Q.useRef=function(e){return _e.current.useRef(e)};Q.useState=function(e){return _e.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return _e.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return _e.current.useTransition()};Q.version="18.3.1";eu.exports=Q;var k=eu.exports;const pt=rf(k),jf=nf({__proto__:null,default:pt},[k]);var cu={exports:{}},$e={},uu={exports:{}},du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,A){var $=L.length;L.push(A);e:for(;0<$;){var B=$-1>>>1,W=L[B];if(0<l(W,A))L[B]=A,L[$]=W,$=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var A=L[0],$=L.pop();if($!==A){L[0]=$;e:for(var B=0,W=L.length,be=W>>>1;B<be;){var V=2*(B+1)-1,J=L[V],K=V+1,ae=L[K];if(0>l(J,$))K<W&&0>l(ae,J)?(L[B]=ae,L[K]=$,B=K):(L[B]=J,L[V]=$,B=V);else if(K<W&&0>l(ae,$))L[B]=ae,L[K]=$,B=K;else break e}}return A}function l(L,A){var $=L.sortIndex-A.sortIndex;return $!==0?$:L.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,g=null,p=3,E=!1,b=!1,_=!1,O=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=L)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function y(L){if(_=!1,w(L),!b)if(n(c)!==null)b=!0,z(C);else{var A=n(u);A!==null&&D(y,A.startTime-L)}}function C(L,A){b=!1,_&&(_=!1,h(f),f=-1),E=!0;var $=p;try{for(w(A),g=n(c);g!==null&&(!(g.expirationTime>A)||L&&!x());){var B=g.callback;if(typeof B=="function"){g.callback=null,p=g.priorityLevel;var W=B(g.expirationTime<=A);A=e.unstable_now(),typeof W=="function"?g.callback=W:g===n(c)&&r(c),w(A)}else r(c);g=n(c)}if(g!==null)var be=!0;else{var V=n(u);V!==null&&D(y,V.startTime-A),be=!1}return be}finally{g=null,p=$,E=!1}}var P=!1,v=null,f=-1,S=5,R=-1;function x(){return!(e.unstable_now()-R<S)}function j(){if(v!==null){var L=e.unstable_now();R=L;var A=!0;try{A=v(!0,L)}finally{A?I():(P=!1,v=null)}}else P=!1}var I;if(typeof m=="function")I=function(){m(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,N=M.port2;M.port1.onmessage=j,I=function(){N.postMessage(null)}}else I=function(){O(j,0)};function z(L){v=L,P||(P=!0,I())}function D(L,A){f=O(function(){L(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){b||E||(b=!0,z(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var $=p;p=A;try{return L()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,A){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=p;p=L;try{return A()}finally{p=$}},e.unstable_scheduleCallback=function(L,A,$){var B=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?B+$:B):$=B,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,L={id:d++,callback:A,priorityLevel:L,startTime:$,expirationTime:W,sortIndex:-1},$>B?(L.sortIndex=$,t(u,L),n(c)===null&&L===n(u)&&(_?(h(f),f=-1):_=!0,D(y,$-B))):(L.sortIndex=W,t(c,L),b||E||(b=!0,z(C))),L},e.unstable_shouldYield=x,e.unstable_wrapCallback=function(L){var A=p;return function(){var $=p;p=A;try{return L.apply(this,arguments)}finally{p=$}}}})(du);uu.exports=du;var Nf=uu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=k,Ae=Nf;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mu=new Set,gr={};function dn(e,t){Ln(e,t),Ln(e+"Capture",t)}function Ln(e,t){for(gr[e]=t,e=0;e<t.length;e++)mu.add(t[e])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=Object.prototype.hasOwnProperty,bf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vo={},yo={};function Sf(e){return ca.call(yo,e)?!0:ca.call(vo,e)?!1:bf.test(e)?yo[e]=!0:(vo[e]=!0,!1)}function kf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _f(e,t,n,r){if(t===null||typeof t>"u"||kf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ce(e,t,n,r,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new Ce(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new Ce(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new Ce(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new Ce(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new Ce(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new Ce(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new Ce(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new Ce(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new Ce(e,5,!1,e.toLowerCase(),null,!1,!1)});var fi=/[\-:]([a-z])/g;function pi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fi,pi);xe[t]=new Ce(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fi,pi);xe[t]=new Ce(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fi,pi);xe[t]=new Ce(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new Ce(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new Ce(e,1,!1,e.toLowerCase(),null,!0,!0)});function hi(e,t,n,r){var l=xe.hasOwnProperty(t)?xe[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_f(t,n,l,r)&&(n=null),r||l===null?Sf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jt=wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),gn=Symbol.for("react.portal"),xn=Symbol.for("react.fragment"),gi=Symbol.for("react.strict_mode"),ua=Symbol.for("react.profiler"),fu=Symbol.for("react.provider"),pu=Symbol.for("react.context"),xi=Symbol.for("react.forward_ref"),da=Symbol.for("react.suspense"),ma=Symbol.for("react.suspense_list"),vi=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),hu=Symbol.for("react.offscreen"),jo=Symbol.iterator;function Jn(e){return e===null||typeof e!="object"?null:(e=jo&&e[jo]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Ll;function rr(e){if(Ll===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ll=t&&t[1]||""}return`
`+Ll+e}var Il=!1;function Ml(e,t){if(!e||Il)return"";Il=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=r.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Il=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rr(e):""}function Cf(e){switch(e.tag){case 5:return rr(e.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 2:case 15:return e=Ml(e.type,!1),e;case 11:return e=Ml(e.type.render,!1),e;case 1:return e=Ml(e.type,!0),e;default:return""}}function fa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xn:return"Fragment";case gn:return"Portal";case ua:return"Profiler";case gi:return"StrictMode";case da:return"Suspense";case ma:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pu:return(e.displayName||"Context")+".Consumer";case fu:return(e._context.displayName||"Context")+".Provider";case xi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vi:return t=e.displayName||null,t!==null?t:fa(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return fa(e(t))}catch{}}return null}function Ef(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fa(t);case 8:return t===gi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pf(e){var t=gu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){e._valueTracker||(e._valueTracker=Pf(e))}function xu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=gu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pa(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function No(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ut(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vu(e,t){t=t.checked,t!=null&&hi(e,"checked",t,!1)}function ha(e,t){vu(e,t);var n=Ut(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ga(e,t.type,n):t.hasOwnProperty("defaultValue")&&ga(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ga(e,t,n){(t!=="number"||Ts(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sr=Array.isArray;function En(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function xa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(sr(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ut(n)}}function yu(e,t){var n=Ut(t.value),r=Ut(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function So(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ju(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function va(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ju(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,Nu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rf=["Webkit","ms","Moz","O"];Object.keys(ir).forEach(function(e){Rf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ir[t]=ir[e]})});function wu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ir.hasOwnProperty(e)&&ir[e]?(""+t).trim():t+"px"}function bu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=wu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Of=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ya(e,t){if(t){if(Of[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function ja(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Na=null;function yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wa=null,Pn=null,Rn=null;function ko(e){if(e=Br(e)){if(typeof wa!="function")throw Error(F(280));var t=e.stateNode;t&&(t=ml(t),wa(e.stateNode,e.type,t))}}function Su(e){Pn?Rn?Rn.push(e):Rn=[e]:Pn=e}function ku(){if(Pn){var e=Pn,t=Rn;if(Rn=Pn=null,ko(e),t)for(e=0;e<t.length;e++)ko(t[e])}}function _u(e,t){return e(t)}function Cu(){}var Dl=!1;function Eu(e,t,n){if(Dl)return e(t,n);Dl=!0;try{return _u(e,t,n)}finally{Dl=!1,(Pn!==null||Rn!==null)&&(Cu(),ku())}}function vr(e,t){var n=e.stateNode;if(n===null)return null;var r=ml(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var ba=!1;if(gt)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){ba=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{ba=!1}function zf(e,t,n,r,l,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var or=!1,Ls=null,Is=!1,Sa=null,Tf={onError:function(e){or=!0,Ls=e}};function Lf(e,t,n,r,l,a,i,o,c){or=!1,Ls=null,zf.apply(Tf,arguments)}function If(e,t,n,r,l,a,i,o,c){if(Lf.apply(this,arguments),or){if(or){var u=Ls;or=!1,Ls=null}else throw Error(F(198));Is||(Is=!0,Sa=u)}}function mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _o(e){if(mn(e)!==e)throw Error(F(188))}function Mf(e){var t=e.alternate;if(!t){if(t=mn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return _o(l),e;if(a===r)return _o(l),t;a=a.sibling}throw Error(F(188))}if(n.return!==r.return)n=l,r=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,r=a;break}if(o===r){i=!0,r=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=l;break}if(o===r){i=!0,r=a,n=l;break}o=o.sibling}if(!i)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Ru(e){return e=Mf(e),e!==null?Ou(e):null}function Ou(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ou(e);if(t!==null)return t;e=e.sibling}return null}var zu=Ae.unstable_scheduleCallback,Co=Ae.unstable_cancelCallback,Df=Ae.unstable_shouldYield,Ff=Ae.unstable_requestPaint,oe=Ae.unstable_now,Af=Ae.unstable_getCurrentPriorityLevel,ji=Ae.unstable_ImmediatePriority,Tu=Ae.unstable_UserBlockingPriority,Ms=Ae.unstable_NormalPriority,$f=Ae.unstable_LowPriority,Lu=Ae.unstable_IdlePriority,ol=null,ot=null;function Uf(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(ol,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:Vf,Bf=Math.log,Hf=Math.LN2;function Vf(e){return e>>>=0,e===0?32:31-(Bf(e)/Hf|0)|0}var rs=64,ss=4194304;function lr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ds(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?r=lr(o):(a&=i,a!==0&&(r=lr(a)))}else i=n&~l,i!==0?r=lr(i):a!==0&&(r=lr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ze(t),l=1<<n,r|=e[n],t&=~l;return r}function Wf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ze(a),o=1<<i,c=l[i];c===-1?(!(o&n)||o&r)&&(l[i]=Wf(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Iu(){var e=rs;return rs<<=1,!(rs&4194240)&&(rs=64),e}function Fl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $r(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=n}function Jf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ze(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function Ni(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ze(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Y=0;function Mu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Du,wi,Fu,Au,$u,_a=!1,ls=[],Ot=null,zt=null,Tt=null,yr=new Map,jr=new Map,_t=[],Qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eo(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":yr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(t.pointerId)}}function Kn(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Br(t),t!==null&&wi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Kf(e,t,n,r,l){switch(t){case"focusin":return Ot=Kn(Ot,e,t,n,r,l),!0;case"dragenter":return zt=Kn(zt,e,t,n,r,l),!0;case"mouseover":return Tt=Kn(Tt,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return yr.set(a,Kn(yr.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,jr.set(a,Kn(jr.get(a)||null,e,t,n,r,l)),!0}return!1}function Uu(e){var t=Kt(e.target);if(t!==null){var n=mn(t);if(n!==null){if(t=n.tag,t===13){if(t=Pu(n),t!==null){e.blockedOn=t,$u(e.priority,function(){Fu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ca(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Na=r,n.target.dispatchEvent(r),Na=null}else return t=Br(n),t!==null&&wi(t),e.blockedOn=n,!1;t.shift()}return!0}function Po(e,t,n){js(e)&&n.delete(t)}function Gf(){_a=!1,Ot!==null&&js(Ot)&&(Ot=null),zt!==null&&js(zt)&&(zt=null),Tt!==null&&js(Tt)&&(Tt=null),yr.forEach(Po),jr.forEach(Po)}function Gn(e,t){e.blockedOn===t&&(e.blockedOn=null,_a||(_a=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,Gf)))}function Nr(e){function t(l){return Gn(l,e)}if(0<ls.length){Gn(ls[0],e);for(var n=1;n<ls.length;n++){var r=ls[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ot!==null&&Gn(Ot,e),zt!==null&&Gn(zt,e),Tt!==null&&Gn(Tt,e),yr.forEach(t),jr.forEach(t),n=0;n<_t.length;n++)r=_t[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&(n=_t[0],n.blockedOn===null);)Uu(n),n.blockedOn===null&&_t.shift()}var On=jt.ReactCurrentBatchConfig,Fs=!0;function Xf(e,t,n,r){var l=Y,a=On.transition;On.transition=null;try{Y=1,bi(e,t,n,r)}finally{Y=l,On.transition=a}}function Yf(e,t,n,r){var l=Y,a=On.transition;On.transition=null;try{Y=4,bi(e,t,n,r)}finally{Y=l,On.transition=a}}function bi(e,t,n,r){if(Fs){var l=Ca(e,t,n,r);if(l===null)Ql(e,t,r,As,n),Eo(e,r);else if(Kf(l,e,t,n,r))r.stopPropagation();else if(Eo(e,r),t&4&&-1<Qf.indexOf(e)){for(;l!==null;){var a=Br(l);if(a!==null&&Du(a),a=Ca(e,t,n,r),a===null&&Ql(e,t,r,As,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else Ql(e,t,r,null,n)}}var As=null;function Ca(e,t,n,r){if(As=null,e=yi(r),e=Kt(e),e!==null)if(t=mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return As=e,null}function Bu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Af()){case ji:return 1;case Tu:return 4;case Ms:case $f:return 16;case Lu:return 536870912;default:return 16}default:return 16}}var Et=null,Si=null,Ns=null;function Hu(){if(Ns)return Ns;var e,t=Si,n=t.length,r,l="value"in Et?Et.value:Et.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[a-r];r++);return Ns=l.slice(e,1<r?1-r:void 0)}function ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function Ro(){return!1}function Ue(e){function t(n,r,l,a,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?as:Ro,this.isPropagationStopped=Ro,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),t}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Ue(Hn),Ur=le({},Hn,{view:0,detail:0}),Zf=Ue(Ur),Al,$l,Xn,cl=le({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_i,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(Al=e.screenX-Xn.screenX,$l=e.screenY-Xn.screenY):$l=Al=0,Xn=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:$l}}),Oo=Ue(cl),ep=le({},cl,{dataTransfer:0}),tp=Ue(ep),np=le({},Ur,{relatedTarget:0}),Ul=Ue(np),rp=le({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),sp=Ue(rp),lp=le({},Hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ap=Ue(lp),ip=le({},Hn,{data:0}),zo=Ue(ip),op={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=up[e])?!!t[e]:!1}function _i(){return dp}var mp=le({},Ur,{key:function(e){if(e.key){var t=op[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_i,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fp=Ue(mp),pp=le({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),To=Ue(pp),hp=le({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_i}),gp=Ue(hp),xp=le({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),vp=Ue(xp),yp=le({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jp=Ue(yp),Np=[9,13,27,32],Ci=gt&&"CompositionEvent"in window,cr=null;gt&&"documentMode"in document&&(cr=document.documentMode);var wp=gt&&"TextEvent"in window&&!cr,Vu=gt&&(!Ci||cr&&8<cr&&11>=cr),Lo=" ",Io=!1;function Wu(e,t){switch(e){case"keyup":return Np.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function bp(e,t){switch(e){case"compositionend":return qu(t);case"keypress":return t.which!==32?null:(Io=!0,Lo);case"textInput":return e=t.data,e===Lo&&Io?null:e;default:return null}}function Sp(e,t){if(vn)return e==="compositionend"||!Ci&&Wu(e,t)?(e=Hu(),Ns=Si=Et=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vu&&t.locale!=="ko"?null:t.data;default:return null}}var kp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kp[e.type]:t==="textarea"}function Ju(e,t,n,r){Su(r),t=$s(t,"onChange"),0<t.length&&(n=new ki("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ur=null,wr=null;function _p(e){sd(e,0)}function ul(e){var t=Nn(e);if(xu(t))return e}function Cp(e,t){if(e==="change")return t}var Qu=!1;if(gt){var Bl;if(gt){var Hl="oninput"in document;if(!Hl){var Do=document.createElement("div");Do.setAttribute("oninput","return;"),Hl=typeof Do.oninput=="function"}Bl=Hl}else Bl=!1;Qu=Bl&&(!document.documentMode||9<document.documentMode)}function Fo(){ur&&(ur.detachEvent("onpropertychange",Ku),wr=ur=null)}function Ku(e){if(e.propertyName==="value"&&ul(wr)){var t=[];Ju(t,wr,e,yi(e)),Eu(_p,t)}}function Ep(e,t,n){e==="focusin"?(Fo(),ur=t,wr=n,ur.attachEvent("onpropertychange",Ku)):e==="focusout"&&Fo()}function Pp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(wr)}function Rp(e,t){if(e==="click")return ul(t)}function Op(e,t){if(e==="input"||e==="change")return ul(t)}function zp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:zp;function br(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ca.call(t,l)||!tt(e[l],t[l]))return!1}return!0}function Ao(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $o(e,t){var n=Ao(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ao(n)}}function Gu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xu(){for(var e=window,t=Ts();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ts(e.document)}return t}function Ei(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tp(e){var t=Xu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gu(n.ownerDocument.documentElement,n)){if(r!==null&&Ei(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=$o(n,a);var i=$o(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lp=gt&&"documentMode"in document&&11>=document.documentMode,yn=null,Ea=null,dr=null,Pa=!1;function Uo(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pa||yn==null||yn!==Ts(r)||(r=yn,"selectionStart"in r&&Ei(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dr&&br(dr,r)||(dr=r,r=$s(Ea,"onSelect"),0<r.length&&(t=new ki("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yn)))}function is(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jn={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionend:is("Transition","TransitionEnd")},Vl={},Yu={};gt&&(Yu=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function dl(e){if(Vl[e])return Vl[e];if(!jn[e])return e;var t=jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yu)return Vl[e]=t[n];return e}var Zu=dl("animationend"),ed=dl("animationiteration"),td=dl("animationstart"),nd=dl("transitionend"),rd=new Map,Bo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(e,t){rd.set(e,t),dn(t,[e])}for(var Wl=0;Wl<Bo.length;Wl++){var ql=Bo[Wl],Ip=ql.toLowerCase(),Mp=ql[0].toUpperCase()+ql.slice(1);Ht(Ip,"on"+Mp)}Ht(Zu,"onAnimationEnd");Ht(ed,"onAnimationIteration");Ht(td,"onAnimationStart");Ht("dblclick","onDoubleClick");Ht("focusin","onFocus");Ht("focusout","onBlur");Ht(nd,"onTransitionEnd");Ln("onMouseEnter",["mouseout","mouseover"]);Ln("onMouseLeave",["mouseout","mouseover"]);Ln("onPointerEnter",["pointerout","pointerover"]);Ln("onPointerLeave",["pointerout","pointerover"]);dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ar));function Ho(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,If(r,t,void 0,e),e.currentTarget=null}function sd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;Ho(l,o,u),a=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;Ho(l,o,u),a=c}}}if(Is)throw e=Sa,Is=!1,Sa=null,e}function ee(e,t){var n=t[La];n===void 0&&(n=t[La]=new Set);var r=e+"__bubble";n.has(r)||(ld(t,e,2,!1),n.add(r))}function Jl(e,t,n){var r=0;t&&(r|=4),ld(n,e,r,t)}var os="_reactListening"+Math.random().toString(36).slice(2);function Sr(e){if(!e[os]){e[os]=!0,mu.forEach(function(n){n!=="selectionchange"&&(Dp.has(n)||Jl(n,!1,e),Jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[os]||(t[os]=!0,Jl("selectionchange",!1,t))}}function ld(e,t,n,r){switch(Bu(t)){case 1:var l=Xf;break;case 4:l=Yf;break;default:l=bi}n=l.bind(null,t,n,e),l=void 0,!ba||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ql(e,t,n,r,l){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=Kt(o),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}o=o.parentNode}}r=r.return}Eu(function(){var u=a,d=yi(n),g=[];e:{var p=rd.get(e);if(p!==void 0){var E=ki,b=e;switch(e){case"keypress":if(ws(n)===0)break e;case"keydown":case"keyup":E=fp;break;case"focusin":b="focus",E=Ul;break;case"focusout":b="blur",E=Ul;break;case"beforeblur":case"afterblur":E=Ul;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=gp;break;case Zu:case ed:case td:E=sp;break;case nd:E=vp;break;case"scroll":E=Zf;break;case"wheel":E=jp;break;case"copy":case"cut":case"paste":E=ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=To}var _=(t&4)!==0,O=!_&&e==="scroll",h=_?p!==null?p+"Capture":null:p;_=[];for(var m=u,w;m!==null;){w=m;var y=w.stateNode;if(w.tag===5&&y!==null&&(w=y,h!==null&&(y=vr(m,h),y!=null&&_.push(kr(m,y,w)))),O)break;m=m.return}0<_.length&&(p=new E(p,b,null,n,d),g.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",p&&n!==Na&&(b=n.relatedTarget||n.fromElement)&&(Kt(b)||b[xt]))break e;if((E||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,E?(b=n.relatedTarget||n.toElement,E=u,b=b?Kt(b):null,b!==null&&(O=mn(b),b!==O||b.tag!==5&&b.tag!==6)&&(b=null)):(E=null,b=u),E!==b)){if(_=Oo,y="onMouseLeave",h="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(_=To,y="onPointerLeave",h="onPointerEnter",m="pointer"),O=E==null?p:Nn(E),w=b==null?p:Nn(b),p=new _(y,m+"leave",E,n,d),p.target=O,p.relatedTarget=w,y=null,Kt(d)===u&&(_=new _(h,m+"enter",b,n,d),_.target=w,_.relatedTarget=O,y=_),O=y,E&&b)t:{for(_=E,h=b,m=0,w=_;w;w=hn(w))m++;for(w=0,y=h;y;y=hn(y))w++;for(;0<m-w;)_=hn(_),m--;for(;0<w-m;)h=hn(h),w--;for(;m--;){if(_===h||h!==null&&_===h.alternate)break t;_=hn(_),h=hn(h)}_=null}else _=null;E!==null&&Vo(g,p,E,_,!1),b!==null&&O!==null&&Vo(g,O,b,_,!0)}}e:{if(p=u?Nn(u):window,E=p.nodeName&&p.nodeName.toLowerCase(),E==="select"||E==="input"&&p.type==="file")var C=Cp;else if(Mo(p))if(Qu)C=Op;else{C=Pp;var P=Ep}else(E=p.nodeName)&&E.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=Rp);if(C&&(C=C(e,u))){Ju(g,C,n,d);break e}P&&P(e,p,u),e==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&ga(p,"number",p.value)}switch(P=u?Nn(u):window,e){case"focusin":(Mo(P)||P.contentEditable==="true")&&(yn=P,Ea=u,dr=null);break;case"focusout":dr=Ea=yn=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Uo(g,n,d);break;case"selectionchange":if(Lp)break;case"keydown":case"keyup":Uo(g,n,d)}var v;if(Ci)e:{switch(e){case"compositionstart":var f="onCompositionStart";break e;case"compositionend":f="onCompositionEnd";break e;case"compositionupdate":f="onCompositionUpdate";break e}f=void 0}else vn?Wu(e,n)&&(f="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(f="onCompositionStart");f&&(Vu&&n.locale!=="ko"&&(vn||f!=="onCompositionStart"?f==="onCompositionEnd"&&vn&&(v=Hu()):(Et=d,Si="value"in Et?Et.value:Et.textContent,vn=!0)),P=$s(u,f),0<P.length&&(f=new zo(f,e,null,n,d),g.push({event:f,listeners:P}),v?f.data=v:(v=qu(n),v!==null&&(f.data=v)))),(v=wp?bp(e,n):Sp(e,n))&&(u=$s(u,"onBeforeInput"),0<u.length&&(d=new zo("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:u}),d.data=v))}sd(g,t)})}function kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $s(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=vr(e,n),a!=null&&r.unshift(kr(e,a,l)),a=vr(e,t),a!=null&&r.push(kr(e,a,l))),e=e.return}return r}function hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vo(e,t,n,r,l){for(var a=t._reactName,i=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,l?(c=vr(n,a),c!=null&&i.unshift(kr(n,c,o))):l||(c=vr(n,a),c!=null&&i.push(kr(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Fp=/\r\n?/g,Ap=/\u0000|\uFFFD/g;function Wo(e){return(typeof e=="string"?e:""+e).replace(Fp,`
`).replace(Ap,"")}function cs(e,t,n){if(t=Wo(t),Wo(e)!==t&&n)throw Error(F(425))}function Us(){}var Ra=null,Oa=null;function za(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ta=typeof setTimeout=="function"?setTimeout:void 0,$p=typeof clearTimeout=="function"?clearTimeout:void 0,qo=typeof Promise=="function"?Promise:void 0,Up=typeof queueMicrotask=="function"?queueMicrotask:typeof qo<"u"?function(e){return qo.resolve(null).then(e).catch(Bp)}:Ta;function Bp(e){setTimeout(function(){throw e})}function Kl(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Nr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Nr(t)}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vn=Math.random().toString(36).slice(2),at="__reactFiber$"+Vn,_r="__reactProps$"+Vn,xt="__reactContainer$"+Vn,La="__reactEvents$"+Vn,Hp="__reactListeners$"+Vn,Vp="__reactHandles$"+Vn;function Kt(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jo(e);e!==null;){if(n=e[at])return n;e=Jo(e)}return t}e=n,n=e.parentNode}return null}function Br(e){return e=e[at]||e[xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function ml(e){return e[_r]||null}var Ia=[],wn=-1;function Vt(e){return{current:e}}function te(e){0>wn||(e.current=Ia[wn],Ia[wn]=null,wn--)}function Z(e,t){wn++,Ia[wn]=e.current,e.current=t}var Bt={},we=Vt(Bt),Oe=Vt(!1),rn=Bt;function In(e,t){var n=e.type.contextTypes;if(!n)return Bt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ze(e){return e=e.childContextTypes,e!=null}function Bs(){te(Oe),te(we)}function Qo(e,t,n){if(we.current!==Bt)throw Error(F(168));Z(we,t),Z(Oe,n)}function ad(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(F(108,Ef(e)||"Unknown",l));return le({},n,r)}function Hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bt,rn=we.current,Z(we,e),Z(Oe,Oe.current),!0}function Ko(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=ad(e,t,rn),r.__reactInternalMemoizedMergedChildContext=e,te(Oe),te(we),Z(we,e)):te(Oe),Z(Oe,n)}var dt=null,fl=!1,Gl=!1;function id(e){dt===null?dt=[e]:dt.push(e)}function Wp(e){fl=!0,id(e)}function Wt(){if(!Gl&&dt!==null){Gl=!0;var e=0,t=Y;try{var n=dt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dt=null,fl=!1}catch(l){throw dt!==null&&(dt=dt.slice(e+1)),zu(ji,Wt),l}finally{Y=t,Gl=!1}}return null}var bn=[],Sn=0,Vs=null,Ws=0,Be=[],He=0,sn=null,mt=1,ft="";function qt(e,t){bn[Sn++]=Ws,bn[Sn++]=Vs,Vs=e,Ws=t}function od(e,t,n){Be[He++]=mt,Be[He++]=ft,Be[He++]=sn,sn=e;var r=mt;e=ft;var l=32-Ze(r)-1;r&=~(1<<l),n+=1;var a=32-Ze(t)+l;if(30<a){var i=l-l%5;a=(r&(1<<i)-1).toString(32),r>>=i,l-=i,mt=1<<32-Ze(t)+l|n<<l|r,ft=a+e}else mt=1<<a|n<<l|r,ft=e}function Pi(e){e.return!==null&&(qt(e,1),od(e,1,0))}function Ri(e){for(;e===Vs;)Vs=bn[--Sn],bn[Sn]=null,Ws=bn[--Sn],bn[Sn]=null;for(;e===sn;)sn=Be[--He],Be[He]=null,ft=Be[--He],Be[He]=null,mt=Be[--He],Be[He]=null}var Fe=null,De=null,ne=!1,Ye=null;function cd(e,t){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Go(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fe=e,De=Lt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fe=e,De=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sn!==null?{id:mt,overflow:ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fe=e,De=null,!0):!1;default:return!1}}function Ma(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Da(e){if(ne){var t=De;if(t){var n=t;if(!Go(e,t)){if(Ma(e))throw Error(F(418));t=Lt(n.nextSibling);var r=Fe;t&&Go(e,t)?cd(r,n):(e.flags=e.flags&-4097|2,ne=!1,Fe=e)}}else{if(Ma(e))throw Error(F(418));e.flags=e.flags&-4097|2,ne=!1,Fe=e}}}function Xo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fe=e}function us(e){if(e!==Fe)return!1;if(!ne)return Xo(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!za(e.type,e.memoizedProps)),t&&(t=De)){if(Ma(e))throw ud(),Error(F(418));for(;t;)cd(e,t),t=Lt(t.nextSibling)}if(Xo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){De=Lt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}De=null}}else De=Fe?Lt(e.stateNode.nextSibling):null;return!0}function ud(){for(var e=De;e;)e=Lt(e.nextSibling)}function Mn(){De=Fe=null,ne=!1}function Oi(e){Ye===null?Ye=[e]:Ye.push(e)}var qp=jt.ReactCurrentBatchConfig;function Yn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function ds(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){var t=e._init;return t(e._payload)}function dd(e){function t(h,m){if(e){var w=h.deletions;w===null?(h.deletions=[m],h.flags|=16):w.push(m)}}function n(h,m){if(!e)return null;for(;m!==null;)t(h,m),m=m.sibling;return null}function r(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function l(h,m){return h=Ft(h,m),h.index=0,h.sibling=null,h}function a(h,m,w){return h.index=w,e?(w=h.alternate,w!==null?(w=w.index,w<m?(h.flags|=2,m):w):(h.flags|=2,m)):(h.flags|=1048576,m)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,m,w,y){return m===null||m.tag!==6?(m=ra(w,h.mode,y),m.return=h,m):(m=l(m,w),m.return=h,m)}function c(h,m,w,y){var C=w.type;return C===xn?d(h,m,w.props.children,y,w.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===St&&Yo(C)===m.type)?(y=l(m,w.props),y.ref=Yn(h,m,w),y.return=h,y):(y=Ps(w.type,w.key,w.props,null,h.mode,y),y.ref=Yn(h,m,w),y.return=h,y)}function u(h,m,w,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=sa(w,h.mode,y),m.return=h,m):(m=l(m,w.children||[]),m.return=h,m)}function d(h,m,w,y,C){return m===null||m.tag!==7?(m=en(w,h.mode,y,C),m.return=h,m):(m=l(m,w),m.return=h,m)}function g(h,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ra(""+m,h.mode,w),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case es:return w=Ps(m.type,m.key,m.props,null,h.mode,w),w.ref=Yn(h,null,m),w.return=h,w;case gn:return m=sa(m,h.mode,w),m.return=h,m;case St:var y=m._init;return g(h,y(m._payload),w)}if(sr(m)||Jn(m))return m=en(m,h.mode,w,null),m.return=h,m;ds(h,m)}return null}function p(h,m,w,y){var C=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(h,m,""+w,y);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case es:return w.key===C?c(h,m,w,y):null;case gn:return w.key===C?u(h,m,w,y):null;case St:return C=w._init,p(h,m,C(w._payload),y)}if(sr(w)||Jn(w))return C!==null?null:d(h,m,w,y,null);ds(h,w)}return null}function E(h,m,w,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(w)||null,o(m,h,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case es:return h=h.get(y.key===null?w:y.key)||null,c(m,h,y,C);case gn:return h=h.get(y.key===null?w:y.key)||null,u(m,h,y,C);case St:var P=y._init;return E(h,m,w,P(y._payload),C)}if(sr(y)||Jn(y))return h=h.get(w)||null,d(m,h,y,C,null);ds(m,y)}return null}function b(h,m,w,y){for(var C=null,P=null,v=m,f=m=0,S=null;v!==null&&f<w.length;f++){v.index>f?(S=v,v=null):S=v.sibling;var R=p(h,v,w[f],y);if(R===null){v===null&&(v=S);break}e&&v&&R.alternate===null&&t(h,v),m=a(R,m,f),P===null?C=R:P.sibling=R,P=R,v=S}if(f===w.length)return n(h,v),ne&&qt(h,f),C;if(v===null){for(;f<w.length;f++)v=g(h,w[f],y),v!==null&&(m=a(v,m,f),P===null?C=v:P.sibling=v,P=v);return ne&&qt(h,f),C}for(v=r(h,v);f<w.length;f++)S=E(v,h,f,w[f],y),S!==null&&(e&&S.alternate!==null&&v.delete(S.key===null?f:S.key),m=a(S,m,f),P===null?C=S:P.sibling=S,P=S);return e&&v.forEach(function(x){return t(h,x)}),ne&&qt(h,f),C}function _(h,m,w,y){var C=Jn(w);if(typeof C!="function")throw Error(F(150));if(w=C.call(w),w==null)throw Error(F(151));for(var P=C=null,v=m,f=m=0,S=null,R=w.next();v!==null&&!R.done;f++,R=w.next()){v.index>f?(S=v,v=null):S=v.sibling;var x=p(h,v,R.value,y);if(x===null){v===null&&(v=S);break}e&&v&&x.alternate===null&&t(h,v),m=a(x,m,f),P===null?C=x:P.sibling=x,P=x,v=S}if(R.done)return n(h,v),ne&&qt(h,f),C;if(v===null){for(;!R.done;f++,R=w.next())R=g(h,R.value,y),R!==null&&(m=a(R,m,f),P===null?C=R:P.sibling=R,P=R);return ne&&qt(h,f),C}for(v=r(h,v);!R.done;f++,R=w.next())R=E(v,h,f,R.value,y),R!==null&&(e&&R.alternate!==null&&v.delete(R.key===null?f:R.key),m=a(R,m,f),P===null?C=R:P.sibling=R,P=R);return e&&v.forEach(function(j){return t(h,j)}),ne&&qt(h,f),C}function O(h,m,w,y){if(typeof w=="object"&&w!==null&&w.type===xn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case es:e:{for(var C=w.key,P=m;P!==null;){if(P.key===C){if(C=w.type,C===xn){if(P.tag===7){n(h,P.sibling),m=l(P,w.props.children),m.return=h,h=m;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===St&&Yo(C)===P.type){n(h,P.sibling),m=l(P,w.props),m.ref=Yn(h,P,w),m.return=h,h=m;break e}n(h,P);break}else t(h,P);P=P.sibling}w.type===xn?(m=en(w.props.children,h.mode,y,w.key),m.return=h,h=m):(y=Ps(w.type,w.key,w.props,null,h.mode,y),y.ref=Yn(h,m,w),y.return=h,h=y)}return i(h);case gn:e:{for(P=w.key;m!==null;){if(m.key===P)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(h,m.sibling),m=l(m,w.children||[]),m.return=h,h=m;break e}else{n(h,m);break}else t(h,m);m=m.sibling}m=sa(w,h.mode,y),m.return=h,h=m}return i(h);case St:return P=w._init,O(h,m,P(w._payload),y)}if(sr(w))return b(h,m,w,y);if(Jn(w))return _(h,m,w,y);ds(h,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(h,m.sibling),m=l(m,w),m.return=h,h=m):(n(h,m),m=ra(w,h.mode,y),m.return=h,h=m),i(h)):n(h,m)}return O}var Dn=dd(!0),md=dd(!1),qs=Vt(null),Js=null,kn=null,zi=null;function Ti(){zi=kn=Js=null}function Li(e){var t=qs.current;te(qs),e._currentValue=t}function Fa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zn(e,t){Js=e,zi=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(zi!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(Js===null)throw Error(F(308));kn=e,Js.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var Gt=null;function Ii(e){Gt===null?Gt=[e]:Gt.push(e)}function fd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ii(t)):(n.next=l.next,l.next=n),t.interleaved=n,vt(e,r)}function vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kt=!1;function Mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function It(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,vt(e,n)}return l=r.interleaved,l===null?(t.next=t,Ii(r)):(t.next=l.next,l.next=t),r.interleaved=t,vt(e,n)}function bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ni(e,n)}}function Zo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qs(e,t,n,r){var l=e.updateQueue;kt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var g=l.baseState;i=0,d=u=c=null,o=a;do{var p=o.lane,E=o.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:E,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=e,_=o;switch(p=t,E=n,_.tag){case 1:if(b=_.payload,typeof b=="function"){g=b.call(E,g,p);break e}g=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,p=typeof b=="function"?b.call(E,g,p):b,p==null)break e;g=le({},g,p);break e;case 2:kt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=l.effects,p===null?l.effects=[o]:p.push(o))}else E={eventTime:E,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=E,c=g):d=d.next=E,i|=p;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;p=o,o=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);if(d===null&&(c=g),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=d,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);an|=i,e.lanes=i,e.memoizedState=g}}function ec(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(F(191,l));l.call(r)}}}var Hr={},ct=Vt(Hr),Cr=Vt(Hr),Er=Vt(Hr);function Xt(e){if(e===Hr)throw Error(F(174));return e}function Di(e,t){switch(Z(Er,t),Z(Cr,e),Z(ct,Hr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:va(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=va(t,e)}te(ct),Z(ct,t)}function Fn(){te(ct),te(Cr),te(Er)}function hd(e){Xt(Er.current);var t=Xt(ct.current),n=va(t,e.type);t!==n&&(Z(Cr,e),Z(ct,n))}function Fi(e){Cr.current===e&&(te(ct),te(Cr))}var re=Vt(0);function Ks(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xl=[];function Ai(){for(var e=0;e<Xl.length;e++)Xl[e]._workInProgressVersionPrimary=null;Xl.length=0}var Ss=jt.ReactCurrentDispatcher,Yl=jt.ReactCurrentBatchConfig,ln=0,se=null,de=null,fe=null,Gs=!1,mr=!1,Pr=0,Jp=0;function ve(){throw Error(F(321))}function $i(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tt(e[n],t[n]))return!1;return!0}function Ui(e,t,n,r,l,a){if(ln=a,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ss.current=e===null||e.memoizedState===null?Xp:Yp,e=n(r,l),mr){a=0;do{if(mr=!1,Pr=0,25<=a)throw Error(F(301));a+=1,fe=de=null,t.updateQueue=null,Ss.current=Zp,e=n(r,l)}while(mr)}if(Ss.current=Xs,t=de!==null&&de.next!==null,ln=0,fe=de=se=null,Gs=!1,t)throw Error(F(300));return e}function Bi(){var e=Pr!==0;return Pr=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?se.memoizedState=fe=e:fe=fe.next=e,fe}function Qe(){if(de===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=fe===null?se.memoizedState:fe.next;if(t!==null)fe=t,de=e;else{if(e===null)throw Error(F(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},fe===null?se.memoizedState=fe=e:fe=fe.next=e}return fe}function Rr(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=Qe(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=de,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var o=i=null,c=null,u=a;do{var d=u.lane;if((ln&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var g={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=g,i=r):c=c.next=g,se.lanes|=d,an|=d}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=o,tt(r,t.memoizedState)||(Pe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,se.lanes|=a,an|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ea(e){var t=Qe(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);tt(a,t.memoizedState)||(Pe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function gd(){}function xd(e,t){var n=se,r=Qe(),l=t(),a=!tt(r.memoizedState,l);if(a&&(r.memoizedState=l,Pe=!0),r=r.queue,Hi(jd.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,Or(9,yd.bind(null,n,r,l,t),void 0,null),pe===null)throw Error(F(349));ln&30||vd(n,t,l)}return l}function vd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yd(e,t,n,r){t.value=n,t.getSnapshot=r,Nd(t)&&wd(e)}function jd(e,t,n){return n(function(){Nd(t)&&wd(e)})}function Nd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tt(e,n)}catch{return!0}}function wd(e){var t=vt(e,1);t!==null&&et(t,e,1,-1)}function tc(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:e},t.queue=e,e=e.dispatch=Gp.bind(null,se,e),[t.memoizedState,e]}function Or(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bd(){return Qe().memoizedState}function ks(e,t,n,r){var l=lt();se.flags|=e,l.memoizedState=Or(1|t,n,void 0,r===void 0?null:r)}function pl(e,t,n,r){var l=Qe();r=r===void 0?null:r;var a=void 0;if(de!==null){var i=de.memoizedState;if(a=i.destroy,r!==null&&$i(r,i.deps)){l.memoizedState=Or(t,n,a,r);return}}se.flags|=e,l.memoizedState=Or(1|t,n,a,r)}function nc(e,t){return ks(8390656,8,e,t)}function Hi(e,t){return pl(2048,8,e,t)}function Sd(e,t){return pl(4,2,e,t)}function kd(e,t){return pl(4,4,e,t)}function _d(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cd(e,t,n){return n=n!=null?n.concat([e]):null,pl(4,4,_d.bind(null,t,e),n)}function Vi(){}function Ed(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$i(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pd(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$i(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Rd(e,t,n){return ln&21?(tt(n,t)||(n=Iu(),se.lanes|=n,an|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=n)}function Qp(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Yl.transition;Yl.transition={};try{e(!1),t()}finally{Y=n,Yl.transition=r}}function Od(){return Qe().memoizedState}function Kp(e,t,n){var r=Dt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zd(e))Td(t,n);else if(n=fd(e,t,n,r),n!==null){var l=ke();et(n,e,r,l),Ld(n,t,r)}}function Gp(e,t,n){var r=Dt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zd(e))Td(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,tt(o,i)){var c=t.interleaved;c===null?(l.next=l,Ii(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=fd(e,t,l,r),n!==null&&(l=ke(),et(n,e,r,l),Ld(n,t,r))}}function zd(e){var t=e.alternate;return e===se||t!==null&&t===se}function Td(e,t){mr=Gs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ld(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ni(e,n)}}var Xs={readContext:Je,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Xp={readContext:Je,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:nc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ks(4194308,4,_d.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return ks(4,2,e,t)},useMemo:function(e,t){var n=lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Kp.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:tc,useDebugValue:Vi,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=tc(!1),t=e[0];return e=Qp.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,l=lt();if(ne){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),pe===null)throw Error(F(349));ln&30||vd(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,nc(jd.bind(null,r,a,e),[e]),r.flags|=2048,Or(9,yd.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=lt(),t=pe.identifierPrefix;if(ne){var n=ft,r=mt;n=(r&~(1<<32-Ze(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yp={readContext:Je,useCallback:Ed,useContext:Je,useEffect:Hi,useImperativeHandle:Cd,useInsertionEffect:Sd,useLayoutEffect:kd,useMemo:Pd,useReducer:Zl,useRef:bd,useState:function(){return Zl(Rr)},useDebugValue:Vi,useDeferredValue:function(e){var t=Qe();return Rd(t,de.memoizedState,e)},useTransition:function(){var e=Zl(Rr)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:gd,useSyncExternalStore:xd,useId:Od,unstable_isNewReconciler:!1},Zp={readContext:Je,useCallback:Ed,useContext:Je,useEffect:Hi,useImperativeHandle:Cd,useInsertionEffect:Sd,useLayoutEffect:kd,useMemo:Pd,useReducer:ea,useRef:bd,useState:function(){return ea(Rr)},useDebugValue:Vi,useDeferredValue:function(e){var t=Qe();return de===null?t.memoizedState=e:Rd(t,de.memoizedState,e)},useTransition:function(){var e=ea(Rr)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:gd,useSyncExternalStore:xd,useId:Od,unstable_isNewReconciler:!1};function Ge(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Aa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hl={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ke(),l=Dt(e),a=ht(r,l);a.payload=t,n!=null&&(a.callback=n),t=It(e,a,l),t!==null&&(et(t,e,l,r),bs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ke(),l=Dt(e),a=ht(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=It(e,a,l),t!==null&&(et(t,e,l,r),bs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ke(),r=Dt(e),l=ht(n,r);l.tag=2,t!=null&&(l.callback=t),t=It(e,l,r),t!==null&&(et(t,e,r,n),bs(t,e,r))}};function rc(e,t,n,r,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!br(n,r)||!br(l,a):!0}function Id(e,t,n){var r=!1,l=Bt,a=t.contextType;return typeof a=="object"&&a!==null?a=Je(a):(l=ze(t)?rn:we.current,r=t.contextTypes,a=(r=r!=null)?In(e,l):Bt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function sc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hl.enqueueReplaceState(t,t.state,null)}function $a(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Mi(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=Je(a):(a=ze(t)?rn:we.current,l.context=In(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Aa(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&hl.enqueueReplaceState(l,l.state,null),Qs(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function An(e,t){try{var n="",r=t;do n+=Cf(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function ta(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ua(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eh=typeof WeakMap=="function"?WeakMap:Map;function Md(e,t,n){n=ht(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zs||(Zs=!0,Xa=r),Ua(e,t)},n}function Dd(e,t,n){n=ht(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ua(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ua(e,t),typeof r!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function lc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eh;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=ph.bind(null,e,t,n),t.then(e,e))}function ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ic(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ht(-1,1),t.tag=2,It(n,t,1))),n.lanes|=1),e)}var th=jt.ReactCurrentOwner,Pe=!1;function Se(e,t,n,r){t.child=e===null?md(t,null,n,r):Dn(t,e.child,n,r)}function oc(e,t,n,r,l){n=n.render;var a=t.ref;return zn(t,l),r=Ui(e,t,n,r,a,l),n=Bi(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,yt(e,t,l)):(ne&&n&&Pi(t),t.flags|=1,Se(e,t,r,l),t.child)}function cc(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!Yi(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Fd(e,t,a,r,l)):(e=Ps(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:br,n(i,r)&&e.ref===t.ref)return yt(e,t,l)}return t.flags|=1,e=Ft(a,r),e.ref=t.ref,e.return=t,t.child=e}function Fd(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(br(a,r)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=r=a,(e.lanes&l)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,yt(e,t,l)}return Ba(e,t,n,r,l)}function Ad(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Cn,Me),Me|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Cn,Me),Me|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Z(Cn,Me),Me|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Z(Cn,Me),Me|=r;return Se(e,t,l,n),t.child}function $d(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ba(e,t,n,r,l){var a=ze(n)?rn:we.current;return a=In(t,a),zn(t,l),n=Ui(e,t,n,r,a,l),r=Bi(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,yt(e,t,l)):(ne&&r&&Pi(t),t.flags|=1,Se(e,t,n,l),t.child)}function uc(e,t,n,r,l){if(ze(n)){var a=!0;Hs(t)}else a=!1;if(zn(t,l),t.stateNode===null)_s(e,t),Id(t,n,r),$a(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=ze(n)?rn:we.current,u=In(t,u));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==u)&&sc(t,i,r,u),kt=!1;var p=t.memoizedState;i.state=p,Qs(t,r,i,l),c=t.memoizedState,o!==r||p!==c||Oe.current||kt?(typeof d=="function"&&(Aa(t,n,d,r),c=t.memoizedState),(o=kt||rc(t,n,o,r,p,c,u))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,pd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ge(t.type,o),i.props=u,g=t.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Je(c):(c=ze(n)?rn:we.current,c=In(t,c));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==g||p!==c)&&sc(t,i,r,c),kt=!1,p=t.memoizedState,i.state=p,Qs(t,r,i,l);var b=t.memoizedState;o!==g||p!==b||Oe.current||kt?(typeof E=="function"&&(Aa(t,n,E,r),b=t.memoizedState),(u=kt||rc(t,n,u,r,p,b,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),i.props=r,i.state=b,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ha(e,t,n,r,a,l)}function Ha(e,t,n,r,l,a){$d(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Ko(t,n,!1),yt(e,t,a);r=t.stateNode,th.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Dn(t,e.child,null,a),t.child=Dn(t,null,o,a)):Se(e,t,o,a),t.memoizedState=r.state,l&&Ko(t,n,!0),t.child}function Ud(e){var t=e.stateNode;t.pendingContext?Qo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qo(e,t.context,!1),Di(e,t.containerInfo)}function dc(e,t,n,r,l){return Mn(),Oi(l),t.flags|=256,Se(e,t,n,r),t.child}var Va={dehydrated:null,treeContext:null,retryLane:0};function Wa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bd(e,t,n){var r=t.pendingProps,l=re.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Z(re,l&1),e===null)return Da(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=vl(i,r,0,null),e=en(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Wa(n),t.memoizedState=Va,e):Wi(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return nh(e,t,i,r,o,l,n);if(a){a=r.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ft(l,c),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=Ft(o,a):(a=en(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Wa(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Va,r}return a=e.child,e=a.sibling,r=Ft(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wi(e,t){return t=vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ms(e,t,n,r){return r!==null&&Oi(r),Dn(t,e.child,null,n),e=Wi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nh(e,t,n,r,l,a,i){if(n)return t.flags&256?(t.flags&=-257,r=ta(Error(F(422))),ms(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=vl({mode:"visible",children:r.children},l,0,null),a=en(a,l,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Dn(t,e.child,null,i),t.child.memoizedState=Wa(i),t.memoizedState=Va,a);if(!(t.mode&1))return ms(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(F(419)),r=ta(a,r,void 0),ms(e,t,i,r)}if(o=(i&e.childLanes)!==0,Pe||o){if(r=pe,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,vt(e,l),et(r,e,l,-1))}return Xi(),r=ta(Error(F(421))),ms(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=hh.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,De=Lt(l.nextSibling),Fe=t,ne=!0,Ye=null,e!==null&&(Be[He++]=mt,Be[He++]=ft,Be[He++]=sn,mt=e.id,ft=e.overflow,sn=t),t=Wi(t,r.children),t.flags|=4096,t)}function mc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fa(e.return,t,n)}function na(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function Hd(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(Se(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mc(e,n,t);else if(e.tag===19)mc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Z(re,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ks(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),na(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ks(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _s(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),an|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rh(e,t,n){switch(t.tag){case 3:Ud(t),Mn();break;case 5:hd(t);break;case 1:ze(t.type)&&Hs(t);break;case 4:Di(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Z(qs,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Z(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?Bd(e,t,n):(Z(re,re.current&1),e=yt(e,t,n),e!==null?e.sibling:null);Z(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Z(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,Ad(e,t,n)}return yt(e,t,n)}var Vd,qa,Wd,qd;Vd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qa=function(){};Wd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Xt(ct.current);var a=null;switch(n){case"input":l=pa(e,l),r=pa(e,r),a=[];break;case"select":l=le({},l,{value:void 0}),r=le({},r,{value:void 0}),a=[];break;case"textarea":l=xa(e,l),r=xa(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Us)}ya(n,r);var i;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gr.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(o=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ee("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};qd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zn(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sh(e,t,n){var r=t.pendingProps;switch(Ri(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return ze(t.type)&&Bs(),ye(t),null;case 3:return r=t.stateNode,Fn(),te(Oe),te(we),Ai(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ye!==null&&(ei(Ye),Ye=null))),qa(e,t),ye(t),null;case 5:Fi(t);var l=Xt(Er.current);if(n=t.type,e!==null&&t.stateNode!=null)Wd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return ye(t),null}if(e=Xt(ct.current),us(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[at]=t,r[_r]=a,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(l=0;l<ar.length;l++)ee(ar[l],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":No(r,a),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ee("invalid",r);break;case"textarea":bo(r,a),ee("invalid",r)}ya(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&cs(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&cs(r.textContent,o,e),l=["children",""+o]):gr.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ee("scroll",r)}switch(n){case"input":ts(r),wo(r,a,!0);break;case"textarea":ts(r),So(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Us)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ju(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[at]=t,e[_r]=r,Vd(e,t,!1,!1),t.stateNode=e;e:{switch(i=ja(n,r),n){case"dialog":ee("cancel",e),ee("close",e),l=r;break;case"iframe":case"object":case"embed":ee("load",e),l=r;break;case"video":case"audio":for(l=0;l<ar.length;l++)ee(ar[l],e);l=r;break;case"source":ee("error",e),l=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),l=r;break;case"details":ee("toggle",e),l=r;break;case"input":No(e,r),l=pa(e,r),ee("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=le({},r,{value:void 0}),ee("invalid",e);break;case"textarea":bo(e,r),l=xa(e,r),ee("invalid",e);break;default:l=r}ya(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?bu(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nu(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&xr(e,c):typeof c=="number"&&xr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(gr.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ee("scroll",e):c!=null&&hi(e,a,c,i))}switch(n){case"input":ts(e),wo(e,r,!1);break;case"textarea":ts(e),So(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ut(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?En(e,!!r.multiple,a,!1):r.defaultValue!=null&&En(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Us)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ye(t),null;case 6:if(e&&t.stateNode!=null)qd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=Xt(Er.current),Xt(ct.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[at]=t,(a=r.nodeValue!==n)&&(e=Fe,e!==null))switch(e.tag){case 3:cs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cs(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[at]=t,t.stateNode=r}return ye(t),null;case 13:if(te(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&De!==null&&t.mode&1&&!(t.flags&128))ud(),Mn(),t.flags|=98560,a=!1;else if(a=us(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[at]=t}else Mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),a=!1}else Ye!==null&&(ei(Ye),Ye=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?me===0&&(me=3):Xi())),t.updateQueue!==null&&(t.flags|=4),ye(t),null);case 4:return Fn(),qa(e,t),e===null&&Sr(t.stateNode.containerInfo),ye(t),null;case 10:return Li(t.type._context),ye(t),null;case 17:return ze(t.type)&&Bs(),ye(t),null;case 19:if(te(re),a=t.memoizedState,a===null)return ye(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Zn(a,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ks(e),i!==null){for(t.flags|=128,Zn(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(re,re.current&1|2),t.child}e=e.sibling}a.tail!==null&&oe()>$n&&(t.flags|=128,r=!0,Zn(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ks(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ne)return ye(t),null}else 2*oe()-a.renderingStartTime>$n&&n!==1073741824&&(t.flags|=128,r=!0,Zn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=oe(),t.sibling=null,n=re.current,Z(re,r?n&1|2:n&1),t):(ye(t),null);case 22:case 23:return Gi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Me&1073741824&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function lh(e,t){switch(Ri(t),t.tag){case 1:return ze(t.type)&&Bs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(),te(Oe),te(we),Ai(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fi(t),null;case 13:if(te(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(re),null;case 4:return Fn(),null;case 10:return Li(t.type._context),null;case 22:case 23:return Gi(),null;case 24:return null;default:return null}}var fs=!1,je=!1,ah=typeof WeakSet=="function"?WeakSet:Set,H=null;function _n(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function Ja(e,t,n){try{n()}catch(r){ie(e,t,r)}}var fc=!1;function ih(e,t){if(Ra=Fs,e=Xu(),Ei(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,d=0,g=e,p=null;t:for(;;){for(var E;g!==n||l!==0&&g.nodeType!==3||(o=i+l),g!==a||r!==0&&g.nodeType!==3||(c=i+r),g.nodeType===3&&(i+=g.nodeValue.length),(E=g.firstChild)!==null;)p=g,g=E;for(;;){if(g===e)break t;if(p===n&&++u===l&&(o=i),p===a&&++d===r&&(c=i),(E=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=E}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oa={focusedElem:e,selectionRange:n},Fs=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,O=b.memoizedState,h=t.stateNode,m=h.getSnapshotBeforeUpdate(t.elementType===t.type?_:Ge(t.type,_),O);h.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(y){ie(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return b=fc,fc=!1,b}function fr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Ja(t,n,a)}l=l.next}while(l!==r)}}function gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jd(e){var t=e.alternate;t!==null&&(e.alternate=null,Jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[_r],delete t[La],delete t[Hp],delete t[Vp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qd(e){return e.tag===5||e.tag===3||e.tag===4}function pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ka(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Us));else if(r!==4&&(e=e.child,e!==null))for(Ka(e,t,n),e=e.sibling;e!==null;)Ka(e,t,n),e=e.sibling}function Ga(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ga(e,t,n),e=e.sibling;e!==null;)Ga(e,t,n),e=e.sibling}var he=null,Xe=!1;function bt(e,t,n){for(n=n.child;n!==null;)Kd(e,t,n),n=n.sibling}function Kd(e,t,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(ol,n)}catch{}switch(n.tag){case 5:je||_n(n,t);case 6:var r=he,l=Xe;he=null,bt(e,t,n),he=r,Xe=l,he!==null&&(Xe?(e=he,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(Xe?(e=he,n=n.stateNode,e.nodeType===8?Kl(e.parentNode,n):e.nodeType===1&&Kl(e,n),Nr(e)):Kl(he,n.stateNode));break;case 4:r=he,l=Xe,he=n.stateNode.containerInfo,Xe=!0,bt(e,t,n),he=r,Xe=l;break;case 0:case 11:case 14:case 15:if(!je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Ja(n,t,i),l=l.next}while(l!==r)}bt(e,t,n);break;case 1:if(!je&&(_n(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ie(n,t,o)}bt(e,t,n);break;case 21:bt(e,t,n);break;case 22:n.mode&1?(je=(r=je)||n.memoizedState!==null,bt(e,t,n),je=r):bt(e,t,n);break;default:bt(e,t,n)}}function hc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ah),t.forEach(function(r){var l=gh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Ke(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:he=o.stateNode,Xe=!1;break e;case 3:he=o.stateNode.containerInfo,Xe=!0;break e;case 4:he=o.stateNode.containerInfo,Xe=!0;break e}o=o.return}if(he===null)throw Error(F(160));Kd(a,i,l),he=null,Xe=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){ie(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gd(t,e),t=t.sibling}function Gd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),rt(e),r&4){try{fr(3,e,e.return),gl(3,e)}catch(_){ie(e,e.return,_)}try{fr(5,e,e.return)}catch(_){ie(e,e.return,_)}}break;case 1:Ke(t,e),rt(e),r&512&&n!==null&&_n(n,n.return);break;case 5:if(Ke(t,e),rt(e),r&512&&n!==null&&_n(n,n.return),e.flags&32){var l=e.stateNode;try{xr(l,"")}catch(_){ie(e,e.return,_)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&vu(l,a),ja(o,i);var u=ja(o,a);for(i=0;i<c.length;i+=2){var d=c[i],g=c[i+1];d==="style"?bu(l,g):d==="dangerouslySetInnerHTML"?Nu(l,g):d==="children"?xr(l,g):hi(l,d,g,u)}switch(o){case"input":ha(l,a);break;case"textarea":yu(l,a);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?En(l,!!a.multiple,E,!1):p!==!!a.multiple&&(a.defaultValue!=null?En(l,!!a.multiple,a.defaultValue,!0):En(l,!!a.multiple,a.multiple?[]:"",!1))}l[_r]=a}catch(_){ie(e,e.return,_)}}break;case 6:if(Ke(t,e),rt(e),r&4){if(e.stateNode===null)throw Error(F(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(_){ie(e,e.return,_)}}break;case 3:if(Ke(t,e),rt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nr(t.containerInfo)}catch(_){ie(e,e.return,_)}break;case 4:Ke(t,e),rt(e);break;case 13:Ke(t,e),rt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Qi=oe())),r&4&&hc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(je=(u=je)||d,Ke(t,e),je=u):Ke(t,e),rt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(g=H=d;H!==null;){switch(p=H,E=p.child,p.tag){case 0:case 11:case 14:case 15:fr(4,p,p.return);break;case 1:_n(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(_){ie(r,n,_)}}break;case 5:_n(p,p.return);break;case 22:if(p.memoizedState!==null){xc(g);continue}}E!==null?(E.return=p,H=E):xc(g)}d=d.sibling}e:for(d=null,g=e;;){if(g.tag===5){if(d===null){d=g;try{l=g.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=g.stateNode,c=g.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=wu("display",i))}catch(_){ie(e,e.return,_)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(_){ie(e,e.return,_)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ke(t,e),rt(e),r&4&&hc(e);break;case 21:break;default:Ke(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qd(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(xr(l,""),r.flags&=-33);var a=pc(e);Ga(e,a,l);break;case 3:case 4:var i=r.stateNode.containerInfo,o=pc(e);Ka(e,o,i);break;default:throw Error(F(161))}}catch(c){ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oh(e,t,n){H=e,Xd(e)}function Xd(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var l=H,a=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||fs;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||je;o=fs;var u=je;if(fs=i,(je=c)&&!u)for(H=l;H!==null;)i=H,c=i.child,i.tag===22&&i.memoizedState!==null?vc(l):c!==null?(c.return=i,H=c):vc(l);for(;a!==null;)H=a,Xd(a),a=a.sibling;H=l,fs=o,je=u}gc(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,H=a):gc(e)}}function gc(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||gl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!je)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ge(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ec(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ec(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&Nr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}je||t.flags&512&&Qa(t)}catch(p){ie(t,t.return,p)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function xc(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function vc(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gl(4,t)}catch(c){ie(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){ie(t,l,c)}}var a=t.return;try{Qa(t)}catch(c){ie(t,a,c)}break;case 5:var i=t.return;try{Qa(t)}catch(c){ie(t,i,c)}}}catch(c){ie(t,t.return,c)}if(t===e){H=null;break}var o=t.sibling;if(o!==null){o.return=t.return,H=o;break}H=t.return}}var ch=Math.ceil,Ys=jt.ReactCurrentDispatcher,qi=jt.ReactCurrentOwner,We=jt.ReactCurrentBatchConfig,X=0,pe=null,ce=null,ge=0,Me=0,Cn=Vt(0),me=0,zr=null,an=0,xl=0,Ji=0,pr=null,Ee=null,Qi=0,$n=1/0,ut=null,Zs=!1,Xa=null,Mt=null,ps=!1,Pt=null,el=0,hr=0,Ya=null,Cs=-1,Es=0;function ke(){return X&6?oe():Cs!==-1?Cs:Cs=oe()}function Dt(e){return e.mode&1?X&2&&ge!==0?ge&-ge:qp.transition!==null?(Es===0&&(Es=Iu()),Es):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Bu(e.type)),e):1}function et(e,t,n,r){if(50<hr)throw hr=0,Ya=null,Error(F(185));$r(e,n,r),(!(X&2)||e!==pe)&&(e===pe&&(!(X&2)&&(xl|=n),me===4&&Ct(e,ge)),Te(e,r),n===1&&X===0&&!(t.mode&1)&&($n=oe()+500,fl&&Wt()))}function Te(e,t){var n=e.callbackNode;qf(e,t);var r=Ds(e,e===pe?ge:0);if(r===0)n!==null&&Co(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Co(n),t===1)e.tag===0?Wp(yc.bind(null,e)):id(yc.bind(null,e)),Up(function(){!(X&6)&&Wt()}),n=null;else{switch(Mu(r)){case 1:n=ji;break;case 4:n=Tu;break;case 16:n=Ms;break;case 536870912:n=Lu;break;default:n=Ms}n=lm(n,Yd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yd(e,t){if(Cs=-1,Es=0,X&6)throw Error(F(327));var n=e.callbackNode;if(Tn()&&e.callbackNode!==n)return null;var r=Ds(e,e===pe?ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=tl(e,r);else{t=r;var l=X;X|=2;var a=em();(pe!==e||ge!==t)&&(ut=null,$n=oe()+500,Zt(e,t));do try{mh();break}catch(o){Zd(e,o)}while(!0);Ti(),Ys.current=a,X=l,ce!==null?t=0:(pe=null,ge=0,t=me)}if(t!==0){if(t===2&&(l=ka(e),l!==0&&(r=l,t=Za(e,l))),t===1)throw n=zr,Zt(e,0),Ct(e,r),Te(e,oe()),n;if(t===6)Ct(e,r);else{if(l=e.current.alternate,!(r&30)&&!uh(l)&&(t=tl(e,r),t===2&&(a=ka(e),a!==0&&(r=a,t=Za(e,a))),t===1))throw n=zr,Zt(e,0),Ct(e,r),Te(e,oe()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Jt(e,Ee,ut);break;case 3:if(Ct(e,r),(r&130023424)===r&&(t=Qi+500-oe(),10<t)){if(Ds(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){ke(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ta(Jt.bind(null,e,Ee,ut),t);break}Jt(e,Ee,ut);break;case 4:if(Ct(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-Ze(r);a=1<<i,i=t[i],i>l&&(l=i),r&=~a}if(r=l,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ch(r/1960))-r,10<r){e.timeoutHandle=Ta(Jt.bind(null,e,Ee,ut),r);break}Jt(e,Ee,ut);break;case 5:Jt(e,Ee,ut);break;default:throw Error(F(329))}}}return Te(e,oe()),e.callbackNode===n?Yd.bind(null,e):null}function Za(e,t){var n=pr;return e.current.memoizedState.isDehydrated&&(Zt(e,t).flags|=256),e=tl(e,t),e!==2&&(t=Ee,Ee=n,t!==null&&ei(t)),e}function ei(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function uh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!tt(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ct(e,t){for(t&=~Ji,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ze(t),r=1<<n;e[n]=-1,t&=~r}}function yc(e){if(X&6)throw Error(F(327));Tn();var t=Ds(e,0);if(!(t&1))return Te(e,oe()),null;var n=tl(e,t);if(e.tag!==0&&n===2){var r=ka(e);r!==0&&(t=r,n=Za(e,r))}if(n===1)throw n=zr,Zt(e,0),Ct(e,t),Te(e,oe()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jt(e,Ee,ut),Te(e,oe()),null}function Ki(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&($n=oe()+500,fl&&Wt())}}function on(e){Pt!==null&&Pt.tag===0&&!(X&6)&&Tn();var t=X;X|=1;var n=We.transition,r=Y;try{if(We.transition=null,Y=1,e)return e()}finally{Y=r,We.transition=n,X=t,!(X&6)&&Wt()}}function Gi(){Me=Cn.current,te(Cn)}function Zt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$p(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(Ri(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bs();break;case 3:Fn(),te(Oe),te(we),Ai();break;case 5:Fi(r);break;case 4:Fn();break;case 13:te(re);break;case 19:te(re);break;case 10:Li(r.type._context);break;case 22:case 23:Gi()}n=n.return}if(pe=e,ce=e=Ft(e.current,null),ge=Me=t,me=0,zr=null,Ji=xl=an=0,Ee=pr=null,Gt!==null){for(t=0;t<Gt.length;t++)if(n=Gt[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,r.next=i}n.pending=r}Gt=null}return e}function Zd(e,t){do{var n=ce;try{if(Ti(),Ss.current=Xs,Gs){for(var r=se.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Gs=!1}if(ln=0,fe=de=se=null,mr=!1,Pr=0,qi.current=null,n===null||n.return===null){me=1,zr=t,ce=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=ge,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=ac(i);if(E!==null){E.flags&=-257,ic(E,i,o,a,t),E.mode&1&&lc(a,u,t),t=E,c=u;var b=t.updateQueue;if(b===null){var _=new Set;_.add(c),t.updateQueue=_}else b.add(c);break e}else{if(!(t&1)){lc(a,u,t),Xi();break e}c=Error(F(426))}}else if(ne&&o.mode&1){var O=ac(i);if(O!==null){!(O.flags&65536)&&(O.flags|=256),ic(O,i,o,a,t),Oi(An(c,o));break e}}a=c=An(c,o),me!==4&&(me=2),pr===null?pr=[a]:pr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=Md(a,c,t);Zo(a,h);break e;case 1:o=c;var m=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Mt===null||!Mt.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var y=Dd(a,o,t);Zo(a,y);break e}}a=a.return}while(a!==null)}nm(n)}catch(C){t=C,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function em(){var e=Ys.current;return Ys.current=Xs,e===null?Xs:e}function Xi(){(me===0||me===3||me===2)&&(me=4),pe===null||!(an&268435455)&&!(xl&268435455)||Ct(pe,ge)}function tl(e,t){var n=X;X|=2;var r=em();(pe!==e||ge!==t)&&(ut=null,Zt(e,t));do try{dh();break}catch(l){Zd(e,l)}while(!0);if(Ti(),X=n,Ys.current=r,ce!==null)throw Error(F(261));return pe=null,ge=0,me}function dh(){for(;ce!==null;)tm(ce)}function mh(){for(;ce!==null&&!Df();)tm(ce)}function tm(e){var t=sm(e.alternate,e,Me);e.memoizedProps=e.pendingProps,t===null?nm(e):ce=t,qi.current=null}function nm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=lh(n,t),n!==null){n.flags&=32767,ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,ce=null;return}}else if(n=sh(n,t,Me),n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);me===0&&(me=5)}function Jt(e,t,n){var r=Y,l=We.transition;try{We.transition=null,Y=1,fh(e,t,n,r)}finally{We.transition=l,Y=r}return null}function fh(e,t,n,r){do Tn();while(Pt!==null);if(X&6)throw Error(F(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Jf(e,a),e===pe&&(ce=pe=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ps||(ps=!0,lm(Ms,function(){return Tn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=We.transition,We.transition=null;var i=Y;Y=1;var o=X;X|=4,qi.current=null,ih(e,n),Gd(n,e),Tp(Oa),Fs=!!Ra,Oa=Ra=null,e.current=n,oh(n),Ff(),X=o,Y=i,We.transition=a}else e.current=n;if(ps&&(ps=!1,Pt=e,el=l),a=e.pendingLanes,a===0&&(Mt=null),Uf(n.stateNode),Te(e,oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Zs)throw Zs=!1,e=Xa,Xa=null,e;return el&1&&e.tag!==0&&Tn(),a=e.pendingLanes,a&1?e===Ya?hr++:(hr=0,Ya=e):hr=0,Wt(),null}function Tn(){if(Pt!==null){var e=Mu(el),t=We.transition,n=Y;try{if(We.transition=null,Y=16>e?16:e,Pt===null)var r=!1;else{if(e=Pt,Pt=null,el=0,X&6)throw Error(F(331));var l=X;for(X|=4,H=e.current;H!==null;){var a=H,i=a.child;if(H.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:fr(8,d,a)}var g=d.child;if(g!==null)g.return=d,H=g;else for(;H!==null;){d=H;var p=d.sibling,E=d.return;if(Jd(d),d===u){H=null;break}if(p!==null){p.return=E,H=p;break}H=E}}}var b=a.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var O=_.sibling;_.sibling=null,_=O}while(_!==null)}}H=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,H=i;else e:for(;H!==null;){if(a=H,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fr(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,H=h;break e}H=a.return}}var m=e.current;for(H=m;H!==null;){i=H;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,H=w;else e:for(i=m;H!==null;){if(o=H,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:gl(9,o)}}catch(C){ie(o,o.return,C)}if(o===i){H=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,H=y;break e}H=o.return}}if(X=l,Wt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(ol,e)}catch{}r=!0}return r}finally{Y=n,We.transition=t}}return!1}function jc(e,t,n){t=An(n,t),t=Md(e,t,1),e=It(e,t,1),t=ke(),e!==null&&($r(e,1,t),Te(e,t))}function ie(e,t,n){if(e.tag===3)jc(e,e,n);else for(;t!==null;){if(t.tag===3){jc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mt===null||!Mt.has(r))){e=An(n,e),e=Dd(t,e,1),t=It(t,e,1),e=ke(),t!==null&&($r(t,1,e),Te(t,e));break}}t=t.return}}function ph(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&n,pe===e&&(ge&n)===n&&(me===4||me===3&&(ge&130023424)===ge&&500>oe()-Qi?Zt(e,0):Ji|=n),Te(e,t)}function rm(e,t){t===0&&(e.mode&1?(t=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):t=1);var n=ke();e=vt(e,t),e!==null&&($r(e,t,n),Te(e,n))}function hh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rm(e,n)}function gh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),rm(e,n)}var sm;sm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Pe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pe=!1,rh(e,t,n);Pe=!!(e.flags&131072)}else Pe=!1,ne&&t.flags&1048576&&od(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_s(e,t),e=t.pendingProps;var l=In(t,we.current);zn(t,n),l=Ui(null,t,r,e,l,n);var a=Bi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(a=!0,Hs(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Mi(t),l.updater=hl,t.stateNode=l,l._reactInternals=t,$a(t,r,e,n),t=Ha(null,t,r,!0,a,n)):(t.tag=0,ne&&a&&Pi(t),Se(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_s(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=vh(r),e=Ge(r,e),l){case 0:t=Ba(null,t,r,e,n);break e;case 1:t=uc(null,t,r,e,n);break e;case 11:t=oc(null,t,r,e,n);break e;case 14:t=cc(null,t,r,Ge(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ge(r,l),Ba(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ge(r,l),uc(e,t,r,l,n);case 3:e:{if(Ud(t),e===null)throw Error(F(387));r=t.pendingProps,a=t.memoizedState,l=a.element,pd(e,t),Qs(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=An(Error(F(423)),t),t=dc(e,t,r,n,l);break e}else if(r!==l){l=An(Error(F(424)),t),t=dc(e,t,r,n,l);break e}else for(De=Lt(t.stateNode.containerInfo.firstChild),Fe=t,ne=!0,Ye=null,n=md(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mn(),r===l){t=yt(e,t,n);break e}Se(e,t,r,n)}t=t.child}return t;case 5:return hd(t),e===null&&Da(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,za(r,l)?i=null:a!==null&&za(r,a)&&(t.flags|=32),$d(e,t),Se(e,t,i,n),t.child;case 6:return e===null&&Da(t),null;case 13:return Bd(e,t,n);case 4:return Di(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dn(t,null,r,n):Se(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ge(r,l),oc(e,t,r,l,n);case 7:return Se(e,t,t.pendingProps,n),t.child;case 8:return Se(e,t,t.pendingProps.children,n),t.child;case 12:return Se(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,Z(qs,r._currentValue),r._currentValue=i,a!==null)if(tt(a.value,i)){if(a.children===l.children&&!Oe.current){t=yt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ht(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Fa(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(F(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Fa(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Se(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,zn(t,n),l=Je(l),r=r(l),t.flags|=1,Se(e,t,r,n),t.child;case 14:return r=t.type,l=Ge(r,t.pendingProps),l=Ge(r.type,l),cc(e,t,r,l,n);case 15:return Fd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ge(r,l),_s(e,t),t.tag=1,ze(r)?(e=!0,Hs(t)):e=!1,zn(t,n),Id(t,r,l),$a(t,r,l,n),Ha(null,t,r,!0,e,n);case 19:return Hd(e,t,n);case 22:return Ad(e,t,n)}throw Error(F(156,t.tag))};function lm(e,t){return zu(e,t)}function xh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,r){return new xh(e,t,n,r)}function Yi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vh(e){if(typeof e=="function")return Yi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xi)return 11;if(e===vi)return 14}return 2}function Ft(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ps(e,t,n,r,l,a){var i=2;if(r=e,typeof e=="function")Yi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case xn:return en(n.children,l,a,t);case gi:i=8,l|=8;break;case ua:return e=Ve(12,n,t,l|2),e.elementType=ua,e.lanes=a,e;case da:return e=Ve(13,n,t,l),e.elementType=da,e.lanes=a,e;case ma:return e=Ve(19,n,t,l),e.elementType=ma,e.lanes=a,e;case hu:return vl(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fu:i=10;break e;case pu:i=9;break e;case xi:i=11;break e;case vi:i=14;break e;case St:i=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Ve(i,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function en(e,t,n,r){return e=Ve(7,e,r,t),e.lanes=n,e}function vl(e,t,n,r){return e=Ve(22,e,r,t),e.elementType=hu,e.lanes=n,e.stateNode={isHidden:!1},e}function ra(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function sa(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yh(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Zi(e,t,n,r,l,a,i,o,c){return e=new yh(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ve(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mi(a),e}function jh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function am(e){if(!e)return Bt;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(ze(n))return ad(e,n,t)}return t}function im(e,t,n,r,l,a,i,o,c){return e=Zi(n,r,!0,e,l,a,i,o,c),e.context=am(null),n=e.current,r=ke(),l=Dt(n),a=ht(r,l),a.callback=t??null,It(n,a,l),e.current.lanes=l,$r(e,l,r),Te(e,r),e}function yl(e,t,n,r){var l=t.current,a=ke(),i=Dt(l);return n=am(n),t.context===null?t.context=n:t.pendingContext=n,t=ht(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=It(l,t,i),e!==null&&(et(e,l,i,a),bs(e,l,i)),i}function nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eo(e,t){Nc(e,t),(e=e.alternate)&&Nc(e,t)}function Nh(){return null}var om=typeof reportError=="function"?reportError:function(e){console.error(e)};function to(e){this._internalRoot=e}jl.prototype.render=to.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));yl(e,t,null,null)};jl.prototype.unmount=to.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){yl(null,e,null,null)}),t[xt]=null}};function jl(e){this._internalRoot=e}jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Au();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&t!==0&&t<_t[n].priority;n++);_t.splice(n,0,e),n===0&&Uu(e)}};function no(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wc(){}function wh(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var u=nl(i);a.call(u)}}var i=im(t,r,e,0,null,!1,!1,"",wc);return e._reactRootContainer=i,e[xt]=i.current,Sr(e.nodeType===8?e.parentNode:e),on(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var u=nl(c);o.call(u)}}var c=Zi(e,0,!1,null,null,!1,!1,"",wc);return e._reactRootContainer=c,e[xt]=c.current,Sr(e.nodeType===8?e.parentNode:e),on(function(){yl(t,c,n,r)}),c}function wl(e,t,n,r,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=nl(i);o.call(c)}}yl(t,i,e,l)}else i=wh(n,t,e,l,r);return nl(i)}Du=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lr(t.pendingLanes);n!==0&&(Ni(t,n|1),Te(t,oe()),!(X&6)&&($n=oe()+500,Wt()))}break;case 13:on(function(){var r=vt(e,1);if(r!==null){var l=ke();et(r,e,1,l)}}),eo(e,1)}};wi=function(e){if(e.tag===13){var t=vt(e,134217728);if(t!==null){var n=ke();et(t,e,134217728,n)}eo(e,134217728)}};Fu=function(e){if(e.tag===13){var t=Dt(e),n=vt(e,t);if(n!==null){var r=ke();et(n,e,t,r)}eo(e,t)}};Au=function(){return Y};$u=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};wa=function(e,t,n){switch(t){case"input":if(ha(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ml(r);if(!l)throw Error(F(90));xu(r),ha(r,l)}}}break;case"textarea":yu(e,n);break;case"select":t=n.value,t!=null&&En(e,!!n.multiple,t,!1)}};_u=Ki;Cu=on;var bh={usingClientEntryPoint:!1,Events:[Br,Nn,ml,Su,ku,Ki]},er={findFiberByHostInstance:Kt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sh={bundleType:er.bundleType,version:er.version,rendererPackageName:er.rendererPackageName,rendererConfig:er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ru(e),e===null?null:e.stateNode},findFiberByHostInstance:er.findFiberByHostInstance||Nh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{ol=hs.inject(Sh),ot=hs}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bh;$e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!no(t))throw Error(F(200));return jh(e,t,null,n)};$e.createRoot=function(e,t){if(!no(e))throw Error(F(299));var n=!1,r="",l=om;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Zi(e,1,!1,null,null,n,!1,r,l),e[xt]=t.current,Sr(e.nodeType===8?e.parentNode:e),new to(t)};$e.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Ru(t),e=e===null?null:e.stateNode,e};$e.flushSync=function(e){return on(e)};$e.hydrate=function(e,t,n){if(!Nl(t))throw Error(F(200));return wl(null,e,t,!0,n)};$e.hydrateRoot=function(e,t,n){if(!no(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",i=om;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=im(t,null,e,1,n??null,l,!1,a,i),e[xt]=t.current,Sr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new jl(t)};$e.render=function(e,t,n){if(!Nl(t))throw Error(F(200));return wl(null,e,t,!1,n)};$e.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(F(40));return e._reactRootContainer?(on(function(){wl(null,null,e,!1,function(){e._reactRootContainer=null,e[xt]=null})}),!0):!1};$e.unstable_batchedUpdates=Ki;$e.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Nl(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return wl(e,t,n,!1,r)};$e.version="18.3.1-next-f1338f8080-20240426";function cm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cm)}catch(e){console.error(e)}}cm(),cu.exports=$e;var kh=cu.exports,um,bc=kh;um=bc.createRoot,bc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tr.apply(this,arguments)}var Rt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rt||(Rt={}));const Sc="popstate";function _h(e){e===void 0&&(e={});function t(l,a){let{pathname:i="/",search:o="",hash:c=""}=fn(l.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),ti("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(l,a){let i=l.document.querySelector("base"),o="";if(i&&i.getAttribute("href")){let c=l.location.href,u=c.indexOf("#");o=u===-1?c:c.slice(0,u)}return o+"#"+(typeof a=="string"?a:dm(a))}function r(l,a){ro(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Eh(t,n,r,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ro(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ch(){return Math.random().toString(36).substr(2,8)}function kc(e,t){return{usr:e.state,key:e.key,idx:t}}function ti(e,t,n,r){return n===void 0&&(n=null),Tr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fn(t):t,{state:n,key:t&&t.key||r||Ch()})}function dm(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Eh(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:a=!1}=r,i=l.history,o=Rt.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Tr({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function g(){o=Rt.Pop;let O=d(),h=O==null?null:O-u;u=O,c&&c({action:o,location:_.location,delta:h})}function p(O,h){o=Rt.Push;let m=ti(_.location,O,h);n&&n(m,O),u=d()+1;let w=kc(m,u),y=_.createHref(m);try{i.pushState(w,"",y)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;l.location.assign(y)}a&&c&&c({action:o,location:_.location,delta:1})}function E(O,h){o=Rt.Replace;let m=ti(_.location,O,h);n&&n(m,O),u=d();let w=kc(m,u),y=_.createHref(m);i.replaceState(w,"",y),a&&c&&c({action:o,location:_.location,delta:0})}function b(O){let h=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof O=="string"?O:dm(O);return m=m.replace(/ $/,"%20"),ue(h,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,h)}let _={get action(){return o},get location(){return e(l,i)},listen(O){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(Sc,g),c=O,()=>{l.removeEventListener(Sc,g),c=null}},createHref(O){return t(l,O)},createURL:b,encodeLocation(O){let h=b(O);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:E,go(O){return i.go(O)}};return _}var _c;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_c||(_c={}));function Ph(e,t,n){return n===void 0&&(n="/"),Rh(e,t,n)}function Rh(e,t,n,r){let l=typeof t=="string"?fn(t):t,a=pm(l.pathname||"/",n);if(a==null)return null;let i=mm(e);Oh(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=Hh(a);o=$h(i[c],u)}return o}function mm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ue(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=tn([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(ue(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mm(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Fh(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))l(a,i);else for(let c of fm(a.path))l(a,i,c)}),t}function fm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return l?[a,""]:[a];let i=fm(r.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),l&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Oh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ah(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zh=/^:[\w-]+$/,Th=3,Lh=2,Ih=1,Mh=10,Dh=-2,Cc=e=>e==="*";function Fh(e,t){let n=e.split("/"),r=n.length;return n.some(Cc)&&(r+=Dh),t&&(r+=Lh),n.filter(l=>!Cc(l)).reduce((l,a)=>l+(zh.test(a)?Th:a===""?Ih:Mh),r)}function Ah(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function $h(e,t,n){let{routesMeta:r}=e,l={},a="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",g=Uh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!g)return null;Object.assign(l,g.params),i.push({params:l,pathname:tn([a,g.pathname]),pathnameBase:Jh(tn([a,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(a=tn([a,g.pathnameBase]))}return i}function Uh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Bh(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:r.reduce((u,d,g)=>{let{paramName:p,isOptional:E}=d;if(p==="*"){let _=o[g]||"";i=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const b=o[g];return E&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Bh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ro(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Hh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ro(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Vh(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?fn(e):e;return{pathname:n?n.startsWith("/")?n:Wh(n,t):t,search:Qh(r),hash:Kh(l)}}function Wh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function la(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hm(e,t){let n=qh(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gm(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=fn(e):(l=Tr({},e),ue(!l.pathname||!l.pathname.includes("?"),la("?","pathname","search",l)),ue(!l.pathname||!l.pathname.includes("#"),la("#","pathname","hash",l)),ue(!l.search||!l.search.includes("#"),la("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(i==null)o=n;else{let g=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),g-=1;l.pathname=p.join("/")}o=g>=0?t[g]:"/"}let c=Vh(l,o),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const tn=e=>e.join("/").replace(/\/\/+/g,"/"),Jh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Kh=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Gh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xm=["post","put","patch","delete"];new Set(xm);const Xh=["get",...xm];new Set(Xh);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lr(){return Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lr.apply(this,arguments)}const so=k.createContext(null),Yh=k.createContext(null),Vr=k.createContext(null),bl=k.createContext(null),pn=k.createContext({outlet:null,matches:[],isDataRoute:!1}),vm=k.createContext(null);function Wr(){return k.useContext(bl)!=null}function lo(){return Wr()||ue(!1),k.useContext(bl).location}function ym(e){k.useContext(Vr).static||k.useLayoutEffect(e)}function Zh(){let{isDataRoute:e}=k.useContext(pn);return e?mg():eg()}function eg(){Wr()||ue(!1);let e=k.useContext(so),{basename:t,future:n,navigator:r}=k.useContext(Vr),{matches:l}=k.useContext(pn),{pathname:a}=lo(),i=JSON.stringify(hm(l,n.v7_relativeSplatPath)),o=k.useRef(!1);return ym(()=>{o.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let g=gm(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:tn([t,g.pathname])),(d.replace?r.replace:r.push)(g,d.state,d)},[t,r,i,a,e])}function tg(e,t){return ng(e,t)}function ng(e,t,n,r){Wr()||ue(!1);let{navigator:l}=k.useContext(Vr),{matches:a}=k.useContext(pn),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=lo(),d;if(t){var g;let O=typeof t=="string"?fn(t):t;c==="/"||(g=O.pathname)!=null&&g.startsWith(c)||ue(!1),d=O}else d=u;let p=d.pathname||"/",E=p;if(c!=="/"){let O=c.replace(/^\//,"").split("/");E="/"+p.replace(/^\//,"").split("/").slice(O.length).join("/")}let b=Ph(e,{pathname:E}),_=ig(b&&b.map(O=>Object.assign({},O,{params:Object.assign({},o,O.params),pathname:tn([c,l.encodeLocation?l.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?c:tn([c,l.encodeLocation?l.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,n,r);return t&&_?k.createElement(bl.Provider,{value:{location:Lr({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rt.Pop}},_):_}function rg(){let e=dg(),t=Gh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:l},n):null,null)}const sg=k.createElement(rg,null);class lg extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(pn.Provider,{value:this.props.routeContext},k.createElement(vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ag(e){let{routeContext:t,match:n,children:r}=e,l=k.useContext(so);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(pn.Provider,{value:t},r)}function ig(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let d=i.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);d>=0||ue(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let g=i[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=d),g.route.id){let{loaderData:p,errors:E}=n,b=g.route.loader&&p[g.route.id]===void 0&&(!E||E[g.route.id]===void 0);if(g.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,g,p)=>{let E,b=!1,_=null,O=null;n&&(E=o&&g.route.id?o[g.route.id]:void 0,_=g.route.errorElement||sg,c&&(u<0&&p===0?(fg("route-fallback"),b=!0,O=null):u===p&&(b=!0,O=g.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,p+1)),m=()=>{let w;return E?w=_:b?w=O:g.route.Component?w=k.createElement(g.route.Component,null):g.route.element?w=g.route.element:w=d,k.createElement(ag,{match:g,routeContext:{outlet:d,matches:h,isDataRoute:n!=null},children:w})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?k.createElement(lg,{location:n.location,revalidation:n.revalidation,component:_,error:E,children:m(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):m()},null)}var jm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jm||{}),Nm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Nm||{});function og(e){let t=k.useContext(so);return t||ue(!1),t}function cg(e){let t=k.useContext(Yh);return t||ue(!1),t}function ug(e){let t=k.useContext(pn);return t||ue(!1),t}function wm(e){let t=ug(),n=t.matches[t.matches.length-1];return n.route.id||ue(!1),n.route.id}function dg(){var e;let t=k.useContext(vm),n=cg(),r=wm();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function mg(){let{router:e}=og(jm.UseNavigateStable),t=wm(Nm.UseNavigateStable),n=k.useRef(!1);return ym(()=>{n.current=!0}),k.useCallback(function(l,a){a===void 0&&(a={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Lr({fromRouteId:t},a)))},[e,t])}const Ec={};function fg(e,t,n){Ec[e]||(Ec[e]=!0)}function pg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function tr(e){let{to:t,replace:n,state:r,relative:l}=e;Wr()||ue(!1);let{future:a,static:i}=k.useContext(Vr),{matches:o}=k.useContext(pn),{pathname:c}=lo(),u=Zh(),d=gm(t,hm(o,a.v7_relativeSplatPath),c,l==="path"),g=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(g),{replace:n,state:r,relative:l}),[u,g,l,n,r]),null}function Qt(e){ue(!1)}function hg(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Rt.Pop,navigator:a,static:i=!1,future:o}=e;Wr()&&ue(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:a,static:i,future:Lr({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof r=="string"&&(r=fn(r));let{pathname:d="/",search:g="",hash:p="",state:E=null,key:b="default"}=r,_=k.useMemo(()=>{let O=pm(d,c);return O==null?null:{location:{pathname:O,search:g,hash:p,state:E,key:b},navigationType:l}},[c,d,g,p,E,b,l]);return _==null?null:k.createElement(Vr.Provider,{value:u},k.createElement(bl.Provider,{children:n,value:_}))}function gg(e){let{children:t,location:n}=e;return tg(ni(t),n)}new Promise(()=>{});function ni(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(r,l)=>{if(!k.isValidElement(r))return;let a=[...t,l];if(r.type===k.Fragment){n.push.apply(n,ni(r.props.children,a));return}r.type!==Qt&&ue(!1),!r.props.index||!r.props.children||ue(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ni(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const xg="6";try{window.__reactRouterVersion=xg}catch{}const vg="startTransition",Pc=jf[vg];function yg(e){let{basename:t,children:n,future:r,window:l}=e,a=k.useRef();a.current==null&&(a.current=_h({window:l,v5Compat:!0}));let i=a.current,[o,c]=k.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=k.useCallback(g=>{u&&Pc?Pc(()=>c(g)):c(g)},[c,u]);return k.useLayoutEffect(()=>i.listen(d),[i,d]),k.useEffect(()=>pg(r),[r]),k.createElement(hg,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}var Rc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rc||(Rc={}));var Oc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Oc||(Oc={}));var bm={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zc=pt.createContext&&pt.createContext(bm),jg=["attr","size","title"];function Ng(e,t){if(e==null)return{};var n=wg(e,t),r,l;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)r=a[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wg(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rl.apply(this,arguments)}function Tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function sl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tc(Object(n),!0).forEach(function(r){bg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bg(e,t,n){return t=Sg(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sg(e){var t=kg(e,"string");return typeof t=="symbol"?t:t+""}function kg(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sm(e){return e&&e.map((t,n)=>pt.createElement(t.tag,sl({key:n},t.attr),Sm(t.child)))}function G(e){return t=>pt.createElement(_g,rl({attr:sl({},e.attr)},t),Sm(e.child))}function _g(e){var t=n=>{var{attr:r,size:l,title:a}=e,i=Ng(e,jg),o=l||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),pt.createElement("svg",rl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:c,style:sl(sl({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&pt.createElement("title",null,a),e.children)};return zc!==void 0?pt.createElement(zc.Consumer,null,n=>t(n)):t(bm)}function Sl(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function cn(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function it(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function km(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Cg(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Lc(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function Eg(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Ic(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function At(e){return G({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function Pg(e){return G({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function Rg(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function Og(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function ao(e){return G({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function kl(e){return G({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function $t(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function Ir(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function zg(e){return G({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function Tg(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Lg(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function ll(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Ig(e){return G({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M635.7 167.2L556.1 31.7c-8.8-15-28.3-20.1-43.5-11.5l-69 39.1L503.3 161c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L416 75l-55.2 31.3 27.9 47.4c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L333.2 122 278 153.3 337.8 255c2.2 3.7.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9l-59.7-101.7-55.2 31.3 27.9 47.4c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9l-27.9-47.5-55.2 31.3 59.7 101.7c2.2 3.7.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L84.9 262.9l-69 39.1C.7 310.7-4.6 329.8 4.2 344.8l79.6 135.6c8.8 15 28.3 20.1 43.5 11.5L624.1 210c15.2-8.6 20.4-27.8 11.6-42.8z"},child:[]}]})(e)}function Mg(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function qr(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Re(e){return G({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function Dg(e){return G({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z"},child:[]}]})(e)}function Fg(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z"},child:[]}]})(e)}function Ag(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.78 160 16 160zm400 128H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z"},child:[]}]})(e)}function $g(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(e)}function Jr(e){return G({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Un(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Ug(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function _m(e){return G({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(e)}function Bg(e){return G({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function qe(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function gs(e){return G({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Cm(e,t){return function(){return e.apply(t,arguments)}}const{toString:Hg}=Object.prototype,{getPrototypeOf:io}=Object,{iterator:_l,toStringTag:Em}=Symbol,Cl=(e=>t=>{const n=Hg.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nt=e=>(e=e.toLowerCase(),t=>Cl(t)===e),El=e=>t=>typeof t===e,{isArray:Wn}=Array,Mr=El("undefined");function Qr(e){return e!==null&&!Mr(e)&&e.constructor!==null&&!Mr(e.constructor)&&Le(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Pm=nt("ArrayBuffer");function Vg(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Pm(e.buffer),t}const Wg=El("string"),Le=El("function"),Rm=El("number"),Kr=e=>e!==null&&typeof e=="object",qg=e=>e===!0||e===!1,Rs=e=>{if(Cl(e)!=="object")return!1;const t=io(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Em in e)&&!(_l in e)},Jg=e=>{if(!Kr(e)||Qr(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Qg=nt("Date"),Kg=nt("File"),Gg=nt("Blob"),Xg=nt("FileList"),Yg=e=>Kr(e)&&Le(e.pipe),Zg=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Le(e.append)&&((t=Cl(e))==="formdata"||t==="object"&&Le(e.toString)&&e.toString()==="[object FormData]"))},ex=nt("URLSearchParams"),[tx,nx,rx,sx]=["ReadableStream","Request","Response","Headers"].map(nt),lx=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gr(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,l;if(typeof e!="object"&&(e=[e]),Wn(e))for(r=0,l=e.length;r<l;r++)t.call(null,e[r],r,e);else{if(Qr(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let o;for(r=0;r<i;r++)o=a[r],t.call(null,e[o],o,e)}}function Om(e,t){if(Qr(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,l;for(;r-- >0;)if(l=n[r],t===l.toLowerCase())return l;return null}const Yt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zm=e=>!Mr(e)&&e!==Yt;function ri(){const{caseless:e}=zm(this)&&this||{},t={},n=(r,l)=>{const a=e&&Om(t,l)||l;Rs(t[a])&&Rs(r)?t[a]=ri(t[a],r):Rs(r)?t[a]=ri({},r):Wn(r)?t[a]=r.slice():t[a]=r};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&Gr(arguments[r],n);return t}const ax=(e,t,n,{allOwnKeys:r}={})=>(Gr(t,(l,a)=>{n&&Le(l)?e[a]=Cm(l,n):e[a]=l},{allOwnKeys:r}),e),ix=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ox=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},cx=(e,t,n,r)=>{let l,a,i;const o={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),a=l.length;a-- >0;)i=l[a],(!r||r(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=n!==!1&&io(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ux=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},dx=e=>{if(!e)return null;if(Wn(e))return e;let t=e.length;if(!Rm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},mx=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&io(Uint8Array)),fx=(e,t)=>{const r=(e&&e[_l]).call(e);let l;for(;(l=r.next())&&!l.done;){const a=l.value;t.call(e,a[0],a[1])}},px=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},hx=nt("HTMLFormElement"),gx=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,l){return r.toUpperCase()+l}),Mc=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),xx=nt("RegExp"),Tm=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Gr(n,(l,a)=>{let i;(i=t(l,a,e))!==!1&&(r[a]=i||l)}),Object.defineProperties(e,r)},vx=e=>{Tm(e,(t,n)=>{if(Le(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Le(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},yx=(e,t)=>{const n={},r=l=>{l.forEach(a=>{n[a]=!0})};return Wn(e)?r(e):r(String(e).split(t)),n},jx=()=>{},Nx=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function wx(e){return!!(e&&Le(e.append)&&e[Em]==="FormData"&&e[_l])}const bx=e=>{const t=new Array(10),n=(r,l)=>{if(Kr(r)){if(t.indexOf(r)>=0)return;if(Qr(r))return r;if(!("toJSON"in r)){t[l]=r;const a=Wn(r)?[]:{};return Gr(r,(i,o)=>{const c=n(i,l+1);!Mr(c)&&(a[o]=c)}),t[l]=void 0,a}}return r};return n(e,0)},Sx=nt("AsyncFunction"),kx=e=>e&&(Kr(e)||Le(e))&&Le(e.then)&&Le(e.catch),Lm=((e,t)=>e?setImmediate:t?((n,r)=>(Yt.addEventListener("message",({source:l,data:a})=>{l===Yt&&a===n&&r.length&&r.shift()()},!1),l=>{r.push(l),Yt.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Le(Yt.postMessage)),_x=typeof queueMicrotask<"u"?queueMicrotask.bind(Yt):typeof process<"u"&&process.nextTick||Lm,Cx=e=>e!=null&&Le(e[_l]),T={isArray:Wn,isArrayBuffer:Pm,isBuffer:Qr,isFormData:Zg,isArrayBufferView:Vg,isString:Wg,isNumber:Rm,isBoolean:qg,isObject:Kr,isPlainObject:Rs,isEmptyObject:Jg,isReadableStream:tx,isRequest:nx,isResponse:rx,isHeaders:sx,isUndefined:Mr,isDate:Qg,isFile:Kg,isBlob:Gg,isRegExp:xx,isFunction:Le,isStream:Yg,isURLSearchParams:ex,isTypedArray:mx,isFileList:Xg,forEach:Gr,merge:ri,extend:ax,trim:lx,stripBOM:ix,inherits:ox,toFlatObject:cx,kindOf:Cl,kindOfTest:nt,endsWith:ux,toArray:dx,forEachEntry:fx,matchAll:px,isHTMLForm:hx,hasOwnProperty:Mc,hasOwnProp:Mc,reduceDescriptors:Tm,freezeMethods:vx,toObjectSet:yx,toCamelCase:gx,noop:jx,toFiniteNumber:Nx,findKey:Om,global:Yt,isContextDefined:zm,isSpecCompliantForm:wx,toJSONObject:bx,isAsyncFn:Sx,isThenable:kx,setImmediate:Lm,asap:_x,isIterable:Cx};function q(e,t,n,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}T.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Im=q.prototype,Mm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Mm[e]={value:e}});Object.defineProperties(q,Mm);Object.defineProperty(Im,"isAxiosError",{value:!0});q.from=(e,t,n,r,l,a)=>{const i=Object.create(Im);return T.toFlatObject(e,i,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),q.call(i,e.message,t,n,r,l),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Ex=null;function si(e){return T.isPlainObject(e)||T.isArray(e)}function Dm(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Dc(e,t,n){return e?e.concat(t).map(function(l,a){return l=Dm(l),!n&&a?"["+l+"]":l}).join(n?".":""):t}function Px(e){return T.isArray(e)&&!e.some(si)}const Rx=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function Pl(e,t,n){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=T.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,O){return!T.isUndefined(O[_])});const r=n.metaTokens,l=n.visitor||d,a=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(l))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(T.isDate(b))return b.toISOString();if(T.isBoolean(b))return b.toString();if(!c&&T.isBlob(b))throw new q("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(b)||T.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function d(b,_,O){let h=b;if(b&&!O&&typeof b=="object"){if(T.endsWith(_,"{}"))_=r?_:_.slice(0,-2),b=JSON.stringify(b);else if(T.isArray(b)&&Px(b)||(T.isFileList(b)||T.endsWith(_,"[]"))&&(h=T.toArray(b)))return _=Dm(_),h.forEach(function(w,y){!(T.isUndefined(w)||w===null)&&t.append(i===!0?Dc([_],y,a):i===null?_:_+"[]",u(w))}),!1}return si(b)?!0:(t.append(Dc(O,_,a),u(b)),!1)}const g=[],p=Object.assign(Rx,{defaultVisitor:d,convertValue:u,isVisitable:si});function E(b,_){if(!T.isUndefined(b)){if(g.indexOf(b)!==-1)throw Error("Circular reference detected in "+_.join("."));g.push(b),T.forEach(b,function(h,m){(!(T.isUndefined(h)||h===null)&&l.call(t,h,T.isString(m)?m.trim():m,_,p))===!0&&E(h,_?_.concat(m):[m])}),g.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return E(e),t}function Fc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function oo(e,t){this._pairs=[],e&&Pl(e,this,t)}const Fm=oo.prototype;Fm.append=function(t,n){this._pairs.push([t,n])};Fm.toString=function(t){const n=t?function(r){return t.call(this,r,Fc)}:Fc;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function Ox(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Am(e,t,n){if(!t)return e;const r=n&&n.encode||Ox;T.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let a;if(l?a=l(t,n):a=T.isURLSearchParams(t)?t.toString():new oo(t,n).toString(r),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Ac{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(r){r!==null&&t(r)})}}const $m={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zx=typeof URLSearchParams<"u"?URLSearchParams:oo,Tx=typeof FormData<"u"?FormData:null,Lx=typeof Blob<"u"?Blob:null,Ix={isBrowser:!0,classes:{URLSearchParams:zx,FormData:Tx,Blob:Lx},protocols:["http","https","file","blob","url","data"]},co=typeof window<"u"&&typeof document<"u",li=typeof navigator=="object"&&navigator||void 0,Mx=co&&(!li||["ReactNative","NativeScript","NS"].indexOf(li.product)<0),Dx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fx=co&&window.location.href||"http://localhost",Ax=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:co,hasStandardBrowserEnv:Mx,hasStandardBrowserWebWorkerEnv:Dx,navigator:li,origin:Fx},Symbol.toStringTag,{value:"Module"})),Ne={...Ax,...Ix};function $x(e,t){return Pl(e,new Ne.classes.URLSearchParams,{visitor:function(n,r,l,a){return Ne.isNode&&T.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Ux(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Bx(e){const t={},n=Object.keys(e);let r;const l=n.length;let a;for(r=0;r<l;r++)a=n[r],t[a]=e[a];return t}function Um(e){function t(n,r,l,a){let i=n[a++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=a>=n.length;return i=!i&&T.isArray(l)?l.length:i,c?(T.hasOwnProp(l,i)?l[i]=[l[i],r]:l[i]=r,!o):((!l[i]||!T.isObject(l[i]))&&(l[i]=[]),t(n,r,l[i],a)&&T.isArray(l[i])&&(l[i]=Bx(l[i])),!o)}if(T.isFormData(e)&&T.isFunction(e.entries)){const n={};return T.forEachEntry(e,(r,l)=>{t(Ux(r),l,n,0)}),n}return null}function Hx(e,t,n){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Xr={transitional:$m,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",l=r.indexOf("application/json")>-1,a=T.isObject(t);if(a&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return l?JSON.stringify(Um(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $x(t,this.formSerializer).toString();if((o=T.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Pl(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||l?(n.setContentType("application/json",!1),Hx(t)):t}],transformResponse:[function(t){const n=this.transitional||Xr.transitional,r=n&&n.forcedJSONParsing,l=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(r&&!this.responseType||l)){const i=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?q.from(o,q.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ne.classes.FormData,Blob:Ne.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{Xr.headers[e]={}});const Vx=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wx=e=>{const t={};let n,r,l;return e&&e.split(`
`).forEach(function(i){l=i.indexOf(":"),n=i.substring(0,l).trim().toLowerCase(),r=i.substring(l+1).trim(),!(!n||t[n]&&Vx[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},$c=Symbol("internals");function nr(e){return e&&String(e).trim().toLowerCase()}function Os(e){return e===!1||e==null?e:T.isArray(e)?e.map(Os):String(e)}function qx(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Jx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function aa(e,t,n,r,l){if(T.isFunction(r))return r.call(this,t,n);if(l&&(t=n),!!T.isString(t)){if(T.isString(r))return t.indexOf(r)!==-1;if(T.isRegExp(r))return r.test(t)}}function Qx(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Kx(e,t){const n=T.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(l,a,i){return this[r].call(this,t,l,a,i)},configurable:!0})})}let Ie=class{constructor(t){t&&this.set(t)}set(t,n,r){const l=this;function a(o,c,u){const d=nr(c);if(!d)throw new Error("header name must be a non-empty string");const g=T.findKey(l,d);(!g||l[g]===void 0||u===!0||u===void 0&&l[g]!==!1)&&(l[g||c]=Os(o))}const i=(o,c)=>T.forEach(o,(u,d)=>a(u,d,c));if(T.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(T.isString(t)&&(t=t.trim())&&!Jx(t))i(Wx(t),n);else if(T.isObject(t)&&T.isIterable(t)){let o={},c,u;for(const d of t){if(!T.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?T.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(o,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=nr(t),t){const r=T.findKey(this,t);if(r){const l=this[r];if(!n)return l;if(n===!0)return qx(l);if(T.isFunction(n))return n.call(this,l,r);if(T.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=nr(t),t){const r=T.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||aa(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let l=!1;function a(i){if(i=nr(i),i){const o=T.findKey(r,i);o&&(!n||aa(r,r[o],o,n))&&(delete r[o],l=!0)}}return T.isArray(t)?t.forEach(a):a(t),l}clear(t){const n=Object.keys(this);let r=n.length,l=!1;for(;r--;){const a=n[r];(!t||aa(this,this[a],a,t,!0))&&(delete this[a],l=!0)}return l}normalize(t){const n=this,r={};return T.forEach(this,(l,a)=>{const i=T.findKey(r,a);if(i){n[i]=Os(l),delete n[a];return}const o=t?Qx(a):String(a).trim();o!==a&&delete n[a],n[o]=Os(l),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return T.forEach(this,(r,l)=>{r!=null&&r!==!1&&(n[l]=t&&T.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(l=>r.set(l)),r}static accessor(t){const r=(this[$c]=this[$c]={accessors:{}}).accessors,l=this.prototype;function a(i){const o=nr(i);r[o]||(Kx(l,i),r[o]=!0)}return T.isArray(t)?t.forEach(a):a(t),this}};Ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(Ie.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});T.freezeMethods(Ie);function ia(e,t){const n=this||Xr,r=t||n,l=Ie.from(r.headers);let a=r.data;return T.forEach(e,function(o){a=o.call(n,a,l.normalize(),t?t.status:void 0)}),l.normalize(),a}function Bm(e){return!!(e&&e.__CANCEL__)}function qn(e,t,n){q.call(this,e??"canceled",q.ERR_CANCELED,t,n),this.name="CanceledError"}T.inherits(qn,q,{__CANCEL__:!0});function Hm(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new q("Request failed with status code "+n.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Gx(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Xx(e,t){e=e||10;const n=new Array(e),r=new Array(e);let l=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[a];i||(i=u),n[l]=c,r[l]=u;let g=a,p=0;for(;g!==l;)p+=n[g++],g=g%e;if(l=(l+1)%e,l===a&&(a=(a+1)%e),u-i<t)return;const E=d&&u-d;return E?Math.round(p*1e3/E):void 0}}function Yx(e,t){let n=0,r=1e3/t,l,a;const i=(u,d=Date.now())=>{n=d,l=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),g=d-n;g>=r?i(u,d):(l=u,a||(a=setTimeout(()=>{a=null,i(l)},r-g)))},()=>l&&i(l)]}const al=(e,t,n=3)=>{let r=0;const l=Xx(50,250);return Yx(a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,c=i-r,u=l(c),d=i<=o;r=i;const g={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-i)/u:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(g)},n)},Uc=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Bc=e=>(...t)=>T.asap(()=>e(...t)),Zx=Ne.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ne.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ne.origin),Ne.navigator&&/(msie|trident)/i.test(Ne.navigator.userAgent)):()=>!0,e0=Ne.hasStandardBrowserEnv?{write(e,t,n,r,l,a){const i=[e+"="+encodeURIComponent(t)];T.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),T.isString(r)&&i.push("path="+r),T.isString(l)&&i.push("domain="+l),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function t0(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function n0(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Vm(e,t,n){let r=!t0(t);return e&&(r||n==!1)?n0(e,t):t}const Hc=e=>e instanceof Ie?{...e}:e;function un(e,t){t=t||{};const n={};function r(u,d,g,p){return T.isPlainObject(u)&&T.isPlainObject(d)?T.merge.call({caseless:p},u,d):T.isPlainObject(d)?T.merge({},d):T.isArray(d)?d.slice():d}function l(u,d,g,p){if(T.isUndefined(d)){if(!T.isUndefined(u))return r(void 0,u,g,p)}else return r(u,d,g,p)}function a(u,d){if(!T.isUndefined(d))return r(void 0,d)}function i(u,d){if(T.isUndefined(d)){if(!T.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,g){if(g in t)return r(u,d);if(g in e)return r(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(u,d,g)=>l(Hc(u),Hc(d),g,!0)};return T.forEach(Object.keys({...e,...t}),function(d){const g=c[d]||l,p=g(e[d],t[d],d);T.isUndefined(p)&&g!==o||(n[d]=p)}),n}const Wm=e=>{const t=un({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:a,headers:i,auth:o}=t;t.headers=i=Ie.from(i),t.url=Am(Vm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(T.isFormData(n)){if(Ne.hasStandardBrowserEnv||Ne.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Ne.hasStandardBrowserEnv&&(r&&T.isFunction(r)&&(r=r(t)),r||r!==!1&&Zx(t.url))){const u=l&&a&&e0.read(a);u&&i.set(l,u)}return t},r0=typeof XMLHttpRequest<"u",s0=r0&&function(e){return new Promise(function(n,r){const l=Wm(e);let a=l.data;const i=Ie.from(l.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=l,d,g,p,E,b;function _(){E&&E(),b&&b(),l.cancelToken&&l.cancelToken.unsubscribe(d),l.signal&&l.signal.removeEventListener("abort",d)}let O=new XMLHttpRequest;O.open(l.method.toUpperCase(),l.url,!0),O.timeout=l.timeout;function h(){if(!O)return;const w=Ie.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:w,config:e,request:O};Hm(function(v){n(v),_()},function(v){r(v),_()},C),O=null}"onloadend"in O?O.onloadend=h:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(h)},O.onabort=function(){O&&(r(new q("Request aborted",q.ECONNABORTED,e,O)),O=null)},O.onerror=function(){r(new q("Network Error",q.ERR_NETWORK,e,O)),O=null},O.ontimeout=function(){let y=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const C=l.transitional||$m;l.timeoutErrorMessage&&(y=l.timeoutErrorMessage),r(new q(y,C.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,e,O)),O=null},a===void 0&&i.setContentType(null),"setRequestHeader"in O&&T.forEach(i.toJSON(),function(y,C){O.setRequestHeader(C,y)}),T.isUndefined(l.withCredentials)||(O.withCredentials=!!l.withCredentials),o&&o!=="json"&&(O.responseType=l.responseType),u&&([p,b]=al(u,!0),O.addEventListener("progress",p)),c&&O.upload&&([g,E]=al(c),O.upload.addEventListener("progress",g),O.upload.addEventListener("loadend",E)),(l.cancelToken||l.signal)&&(d=w=>{O&&(r(!w||w.type?new qn(null,e,O):w),O.abort(),O=null)},l.cancelToken&&l.cancelToken.subscribe(d),l.signal&&(l.signal.aborted?d():l.signal.addEventListener("abort",d)));const m=Gx(l.url);if(m&&Ne.protocols.indexOf(m)===-1){r(new q("Unsupported protocol "+m+":",q.ERR_BAD_REQUEST,e));return}O.send(a||null)})},l0=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,l;const a=function(u){if(!l){l=!0,o();const d=u instanceof Error?u:this.reason;r.abort(d instanceof q?d:new qn(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new q(`timeout ${t} of ms exceeded`,q.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>T.asap(o),c}},a0=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,l;for(;r<n;)l=r+t,yield e.slice(r,l),r=l},i0=async function*(e,t){for await(const n of o0(e))yield*a0(n,t)},o0=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Vc=(e,t,n,r)=>{const l=i0(e,t);let a=0,i,o=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await l.next();if(u){o(),c.close();return}let g=d.byteLength;if(n){let p=a+=g;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),l.return()}},{highWaterMark:2})},Rl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qm=Rl&&typeof ReadableStream=="function",c0=Rl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Jm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},u0=qm&&Jm(()=>{let e=!1;const t=new Request(Ne.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Wc=64*1024,ai=qm&&Jm(()=>T.isReadableStream(new Response("").body)),il={stream:ai&&(e=>e.body)};Rl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!il[t]&&(il[t]=T.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new q(`Response type '${t}' is not supported`,q.ERR_NOT_SUPPORT,r)})})})(new Response);const d0=async e=>{if(e==null)return 0;if(T.isBlob(e))return e.size;if(T.isSpecCompliantForm(e))return(await new Request(Ne.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(T.isArrayBufferView(e)||T.isArrayBuffer(e))return e.byteLength;if(T.isURLSearchParams(e)&&(e=e+""),T.isString(e))return(await c0(e)).byteLength},m0=async(e,t)=>{const n=T.toFiniteNumber(e.getContentLength());return n??d0(t)},f0=Rl&&(async e=>{let{url:t,method:n,data:r,signal:l,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:c,responseType:u,headers:d,withCredentials:g="same-origin",fetchOptions:p}=Wm(e);u=u?(u+"").toLowerCase():"text";let E=l0([l,a&&a.toAbortSignal()],i),b;const _=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let O;try{if(c&&u0&&n!=="get"&&n!=="head"&&(O=await m0(d,r))!==0){let C=new Request(t,{method:"POST",body:r,duplex:"half"}),P;if(T.isFormData(r)&&(P=C.headers.get("content-type"))&&d.setContentType(P),C.body){const[v,f]=Uc(O,al(Bc(c)));r=Vc(C.body,Wc,v,f)}}T.isString(g)||(g=g?"include":"omit");const h="credentials"in Request.prototype;b=new Request(t,{...p,signal:E,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:h?g:void 0});let m=await fetch(b,p);const w=ai&&(u==="stream"||u==="response");if(ai&&(o||w&&_)){const C={};["status","statusText","headers"].forEach(S=>{C[S]=m[S]});const P=T.toFiniteNumber(m.headers.get("content-length")),[v,f]=o&&Uc(P,al(Bc(o),!0))||[];m=new Response(Vc(m.body,Wc,v,()=>{f&&f(),_&&_()}),C)}u=u||"text";let y=await il[T.findKey(il,u)||"text"](m,e);return!w&&_&&_(),await new Promise((C,P)=>{Hm(C,P,{data:y,headers:Ie.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:b})})}catch(h){throw _&&_(),h&&h.name==="TypeError"&&/Load failed|fetch/i.test(h.message)?Object.assign(new q("Network Error",q.ERR_NETWORK,e,b),{cause:h.cause||h}):q.from(h,h&&h.code,e,b)}}),ii={http:Ex,xhr:s0,fetch:f0};T.forEach(ii,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const qc=e=>`- ${e}`,p0=e=>T.isFunction(e)||e===null||e===!1,Qm={getAdapter:e=>{e=T.isArray(e)?e:[e];const{length:t}=e;let n,r;const l={};for(let a=0;a<t;a++){n=e[a];let i;if(r=n,!p0(n)&&(r=ii[(i=String(n)).toLowerCase()],r===void 0))throw new q(`Unknown adapter '${i}'`);if(r)break;l[i||"#"+a]=r}if(!r){const a=Object.entries(l).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(qc).join(`
`):" "+qc(a[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:ii};function oa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qn(null,e)}function Jc(e){return oa(e),e.headers=Ie.from(e.headers),e.data=ia.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Qm.getAdapter(e.adapter||Xr.adapter)(e).then(function(r){return oa(e),r.data=ia.call(e,e.transformResponse,r),r.headers=Ie.from(r.headers),r},function(r){return Bm(r)||(oa(e),r&&r.response&&(r.response.data=ia.call(e,e.transformResponse,r.response),r.response.headers=Ie.from(r.response.headers))),Promise.reject(r)})}const Km="1.11.0",Ol={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ol[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Qc={};Ol.transitional=function(t,n,r){function l(a,i){return"[Axios v"+Km+"] Transitional option '"+a+"'"+i+(r?". "+r:"")}return(a,i,o)=>{if(t===!1)throw new q(l(i," has been removed"+(n?" in "+n:"")),q.ERR_DEPRECATED);return n&&!Qc[i]&&(Qc[i]=!0,console.warn(l(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,o):!0}};Ol.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function h0(e,t,n){if(typeof e!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let l=r.length;for(;l-- >0;){const a=r[l],i=t[a];if(i){const o=e[a],c=o===void 0||i(o,a,e);if(c!==!0)throw new q("option "+a+" must be "+c,q.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new q("Unknown option "+a,q.ERR_BAD_OPTION)}}const zs={assertOptions:h0,validators:Ol},st=zs.validators;let nn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ac,response:new Ac}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const a=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=un(this.defaults,n);const{transitional:r,paramsSerializer:l,headers:a}=n;r!==void 0&&zs.assertOptions(r,{silentJSONParsing:st.transitional(st.boolean),forcedJSONParsing:st.transitional(st.boolean),clarifyTimeoutError:st.transitional(st.boolean)},!1),l!=null&&(T.isFunction(l)?n.paramsSerializer={serialize:l}:zs.assertOptions(l,{encode:st.function,serialize:st.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zs.assertOptions(n,{baseUrl:st.spelling("baseURL"),withXsrfToken:st.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&T.merge(a.common,a[n.method]);a&&T.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),n.headers=Ie.concat(i,a);const o=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(c=c&&_.synchronous,o.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let d,g=0,p;if(!c){const b=[Jc.bind(this),void 0];for(b.unshift(...o),b.push(...u),p=b.length,d=Promise.resolve(n);g<p;)d=d.then(b[g++],b[g++]);return d}p=o.length;let E=n;for(g=0;g<p;){const b=o[g++],_=o[g++];try{E=b(E)}catch(O){_.call(this,O);break}}try{d=Jc.call(this,E)}catch(b){return Promise.reject(b)}for(g=0,p=u.length;g<p;)d=d.then(u[g++],u[g++]);return d}getUri(t){t=un(this.defaults,t);const n=Vm(t.baseURL,t.url,t.allowAbsoluteUrls);return Am(n,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){nn.prototype[t]=function(n,r){return this.request(un(r||{},{method:t,url:n,data:(r||{}).data}))}});T.forEach(["post","put","patch"],function(t){function n(r){return function(a,i,o){return this.request(un(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}nn.prototype[t]=n(),nn.prototype[t+"Form"]=n(!0)});let g0=class Gm{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(l=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](l);r._listeners=null}),this.promise.then=l=>{let a;const i=new Promise(o=>{r.subscribe(o),a=o}).then(l);return i.cancel=function(){r.unsubscribe(a)},i},t(function(a,i,o){r.reason||(r.reason=new qn(a,i,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Gm(function(l){t=l}),cancel:t}}};function x0(e){return function(n){return e.apply(null,n)}}function v0(e){return T.isObject(e)&&e.isAxiosError===!0}const oi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oi).forEach(([e,t])=>{oi[t]=e});function Xm(e){const t=new nn(e),n=Cm(nn.prototype.request,t);return T.extend(n,nn.prototype,t,{allOwnKeys:!0}),T.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return Xm(un(e,l))},n}const U=Xm(Xr);U.Axios=nn;U.CanceledError=qn;U.CancelToken=g0;U.isCancel=Bm;U.VERSION=Km;U.toFormData=Pl;U.AxiosError=q;U.Cancel=U.CanceledError;U.all=function(t){return Promise.all(t)};U.spread=x0;U.isAxiosError=v0;U.mergeConfig=un;U.AxiosHeaders=Ie;U.formToJSON=e=>Um(T.isHTMLForm(e)?new FormData(e):e);U.getAdapter=Qm.getAdapter;U.HttpStatusCode=oi;U.default=U;const{Axios:z0,AxiosError:T0,CanceledError:L0,isCancel:I0,CancelToken:M0,VERSION:D0,all:F0,Cancel:A0,isAxiosError:$0,spread:U0,toFormData:B0,AxiosHeaders:H0,HttpStatusCode:V0,formToJSON:W0,getAdapter:q0,mergeConfig:J0}=U;var Ym={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=k,j0=Symbol.for("react.element"),N0=Symbol.for("react.fragment"),w0=Object.prototype.hasOwnProperty,b0=y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S0={key:!0,ref:!0,__self:!0,__source:!0};function Zm(e,t,n){var r,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)w0.call(t,r)&&!S0.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:j0,type:e,key:a,ref:i,props:l,_owner:b0.current}}zl.Fragment=N0;zl.jsx=Zm;zl.jsxs=Zm;Ym.exports=zl;var s=Ym.exports;const Dr=({product:e,onAddToCart:t,showCustomRequest:n=!0})=>{var y,C;const[r,l]=k.useState(null),[a,i]=k.useState(!1),[o,c]=k.useState(!1),[u,d]=k.useState(!1),[g,p]=k.useState(!1),E=JSON.parse(localStorage.getItem("currentUser")||"{}");k.useEffect(()=>{e.price_options&&e.price_options.length>0&&l(e.price_options[0]),b()},[e]);const b=async()=>{if(E.id)try{const P=JSON.parse(localStorage.getItem(`favorites_${E.id}`)||"[]"),v=Array.isArray(P)&&P.includes(e.id);i(v);try{const f=await U.get(`/api/favorites/${E.id}`,{timeout:3e3});if(f.data&&Array.isArray(f.data)){const S=f.data.map(R=>R.product_id||R.id).filter(Boolean);JSON.stringify(P.sort())!==JSON.stringify(S.sort())&&(localStorage.setItem(`favorites_${E.id}`,JSON.stringify(S)),i(S.includes(e.id)))}}catch{console.warn("Сервер избранного недоступен, используем локальные данные")}}catch(P){console.error("Ошибка проверки избранного:",P),i(!1)}},_=async P=>{if(P.stopPropagation(),!E.id){alert("Войдите в систему для добавления в избранное");return}const v=a;p(!0);try{const f=JSON.parse(localStorage.getItem(`favorites_${E.id}`)||"[]");let S,R;v?(S=f.filter(j=>j!==e.id),R=!1):(S=[...f.filter(j=>j!==e.id),e.id],R=!0),i(R),localStorage.setItem(`favorites_${E.id}`,JSON.stringify(S));const x=e.favorites_count||0;R&&!v?e.favorites_count=x+1:!R&&v&&(e.favorites_count=Math.max(0,x-1));try{await U.post("/api/favorites/toggle",{user_id:E.id,product_id:e.id},{timeout:5e3})}catch(j){console.warn("Не удалось синхронизировать с сервером, используем локальные данные:",j.message)}window.dispatchEvent(new CustomEvent("favoriteUpdated",{detail:{productId:e.id,isFavorite:R}}))}catch(f){console.error("Ошибка обновления избранного:",f),i(v);const S=JSON.parse(localStorage.getItem(`favorites_${E.id}`)||"[]");if(v){const R=[...S.filter(x=>x!==e.id),e.id];localStorage.setItem(`favorites_${E.id}`,JSON.stringify(R))}else{const R=S.filter(x=>x!==e.id);localStorage.setItem(`favorites_${E.id}`,JSON.stringify(R))}alert("Ошибка при обновлении избранного. Данные восстановлены.")}finally{p(!1)}},O=P=>{l(P),c(!1)},h=()=>{if(!E.id){alert("Войдите в систему для добавления товаров в корзину");return}if(!r){alert("Выберите размер товара");return}try{const P=parseFloat(r.price)||0;if(P<=0){alert("Некорректная цена товара");return}const v={id:e.id,name:e.name,main_image:e.main_image,price:P,selectedSize:{...r,price:P},quantity:1,addedAt:new Date().toISOString()},f=JSON.parse(localStorage.getItem(`cart_${E.id}`)||"[]"),S=f.findIndex(R=>{var x;return R.id===e.id&&((x=R.selectedSize)==null?void 0:x.size)===r.size});S>-1?f[S].quantity+=1:f.push(v),localStorage.setItem(`cart_${E.id}`,JSON.stringify(f)),t&&t(v),alert("Товар добавлен в корзину")}catch(P){console.error("Ошибка добавления в корзину:",P),alert("Ошибка при добавлении товара в корзину")}},m=()=>{const P=new CustomEvent("openCustomRequest",{detail:{productId:e.id}});window.dispatchEvent(P)},w=()=>{if(!e.price_options||e.price_options.length===0)return"Цена не указана";const P=e.coefficient||5.25,v=e.price_options.map(R=>Math.round(R.price/5.25*P)),f=Math.min(...v),S=Math.max(...v);return f===S?`${f}₽`:`от ${f}₽ до ${S}₽`};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"card h-full flex flex-col transition-all hover:shadow-lg product-card",children:[s.jsxs("div",{className:"relative overflow-hidden product-image-container",children:[e.main_image?s.jsx("img",{src:e.main_image,alt:e.name,className:"w-full h-48 sm:h-48 md:h-56 lg:h-48 object-cover cursor-pointer hover:scale-105 transition-transform product-image",onClick:()=>d(!0)}):s.jsx("div",{className:"w-full h-48 sm:h-48 md:h-56 lg:h-48 bg-gray-200 flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors",children:s.jsx(qr,{className:"text-2xl sm:text-3xl md:text-4xl text-gray-400"})}),s.jsxs("button",{className:`absolute top-2 sm:top-3 right-2 sm:right-3 btn btn-sm rounded-full transition-all duration-200 favorite-btn ${a?"bg-red-500 text-white hover:bg-red-600 scale-105":"bg-white text-gray-600 hover:bg-gray-100"} ${g?"opacity-50 cursor-not-allowed":"hover:scale-110"}`,onClick:_,disabled:g,title:a?"Удалить из избранного":"Добавить в избранное",children:[s.jsx($t,{className:`transition-all duration-200 text-sm sm:text-base ${a?"text-white animate-pulse":""}`}),s.jsx("span",{className:"ml-1 text-xs sm:text-sm font-medium",children:e.favorites_count||0})]})]}),s.jsxs("div",{className:"card-body flex-1 flex flex-col p-3 sm:p-4 lg:p-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-black mb-2 line-clamp-2 text-sm sm:text-base product-title",children:e.name}),e.related_name&&s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:e.related_name}),e.description&&s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mb-3 line-clamp-2 hidden sm:block",children:e.description}),s.jsx("div",{className:"mb-3",children:s.jsx("span",{className:"text-sm sm:text-base lg:text-lg font-semibold text-accent-blue",children:w()})}),r&&s.jsx("div",{className:"mb-3 p-2 sm:p-3 bg-gray-50 rounded border",children:s.jsxs("div",{className:"text-xs sm:text-sm",children:[s.jsxs("div",{className:"font-medium text-black mb-1",children:["Выбранный размер: ",r.size]}),s.jsxs("div",{className:"text-accent-blue font-semibold mb-1",children:["Цена: ",Math.round(r.price/5.25*(e.coefficient||5.25)),"₽"]})]})})]}),s.jsxs("div",{className:"space-y-2 mt-4 product-actions",children:[s.jsxs("button",{className:"btn btn-secondary w-full flex items-center justify-center text-xs sm:text-sm mobile-btn",onClick:()=>c(!0),disabled:!e.price_options||e.price_options.length===0,children:[s.jsx(Ig,{className:"mr-1 sm:mr-2 text-xs sm:text-sm"}),s.jsx("span",{className:"hidden sm:inline",children:r?"Изменить размер":"Выбрать размер"}),s.jsx("span",{className:"sm:hidden",children:"Размер"})]}),s.jsxs("button",{className:"btn btn-primary w-full flex items-center justify-center text-xs sm:text-sm mobile-btn",onClick:h,disabled:!r,children:[s.jsx(Re,{className:"mr-1 sm:mr-2 text-xs sm:text-sm"}),s.jsx("span",{className:"hidden sm:inline",children:"В корзину"}),s.jsx("span",{className:"sm:hidden",children:"Купить"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 sm:gap-2",children:[s.jsxs("button",{className:"btn btn-ghost btn-sm text-xs mobile-action-btn",onClick:()=>d(!0),children:[s.jsx(kl,{className:"mr-1 text-xs"}),s.jsx("span",{className:"hidden sm:inline",children:"Подробнее"}),s.jsx("span",{className:"sm:hidden",children:"Инфо"})]}),n&&s.jsxs("button",{className:"btn btn-ghost btn-sm text-xs mobile-action-btn",onClick:m,children:[s.jsx("span",{className:"hidden sm:inline",children:"Другой размер"}),s.jsx("span",{className:"sm:hidden",children:"Замер"})]})]})]})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4 overflow-y-auto",onClick:P=>{P.target===P.currentTarget&&c(!1)},children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[85vh] overflow-y-auto mx-2 my-4 relative",onClick:P=>P.stopPropagation(),children:[s.jsx("div",{className:"sticky top-0 bg-white z-10 p-4 sm:p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold pr-8",children:"Выберите размер и цену"}),s.jsx("button",{className:"btn btn-ghost btn-sm absolute top-2 right-2 sm:top-4 sm:right-4 bg-white hover:bg-gray-100 rounded-full w-8 h-8 flex items-center justify-center",onClick:()=>c(!1),children:"✕"})]})}),s.jsxs("div",{className:"p-4 sm:p-6 pt-0",children:[s.jsx("div",{className:"space-y-3",children:((y=e.price_options)==null?void 0:y.map((P,v)=>s.jsxs("div",{className:`price-option cursor-pointer border rounded-lg p-3 sm:p-4 transition-all hover:border-accent-blue hover:bg-gray-50 ${(r==null?void 0:r.size)===P.size?"border-accent-blue bg-accent-blue bg-opacity-10":"border-gray-200"}`,onClick:()=>O(P),children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"price-info",children:s.jsx("div",{className:"size-text text-sm sm:text-lg font-medium text-black",children:P.size})}),s.jsxs("div",{className:"price-text text-lg sm:text-xl font-semibold text-accent-blue",children:[Math.round(P.price/5.25*(e.coefficient||5.25)),"₽"]})]}),(r==null?void 0:r.size)===P.size&&s.jsx("div",{className:"mt-2 text-xs sm:text-sm text-accent-blue font-medium",children:"✓ Выбран"})]},v)))||s.jsx("div",{className:"text-center py-4 text-gray-500",children:"Варианты размеров не настроены"})}),s.jsxs("div",{className:"mt-6 flex gap-3 sticky bottom-0 bg-white pt-4 border-t border-gray-100",children:[s.jsx("button",{className:"btn btn-primary flex-1 text-sm",onClick:()=>{c(!1),r&&h()},disabled:!r,children:"Добавить в корзину"}),s.jsx("button",{className:"btn btn-ghost flex-1 text-sm",onClick:()=>c(!1),children:"Отмена"})]})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4 overflow-y-auto",onClick:P=>{P.target===P.currentTarget&&d(!1)},children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto mx-2 my-4 relative",onClick:P=>P.stopPropagation(),children:[s.jsx("div",{className:"sticky top-0 bg-white z-10 p-4 sm:p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold pr-8",children:e.name}),s.jsx("button",{className:"btn btn-ghost btn-sm absolute top-2 right-2 sm:top-4 sm:right-4 bg-white hover:bg-gray-100 rounded-full w-8 h-8 flex items-center justify-center",onClick:()=>d(!1),children:"✕"})]})}),s.jsx("div",{className:"p-4 sm:p-6 pt-0",children:s.jsxs("div",{className:"space-y-4",children:[e.main_image&&s.jsx("img",{src:e.main_image,alt:e.name,className:"w-full h-48 sm:h-64 object-cover rounded border"}),e.additional_images&&e.additional_images.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-sm sm:text-base",children:"Дополнительные фото:"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.additional_images.map((P,v)=>s.jsx("img",{src:P,alt:`${e.name} ${v+1}`,className:"w-full h-16 sm:h-20 object-cover rounded border cursor-pointer hover:opacity-75",onClick:()=>window.open(P,"_blank")},v))})]}),e.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-sm sm:text-base",children:"Описание:"}),s.jsx("p",{className:"text-gray-700 text-sm sm:text-base",children:e.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-sm sm:text-base",children:"Характеристики:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"ID товара:"})," ",e.id]}),e.original_height&&s.jsxs("div",{children:[s.jsx("strong",{children:"Исходная высота:"})," ",e.original_height,"см"]}),e.original_width&&s.jsxs("div",{children:[s.jsx("strong",{children:"Исходная ширина:"})," ",e.original_width,"см"]}),e.original_length&&s.jsxs("div",{children:[s.jsx("strong",{children:"Исходная длина:"})," ",e.original_length,"см"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Количество деталей:"})," ",e.parts_count||1]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Продано:"})," ",e.sales_count||0]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-sm sm:text-base",children:"Доступные размеры:"}),s.jsx("div",{className:"space-y-2",children:((C=e.price_options)==null?void 0:C.map((P,v)=>s.jsx("div",{className:"border rounded p-3 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{children:s.jsx("div",{className:"font-medium text-sm sm:text-base",children:P.size})}),s.jsxs("div",{className:"text-base sm:text-lg font-semibold text-accent-blue",children:[Math.round(P.price/5.25*(e.coefficient||5.25)),"₽"]})]})},v)))||s.jsx("p",{className:"text-gray-500 text-sm",children:"Варианты размеров не настроены"})})]}),s.jsx("div",{className:"sticky bottom-0 bg-white pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{className:"btn btn-primary flex-1 text-sm",onClick:()=>{d(!1),c(!0)},children:[s.jsx(Re,{className:"mr-2"}),"Купить"]}),s.jsx("button",{className:"btn btn-secondary text-sm",onClick:_,children:s.jsx($t,{className:a?"text-red-500":""})}),n&&s.jsx("button",{className:"btn btn-ghost text-sm",onClick:()=>{d(!1),m()},children:"Запросить другой размер"})]})})]})})]})}),s.jsx("style",{jsx:!0,children:`
        .product-card {
          min-height: auto;
        }

        .product-image-container {
          position: relative;
        }

        .product-image {
          transition: transform 0.2s ease;
        }

        .favorite-btn {
          min-width: 40px;
          min-height: 32px;
          padding: 4px 8px;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .product-title {
          line-height: 1.3;
          word-break: break-word;
        }

        .product-actions {
          margin-top: auto;
        }

        .mobile-btn {
          min-height: 40px;
          font-weight: 500;
          border-radius: 6px;
        }

        .mobile-action-btn {
          min-height: 36px;
          padding: 8px 12px;
          font-weight: 400;
        }

        @media (max-width: 640px) {
          .product-card {
            border-radius: 8px;
          }

          .card-body {
            padding: 12px;
          }

          .favorite-btn {
            min-width: 36px;
            min-height: 30px;
            padding: 4px 6px;
          }

          .mobile-btn {
            min-height: 44px;
            font-size: 14px;
          }

          .mobile-action-btn {
            min-height: 40px;
            font-size: 12px;
            padding: 6px 8px;
          }

          .product-title {
            font-size: 14px;
            margin-bottom: 8px;
          }

          .price-option {
            padding: 12px;
          }

          .modal-content {
            margin: 8px;
            max-height: calc(100vh - 32px);
          }
        }

        @media (max-width: 480px) {
          .grid.grid-cols-2 {
            gap: 4px;
          }

          .mobile-action-btn {
            font-size: 11px;
            padding: 4px 6px;
            min-height: 36px;
          }

          .favorite-btn span {
            font-size: 10px;
          }

          .btn {
            -webkit-tap-highlight-color: transparent;
          }
        }

        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        /* Touch optimization */
        @media (hover: none) and (pointer: coarse) {
          .product-image:hover {
            transform: none;
          }

          .btn:active {
            transform: scale(0.98);
          }

          .favorite-btn:active {
            transform: scale(0.95);
          }
        }
      `})]})},ef=()=>{const[e,t]=k.useState([]),[n,r]=k.useState(!1),[l,a]=k.useState(!1),[i,o]=k.useState(""),[c,u]=k.useState(""),[d,g]=k.useState({}),[p,E]=k.useState([]),b=JSON.parse(localStorage.getItem("currentUser")||"{}");k.useEffect(()=>{_(),h()},[]);const _=()=>{const x=JSON.parse(localStorage.getItem(`cart_${b.id}`)||"[]");t(x)},O=x=>{localStorage.setItem(`cart_${b.id}`,JSON.stringify(x)),t(x)},h=async()=>{try{const x=await U.get("/api/settings");if(g(x.data),o(x.data.payment_info||""),x.data.discount_rules){const j=m(x.data.discount_rules);E(j)}}catch(x){console.error("Ошибка загрузки настроек:",x)}},m=x=>x.filter(j=>!(j.conditions.role&&j.conditions.role!==b.role)),w=(x,j)=>{if(j<1)return;const I=e.map((M,N)=>N===x?{...M,quantity:j}:M);O(I)},y=x=>{if(!confirm("Удалить товар из корзины?"))return;const j=e.filter((I,M)=>M!==x);O(j)},C=x=>{var N;const j=((N=x.selectedSize)==null?void 0:N.price)||x.price||0,I=d.price_coefficient||5.25;return Math.round(j/5.25*I)*x.quantity},P=()=>e.reduce((x,j)=>x+C(j),0),v=()=>{const x=P();let j=0;return p.forEach(I=>{I.type==="percentage"?j+=x*(I.value/100):I.type==="fixed"&&(j+=I.value)}),Math.min(j,x)},f=()=>{const x=P(),j=v();return Math.max(0,x-j)},S=()=>{if(e.length===0){alert("Корзина пуста");return}a(!0)},R=async()=>{var x;if(!b.id){alert("Необходимо войти в систему");return}if(e.length===0){alert("Корзина пуста");return}try{r(!0);const j=e.map(z=>{var $;if(!z.id||!z.name||z.quantity<=0)throw new Error(`Неверные данные товара: ${z.name||"неизвестный товар"}`);const D=(($=z.selectedSize)==null?void 0:$.price)||z.price||0;if(D<=0)throw new Error(`Неверная цена товара: ${z.name}`);const L=d.price_coefficient||5.25,A=Math.round(D/5.25*L);return{id:z.id,name:z.name,quantity:z.quantity,price:A,selectedSize:z.selectedSize||null}}),I=f();if(I<=0)throw new Error("Неверная общая сумма заказа");const M={user_id:b.id,products:j,total_price:I,notes:c.trim()||""};console.log("Отправка данных заказа:",M);const N=await U.post("/api/orders",M,{headers:{"Content-Type":"application/json"},timeout:1e4});if(console.log("Ответ сервера:",N.data),N.status===201||N.status===200)alert("Заказ успешно создан!"),O([]),a(!1),u("");else throw new Error("Неожиданный ответ сервера")}catch(j){console.error("Подробная ошибка создания заказа:",j);let I="Ошибка при создании заказа";j.response?I=((x=j.response.data)==null?void 0:x.error)||`Ошибка сервера: ${j.response.status}`:j.request?I="Нет связи с сервером. Проверьте подключение к интернету.":j.message&&(I=j.message),alert(I)}finally{r(!1)}};return b.id?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx(Re,{className:"text-3xl text-accent-blue"}),s.jsx("h1",{className:"text-3xl font-bold text-black",children:"Корзина"}),s.jsx("span",{className:"bg-accent-blue text-white px-3 py-1 rounded-full text-sm",children:e.length})]}),e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Re,{className:"text-6xl text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"Ваша корзина пуста"}),s.jsx("p",{className:"text-gray-400",children:"Добавьте товары из каталога"})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map((x,j)=>s.jsx("div",{className:"cart-item",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:x.main_image?s.jsx("img",{src:x.main_image,alt:x.name,className:"w-20 h-20 object-cover rounded border"}):s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded border flex items-center justify-center",children:s.jsx(Re,{className:"text-gray-400"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-black mb-1",children:x.name}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{children:["ID: ",x.id]}),x.selectedSize&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"font-medium text-accent-blue",children:["Размер: ",x.selectedSize.size]}),x.selectedSize.resin_ml&&b.role==="admin"&&s.jsxs("div",{className:"text-gray-500",children:["Количество смолы: ",x.selectedSize.resin_ml,"мл"]}),s.jsxs("div",{className:"text-gray-700",children:["Цена за единицу: ",Math.round(x.selectedSize.price/5.25*(d.price_coefficient||5.25)),"₽"]})]}),!x.selectedSize&&x.price&&s.jsxs("div",{className:"text-gray-700",children:["Цена за единицу: ",Math.round(x.price/5.25*(d.price_coefficient||5.25)),"₽"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>w(j,x.quantity-1),disabled:x.quantity<=1,children:s.jsx(Tg,{})}),s.jsx("span",{className:"w-12 text-center font-medium",children:x.quantity}),s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>w(j,x.quantity+1),children:s.jsx(ll,{})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-semibold text-lg text-black",children:[C(x),"₽"]}),s.jsx("button",{className:"btn btn-sm bg-red-500 text-white hover:bg-red-600 mt-2",onClick:()=>y(j),children:s.jsx(Un,{})})]})]})},`${x.id}-${j}`))}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"card sticky top-6",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Итого"})}),s.jsxs("div",{className:"card-body space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Подытог:"}),s.jsxs("span",{children:[P(),"₽"]})]}),p.length>0&&v()>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Скидка:"}),s.jsxs("span",{children:["-",v(),"₽"]})]}),s.jsx("div",{className:"border-t pt-2",children:s.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[s.jsx("span",{children:"Итого:"}),s.jsxs("span",{className:"text-accent-blue",children:[f(),"₽"]})]})})]}),p.length>0&&d.show_discount_on_products&&s.jsxs("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:[s.jsx("div",{className:"text-sm font-medium text-green-800 mb-1",children:"Применены скидки:"}),p.map((x,j)=>s.jsxs("div",{className:"text-xs text-green-700",children:[x.name,": ",x.value,x.type==="percentage"?"%":"₽"]},j))]}),s.jsxs("button",{className:"btn btn-primary w-full",onClick:S,disabled:e.length===0,children:[s.jsx(Pg,{className:"mr-2"}),"Перейти к оплате"]})]})]})})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Оформление заказа"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Реквизиты для оплаты:"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded border",children:s.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:i})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Детали заказа:"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded border space-y-3",children:e.map((x,j)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:x.name}),x.selectedSize&&s.jsxs("div",{className:"text-gray-600 space-y-1",children:[s.jsxs("div",{children:["Размер: ",x.selectedSize.size]}),x.selectedSize.resin_ml&&b.role==="admin"&&s.jsxs("div",{children:["Смола: ",x.selectedSize.resin_ml,"мл"]}),s.jsxs("div",{children:["Цена: ",Math.round(x.selectedSize.price/5.25*(d.price_coefficient||5.25)),"₽ × ",x.quantity]})]})]}),s.jsxs("div",{className:"font-medium",children:[C(x),"₽"]})]},j))})]}),s.jsx("div",{className:"bg-accent-blue bg-opacity-10 p-4 rounded border border-accent-blue",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Сумма к оплате:"}),s.jsxs("div",{className:"text-2xl font-bold text-accent-blue",children:[f(),"₽"]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Примечание к заказу (необязательно):"}),s.jsx("textarea",{className:"input textarea w-full",placeholder:"Добавьте комментарий к заказу...",value:c,onChange:x=>u(x.target.value),rows:3})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"btn btn-primary flex-1",onClick:R,disabled:n,children:[s.jsx(Eg,{className:"mr-2"}),n?"Создание заказа...":"Подтвердить оплату"]}),s.jsx("button",{className:"btn btn-ghost flex-1",onClick:()=>a(!1),disabled:n,children:"Назад"})]})]})]})})}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-black",children:"Создание заказа..."})]})})]}):s.jsxs("div",{className:"p-6 text-center max-w-2xl mx-auto",children:[s.jsx(Re,{className:"text-6xl text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Войдите в систему для использования корзины"})]})},uo=()=>{const[e,t]=k.useState({id:"",username:"",initial_username:"",avatar:"",city:"",birthday:"",notes:"",registration_date:"",role:""}),[n,r]=k.useState(!1),[l,a]=k.useState(!1),[i,o]=k.useState([]),[c,u]=k.useState(null),[d,g]=k.useState(""),[p,E]=k.useState(!1),b=JSON.parse(localStorage.getItem("currentUser")||"{}");k.useEffect(()=>{_(),O()},[]);const _=async()=>{if(b.id)try{a(!0);const f=await U.get(`/api/users/${b.id}`);t(f.data);const S=f.data.avatar?f.data.avatar:"";g(S)}catch(f){console.error("Ошибка загрузки профиля:",f)}finally{a(!1)}},O=async()=>{try{const[f,S,R]=await Promise.all([U.get(`/api/chat?user_id=${b.id}`),U.get(`/api/orders?user_id=${b.id}&role=${b.role}`),U.get(`/api/custom-requests?user_id=${b.id}&role=${b.role}`)]),x=f.data.filter(N=>new Date(N.created_date)>new Date(Date.now()-24*60*60*1e3)).length,j=S.data.filter(N=>new Date(N.created_date)>new Date(Date.now()-24*60*60*1e3)).length,I=R.data.filter(N=>new Date(N.created_date)>new Date(Date.now()-24*60*60*1e3)).length,M=[];x>0&&M.push(`${x} новых сообщений`),j>0&&M.push(`${j} новых заказов`),I>0&&M.push(`${I} новых заявок`),o(M)}catch(f){console.error("Ошибка загрузки уведомлений:",f)}},h=f=>{const{name:S,value:R}=f.target;t(x=>({...x,[S]:R}))},m=f=>{const S=f.target.files[0];if(S){if(S.size>5*1024*1024){alert("Максимальный размер файла: 5MB"),f.target.value="";return}if(!S.type.startsWith("image/")){alert("Разрешены только изображения (JPG, PNG, GIF, WebP)"),f.target.value="";return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(S.type.toLowerCase())){alert("Поддерживаемые форматы: JPG, PNG, GIF, WebP"),f.target.value="";return}try{d&&d.startsWith("blob:")&&URL.revokeObjectURL(d),u(S);const x=URL.createObjectURL(S);g(x)}catch(x){console.error("Ошибка создания превью:",x),alert("Ошибка обработки изображения"),f.target.value=""}}},w=async()=>{var f;if(!c)return null;try{E(!0);const S=new FormData;S.append("avatar",c),S.append("user_id",b.id);const R=await U.post("/api/upload/avatar",S,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4});if(R.data&&R.data.avatar_path)return R.data.avatar_path;throw new Error("Сервер не вернул путь к аватару")}catch(S){throw console.error("Ошибка загрузки аватара:",S),S.response?new Error(((f=S.response.data)==null?void 0:f.error)||"Ошибка сервера при загрузке аватара"):S.request?new Error("Нет ответа от сервера"):S}finally{E(!1)}},y=async()=>{var f,S,R,x;try{a(!0);let j=e.avatar;if(c)try{if(j=await w(),!j)throw new Error("Не удалось получить путь к загруженному аватару")}catch(N){console.error("Ошибка загрузки аватара:",N),alert(`Ошибка при загрузке аватара: ${N.message}. Профиль будет сохранен без изменения аватара.`),j=e.avatar}const I={username:((f=e.username)==null?void 0:f.trim())||e.username,city:((S=e.city)==null?void 0:S.trim())||e.city,birthday:e.birthday||null,notes:((R=e.notes)==null?void 0:R.trim())||e.notes,avatar:j};if((await U.put(`/api/users/${b.id}`,I,{timeout:15e3})).status===200){const N={...b,...I};localStorage.setItem("currentUser",JSON.stringify(N)),alert("Профиль успешно обновлен"),r(!1),u(null),d&&d.startsWith("blob:")&&URL.revokeObjectURL(d),await _()}else throw new Error("Неожиданный ответ сервера")}catch(j){console.error("Ошибка обновления профиля:",j);let I="Ошибка при обновлении профиля";j.response?I=((x=j.response.data)==null?void 0:x.error)||`Ошибка сервера: ${j.response.status}`:j.request?I="Нет связи с сервером":I=j.message,alert(I)}finally{a(!1)}},C=()=>{r(!1),u(null),d&&d.startsWith("blob:")&&URL.revokeObjectURL(d),g(e.avatar||""),_()},P=f=>f?new Date(f).toLocaleDateString("ru-RU"):"Не указано",v=f=>({buyer:"Покупатель",executor:"Исполнитель",admin:"Администратор"})[f]||f;return b.id?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-black",children:"Мой профиль"}),!n&&s.jsxs("button",{className:"btn btn-accent",onClick:()=>r(!0),children:[s.jsx(ao,{className:"mr-2"}),"Редактировать"]})]}),i.length>0&&s.jsx("div",{className:"card mb-6 border-l-4 border-l-accent-blue",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(cn,{className:"text-accent-blue text-xl"}),s.jsx("h2",{className:"text-lg font-semibold text-black",children:"Уведомления"})]}),s.jsx("div",{className:"space-y-2",children:i.map((f,S)=>s.jsx("div",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:f},S))})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center",children:[s.jsxs("div",{className:"relative inline-block mb-4",children:[d&&d.trim()?s.jsx("img",{src:(d.startsWith("blob:"),d),alt:"Аватар",className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200",onError:f=>{var S;console.warn("Ошибка загрузки аватара:",d),f.target.style.display="none",(S=f.target.nextElementSibling)==null||S.style.setProperty("display","flex","important")}}):null,s.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center border-4 border-gray-200",style:{display:d&&d.trim()?"none":"flex"},children:e.username||b.username?(e.username||b.username).charAt(0).toUpperCase():s.jsx(qe,{className:"text-4xl text-gray-400"})}),s.jsxs("label",{className:"absolute bottom-0 right-0 bg-black text-white rounded-full p-2 cursor-pointer hover:bg-gray-800 transition-all duration-200 shadow-lg",children:[s.jsx(Cg,{className:"text-sm"}),s.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"hidden",disabled:p})]}),p&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]}),s.jsx("h2",{className:"text-xl font-semibold text-black mb-2",children:e.username||b.username}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(qe,{}),s.jsx("span",{children:v(e.role||b.role)})]}),s.jsxs("div",{children:["ID: ",e.id||b.id]})]}),c&&s.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-700",children:[s.jsx("div",{className:"font-medium",children:"Выбран новый аватар:"}),s.jsx("div",{children:c.name}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("button",{className:"btn btn-sm btn-primary",onClick:y,disabled:l||p,children:p?"Загрузка...":"Сохранить аватар"}),s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:C,disabled:l||p,children:"Отменить"})]})]}),s.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Нажмите на иконку камеры для изменения аватара"})]})}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold",children:"Персональная информация"})}),s.jsxs("div",{className:"card-body space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx(qe,{}),"Никнейм"]}),n?s.jsx("input",{type:"text",name:"username",className:"input w-full",value:e.username,onChange:h,placeholder:"Введите никнейм"}):s.jsx("div",{className:"p-3 bg-gray-50 rounded border",children:e.username||"Не указано"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx(km,{}),"Дата рождения"]}),n?s.jsx("input",{type:"date",name:"birthday",className:"input w-full",value:e.birthday||"",onChange:h}):s.jsx("div",{className:"p-3 bg-gray-50 rounded border",children:P(e.birthday)})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx(zg,{}),"Город"]}),n?s.jsx("input",{type:"text",name:"city",className:"input w-full",value:e.city||"",onChange:h,placeholder:"Введите город"}):s.jsx("div",{className:"p-3 bg-gray-50 rounded border",children:e.city||"Не указано"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx($g,{}),"Личные заметки"]}),n?s.jsx("textarea",{name:"notes",className:"input textarea w-full",value:e.notes||"",onChange:h,placeholder:"Добавьте заметки о себе...",rows:3}):s.jsx("div",{className:"p-3 bg-gray-50 rounded border min-h-[80px]",children:e.notes||"Заметки не добавлены"})]}),n&&s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs("button",{className:"btn btn-primary flex-1",onClick:y,disabled:l||p,children:[s.jsx(Mg,{className:"mr-2"}),l?"Сохранение...":"Сохранить"]}),s.jsxs("button",{className:"btn btn-ghost flex-1",onClick:C,disabled:l||p,children:[s.jsx(Jr,{className:"mr-2"}),"Отмена"]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold",children:"Системная информация"})}),s.jsxs("div",{className:"card-body space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[s.jsx("span",{className:"text-gray-700",children:"Дата регистрации:"}),s.jsx("span",{className:"font-medium",children:P(e.registration_date)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[s.jsx("span",{className:"text-gray-700",children:"ID пользователя:"}),s.jsx("span",{className:"font-medium",children:e.id})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-700",children:"Никнейм при регистрации:"}),s.jsx("span",{className:"font-medium",children:e.initial_username||"Не указан"})]})]})]})]})]}),(l||p)&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-black",children:p?"Загрузка аватара...":"Обновление профиля..."})]})})]}):s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Необходимо войти в систему"})})},mo=({isAdmin:e=!1,isExecutor:t=!1})=>{const[n,r]=k.useState([]),[l,a]=k.useState(!1),[i,o]=k.useState(""),[c,u]=k.useState(""),[d,g]=k.useState(null),[p,E]=k.useState(null),[b,_]=k.useState(null),[O,h]=k.useState([]),m=JSON.parse(localStorage.getItem("currentUser")||"{}"),w=["создан заказ","принят к исполнению","не оплачено","печатается","красится","упаковывается","отменен","задерживается","готово"];k.useEffect(()=>{y(),e&&C()},[i,c]);const y=async()=>{var x,j,I;try{a(!0);const M=new URLSearchParams;e?M.append("admin","true"):t?M.append("executor_id",m.id):M.append("user_id",m.id),i&&i.trim()&&M.append("search",i.trim()),c&&M.append("status",c),console.log("Загрузка заказов с параметрами:",M.toString());const N=await U.get(`/api/orders?${M.toString()}`,{timeout:1e4,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера заказов:",N.status,N.data),N.data&&Array.isArray(N.data)){const z=N.data.filter(D=>D&&typeof D=="object"&&D.id);console.log("Получены валидные заказы:",z.length),r(z)}else console.warn("Некорректный ответ от сервера заказов:",N.data),r([])}catch(M){console.error("Детальная ошибка загрузки заказов:",{message:M.message,response:(x=M.response)==null?void 0:x.data,status:(j=M.response)==null?void 0:j.status,config:M.config});let N="Ошибка загрузки заказов";M.response?M.response.status===404?N="API заказов не найдено":M.response.status===500?N="Ошибка сервера при загрузке заказов":(I=M.response.data)!=null&&I.error&&(N=M.response.data.error):M.code==="ECONNABORTED"?N="Превышено время ожидания загрузки заказов":M.request&&(N="Нет связи с сервером"),alert(N),r([])}finally{a(!1)}},C=async()=>{var x,j,I,M;if(!m.id||m.id!==1){console.warn("Недостаточно прав для загрузки исполнителей");return}try{console.log("Загрузка исполнителей...");const N=await U.get("/api/admin/users?role_filter=executor",{timeout:1e4,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера исполнителей:",N.status,N.data),N.data&&Array.isArray(N.data)){const z=N.data.filter(D=>D&&typeof D=="object"&&D.id&&D.username);console.log("Получены валидные исполнители:",z.length),h(z)}else console.warn("Некорректный ответ от сервера исполнителей:",N.data),h([])}catch(N){console.error("Детальная ошибка загрузки исполнителей:",{message:N.message,response:(x=N.response)==null?void 0:x.data,status:(j=N.response)==null?void 0:j.status});let z="Ошибка загрузки исполнителей";((I=N.response)==null?void 0:I.status)===404?z="API пользователей не найдено":((M=N.response)==null?void 0:M.status)===403?z="Недостаточно прав для просмотра исполнителей":N.code==="ECONNABORTED"&&(z="Превышено время ожидания"),console.warn(z),h([])}},P=async(x,j)=>{var I,M,N;if(!x||!j){alert("Некорректные данные для обновления статуса");return}if(!m.id||m.id!==1){alert("Недостаточно прав для изменения статуса");return}try{console.log("Обновление статуса заказа:",x,j);const z={status:j};m.id===1&&(z.admin_id=m.id);const D=await U.put(`/api/orders/${x}`,z,{timeout:1e4,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера на обновление статуса:",D.status,D.data),D.status===200)alert("Статус заказа обновлен"),y(),E(null);else throw new Error(`Неожиданный статус ответа: ${D.status}`)}catch(z){console.error("Детальная ошибка обновления статуса:",{message:z.message,response:(I=z.response)==null?void 0:I.data,status:(M=z.response)==null?void 0:M.status,orderId:x,newStatus:j});let D="Ошибка при обновлении статуса";z.response?z.response.status===404?D="Заказ не найден":z.response.status===403?D="Недостаточно прав для изменения статуса":(N=z.response.data)!=null&&N.error&&(D=z.response.data.error):z.code==="ECONNABORTED"&&(D="Превышено время ожидания обновления"),alert(D)}},v=async(x,j)=>{if(confirm(`Изменить цену заказа на ${j}₽?`))try{await U.put(`/api/orders/${x}`,{total_price:j}),alert("Цена заказа обновлена"),y()}catch(I){console.error("Ошибка обновления цены:",I),alert("Ошибка при обновлении цены")}},f=async(x,j)=>{var I,M;try{console.log("Назначение исполнителей:",x,j);const N=await U.put(`/api/orders/${x}`,{assigned_executors:JSON.stringify(j),status:"принят к исполнению",admin_id:m.id});console.log("Ответ сервера:",N.data),alert("Исполнители назначены"),y(),_(null)}catch(N){console.error("Ошибка назначения исполнителей:",N);const z=((M=(I=N.response)==null?void 0:I.data)==null?void 0:M.error)||"Ошибка при назначении исполнителей";alert(z)}},S=(x,j)=>{const I=`#/chat?user=${x}&order=${j}`;window.location.href=I},R=x=>`status-badge ${{"создан заказ":"status-created","принят к исполнению":"status-processing","не оплачено":"status-cancelled",печатается:"status-processing",красится:"status-processing",упаковывается:"status-processing",отменен:"status-cancelled",задерживается:"status-cancelled",готово:"status-completed"}[x]||"status-created"}`;return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsx("div",{className:"flex justify-between items-center mb-8",children:s.jsx("h1",{className:"text-3xl font-bold text-black",children:e?"Управление заказами":t?"Мои назначенные заказы":"Мои заказы"})}),s.jsx("div",{className:"card mb-6",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Поиск по ID заказа...",className:"input pl-10 w-full",value:i,onChange:x=>o(x.target.value)})]}),s.jsx("div",{children:s.jsxs("select",{className:"input select w-full",value:c,onChange:x=>u(x.target.value),children:[s.jsx("option",{value:"",children:"Все статусы"}),w.map(x=>s.jsx("option",{value:x,children:x},x))]})})]})})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-xl font-semibold",children:["Заказы (",Array.isArray(n)?n.length:0,")",(m==null?void 0:m.role)&&s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",m.role==="admin"?"Все":m.role==="executor"?"Назначенные":"Мои"," заказы)"]})]})}),s.jsx("div",{className:"card-body",children:l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка заказов..."}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Пользователь: ",m==null?void 0:m.username," (ID: ",m==null?void 0:m.id,")"]})]}):Array.isArray(n)?n.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(it,{className:"text-4xl text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:i||c?"Заказы не найдены по заданным критериям":"Заказы не найдены"}),(i||c)&&s.jsx("button",{className:"btn btn-ghost btn-sm mt-3",onClick:()=>{o(""),u("")},children:"Сбросить фильтры"})]}):s.jsx("div",{className:"space-y-4",children:n.map(x=>s.jsxs("div",{className:"border rounded-lg p-6 bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-black text-lg",children:["Заказ #",x.id]}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4 mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(km,{}),new Date(x.created_date).toLocaleDateString("ru-RU")]}),e&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qe,{}),"Клиент #",x.user_id]})]})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:R(x.status),children:x.status}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-semibold text-lg text-accent-blue",children:[x.total_price,"₽"]}),e&&s.jsx("button",{className:"text-xs text-gray-500 hover:text-accent-blue",onClick:()=>{const j=prompt("Новая цена:",x.total_price);j&&!isNaN(j)&&v(x.id,parseFloat(j))},children:"Изменить цену"})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Состав заказа:"}),s.jsx("div",{className:"bg-white p-3 rounded border",children:x.products&&x.products.length>0?s.jsx("div",{className:"space-y-2",children:x.products.map((j,I)=>{var M;return s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:j.name}),s.jsxs("span",{className:"text-gray-600 ml-2",children:["(ID: ",j.id,")"]}),j.selectedSize&&s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[s.jsxs("span",{children:["Размер: ",j.selectedSize.size]}),j.selectedSize.resin_ml&&s.jsxs("span",{children:[" • Смола: ",j.selectedSize.resin_ml,"мл"]}),s.jsxs("span",{children:[" • Цена: ",j.selectedSize.price,"₽"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium",children:["x",j.quantity]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[(((M=j.selectedSize)==null?void 0:M.price)||j.price||0)*j.quantity,"₽"]})]})]},I)})}):s.jsx("p",{className:"text-gray-500",children:"Состав заказа не указан"})})]}),(x.notes||x.admin_notes)&&s.jsxs("div",{className:"mb-4",children:[x.notes&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Примечание клиента:"}),s.jsx("p",{className:"text-sm text-gray-600 bg-white p-2 rounded border mt-1",children:x.notes})]}),x.admin_notes&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Примечание администратора:"}),s.jsx("p",{className:"text-sm text-gray-600 bg-white p-2 rounded border mt-1",children:x.admin_notes})]})]}),x.assigned_executors&&x.assigned_executors.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Исполнители:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:x.assigned_executors.map((j,I)=>s.jsxs("span",{className:"status-badge status-processing",children:["ID: ",j]},I))})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[s.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:()=>g(x),children:[s.jsx(kl,{className:"mr-1"}),"Подробнее"]}),s.jsxs("button",{className:"btn btn-accent btn-sm",onClick:()=>S(e?x.user_id:1,x.id),children:[s.jsx(At,{className:"mr-1"}),e?"Чат с клиентом":"Написать администратору"]}),e&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>E(x),children:"Изменить статус"}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>_(x),children:"Назначить исполнителей"})]})]})]},x.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(it,{className:"text-4xl text-red-300 mx-auto mb-4"}),s.jsx("p",{className:"text-red-500",children:"Ошибка загрузки данных заказов"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Некорректный формат ответа сервера"}),s.jsx("button",{className:"btn btn-secondary btn-sm mt-3",onClick:y,children:"Попробовать снова"})]})})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Подробности заказа #",d.id]}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>g(null),children:"✕"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"ID заказа:"})," ",d.id]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Дата:"})," ",new Date(d.created_date).toLocaleString("ru-RU")]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Статус:"})," ",s.jsx("span",{className:R(d.status),children:d.status})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Общая сумма:"})," ",d.total_price,"₽"]}),e&&s.jsxs("div",{children:[s.jsx("strong",{children:"Клиент:"})," #",d.user_id]})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Состав заказа:"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded mt-2",children:d.products&&d.products.length>0?s.jsx("div",{className:"space-y-3",children:d.products.map((x,j)=>s.jsxs("div",{className:"border-b pb-2 last:border-b-0",children:[s.jsxs("div",{className:"font-medium",children:[x.name," (ID: ",x.id,")"]}),s.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[s.jsxs("div",{children:["Количество: ",x.quantity]}),x.selectedSize&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:["Размер: ",x.selectedSize.size]}),s.jsxs("div",{children:["Цена за единицу: ",x.selectedSize.price,"₽"]}),x.selectedSize.resin_ml&&s.jsxs("div",{children:["Количество смолы: ",x.selectedSize.resin_ml,"мл"]}),s.jsxs("div",{className:"font-medium mt-1",children:["Итого: ",x.selectedSize.price*x.quantity,"₽"]})]})]})]},j))}):s.jsx("p",{className:"text-gray-500",children:"Состав заказа не указан"})})]}),d.notes&&s.jsxs("div",{children:[s.jsx("strong",{children:"Примечание клиента:"}),s.jsx("p",{className:"bg-gray-50 p-3 rounded mt-2",children:d.notes})]}),d.admin_notes&&s.jsxs("div",{children:[s.jsx("strong",{children:"Примечание администратора:"}),s.jsx("p",{className:"bg-gray-50 p-3 rounded mt-2",children:d.admin_notes})]})]})]})})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Изменить статус заказа #",p.id]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Новый статус:"}),s.jsx("select",{className:"input select w-full",defaultValue:p.status,children:w.map(x=>s.jsx("option",{value:x,children:x},x))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"btn btn-primary flex-1",onClick:x=>{const j=x.target.closest(".p-6").querySelector("select");P(p.id,j.value)},children:"Обновить статус"}),s.jsx("button",{className:"btn btn-ghost flex-1",onClick:()=>E(null),children:"Отмена"})]})]})]})})}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Назначить исполнителей для заказа #",b.id]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Выберите исполнителей:"}),s.jsx("div",{className:"max-h-40 overflow-y-auto border rounded p-2",children:O.map(x=>{var j;return s.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50",children:[s.jsx("input",{type:"checkbox",defaultChecked:(j=b.assigned_executors)==null?void 0:j.includes(x.id)}),s.jsxs("span",{children:[x.username," (ID: ",x.id,")"]})]},x.id)})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"btn btn-primary flex-1",onClick:x=>{const j=x.target.closest(".p-6").querySelectorAll('input[type="checkbox"]:checked'),I=Array.from(j).map(M=>{const z=M.closest("label").textContent.match(/ID: (\d+)/);return z?parseInt(z[1]):null}).filter(M=>M!==null);f(b.id,I)},children:"Назначить"}),s.jsx("button",{className:"btn btn-ghost flex-1",onClick:()=>_(null),children:"Отмена"})]})]})]})})})]})},fo=({targetUserId:e=null,orderContext:t=null})=>{const[n,r]=k.useState([]),[l,a]=k.useState(""),[i,o]=k.useState([]),[c,u]=k.useState(null),[d,g]=k.useState(!1),[p,E]=k.useState(!1),[b,_]=k.useState(!1),O=k.useRef(null),h=JSON.parse(localStorage.getItem("currentUser")||"{}"),m=h.id===1,w=["😊","😂","😍","👍","👎","❤️","🔥","🎉","😢","😡","🤔","👏"];k.useEffect(()=>{m?y():u(e?{id:e,username:"Администратор",role:"admin"}:{id:1,username:"Администратор",role:"admin"})},[e,m]),k.useEffect(()=>{if(c){console.log("Selected user changed, loading messages for:",c);const j=`chat_messages_${h.id}_${c.id}`,I=localStorage.getItem(j);if(I)try{const N=JSON.parse(I);r(N),console.log("Loaded cached messages:",N.length)}catch(N){console.error("Ошибка парсинга сохраненных сообщений:",N),r([])}else r([]);const M=setTimeout(()=>{C()},100);return t&&a(`Заказ #${t}: `),()=>clearTimeout(M)}},[c,t]),k.useEffect(()=>{console.log("Messages state updated:",{length:n.length,messages:n,selectedUser:c==null?void 0:c.id,loading:d})},[n,c,d]),k.useEffect(()=>{var j;(j=O.current)==null||j.scrollIntoView({behavior:"smooth"})},[n]);const y=async()=>{var j,I;try{const M=await U.get("/api/users",{timeout:1e4,headers:{"Content-Type":"application/json"}});if(console.log("Загружены пользователи для чата:",M.data),M.data&&Array.isArray(M.data)){const N=M.data.filter(z=>z.id!==h.id&&z.id&&z.username);console.log("Отфильтровано пользователей:",N.length),o(N)}else console.warn("Некорректный ответ API пользователей:",M.data),o([])}catch(M){console.error("Детальная ошибка загрузки пользователей для чата:",{message:M.message,response:(j=M.response)==null?void 0:j.data,status:(I=M.response)==null?void 0:I.status});try{console.log("Пробуем админский API...");const N=await U.get("/api/admin/users",{timeout:1e4,headers:{"Content-Type":"application/json"}});if(N.data&&Array.isArray(N.data)){const z=N.data.filter(D=>D.id!==h.id&&D.id&&D.username);console.log("Админский API - отфильтровано пользователей:",z.length),o(z)}else console.warn("Админский API вернул некорректные данные"),o([])}catch(N){console.error("Админский API также не удался:",N),o([])}}},C=async()=>{var j,I;if(!c){console.warn("Нет выбранного пользователя для загрузки сообщений");return}try{g(!0),console.log("Загрузка сообщений для пользователя:",c);let M=[];const N=await U.get("/api/chat/messages",{params:{user_id:h.id,with_user_id:c.id,limit:100},timeout:1e4,headers:{"Content-Type":"application/json"}});console.log("Ответ API сообщений:",N.data),N.data&&Array.isArray(N.data)?M=N.data.filter(L=>L&&(L.id||L.message)):(console.warn("API вернул некорректные данные сообщений:",N.data),M=[]);const z=M.map(L=>({id:L.id||`msg_${Date.now()}_${Math.random()}`,content:L.message||L.content||"",created_at:L.created_date||L.created_at||new Date().toISOString(),sender_id:L.from_user_id||L.sender_id||0,receiver_id:L.to_user_id||L.receiver_id||0,sender_name:L.from_username||L.sender_name||(L.from_user_id===h.id?h.username:c.username)})).sort((L,A)=>new Date(L.created_at)-new Date(A.created_at));console.log("Нормализованные сообщения:",z.length),r(z);const D=`chat_messages_${h.id}_${c.id}`;try{localStorage.setItem(D,JSON.stringify(z))}catch(L){console.warn("Не удалось сохранить сообщения в localStorage:",L)}}catch(M){console.error("Детальная ошибка загрузки сообщений:",{message:M.message,response:(j=M.response)==null?void 0:j.data,status:(I=M.response)==null?void 0:I.status,selectedUser:c});const N=`chat_messages_${h.id}_${c.id}`;try{const z=localStorage.getItem(N);if(z){const D=JSON.parse(z);console.log("Загружены кэшированные сообщения:",D.length),r(D)}else console.log("Нет кэшированных сообщений"),r([])}catch(z){console.error("Ошибка загрузки кэшированных сообщений:",z),r([])}}finally{g(!1)}},P=async j=>{if(j.preventDefault(),!l.trim()||!c)return;const I=l.trim();try{const M={from_user_id:h.id,to_user_id:c.id,message:I},N={id:Date.now(),sender_id:h.id,receiver_id:c.id,content:I,sender_name:h.username||"Вы",created_at:new Date().toISOString()};r(D=>{const L=[...D,N],A=`chat_messages_${h.id}_${c.id}`;return localStorage.setItem(A,JSON.stringify(L)),L}),a(""),E(!1);const z=await U.post("/api/chat",M);if(z.data&&z.data.data){const D={...z.data.data,content:z.data.data.message||z.data.data.content,created_at:z.data.data.created_date||new Date().toISOString(),sender_name:z.data.data.from_username||h.username,sender_id:z.data.data.from_user_id,receiver_id:z.data.data.to_user_id};r(L=>{const A=L.map(B=>B.id===N.id?D:B),$=`chat_messages_${h.id}_${c.id}`;return localStorage.setItem($,JSON.stringify(A)),A})}}catch(M){console.error("Ошибка отправки сообщения:",M),r(N=>{const z=N.filter(L=>L.id!==(tempMessage==null?void 0:tempMessage.id)),D=`chat_messages_${h.id}_${c.id}`;return localStorage.setItem(D,JSON.stringify(z)),z}),a(I),alert("Ошибка при отправке сообщения")}},v=j=>{u(j),_(!1)},f=j=>{a(I=>I+j),E(!1)},S=j=>{switch(j){case"admin":return s.jsx(Bg,{className:"text-accent-blue"});case"executor":return s.jsx(_m,{className:"text-gray-600"});default:return s.jsx(qe,{className:"text-gray-500"})}},R=j=>({admin:"Администратор",executor:"Исполнитель",buyer:"Покупатель"})[j]||j,x=j=>new Date(j).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"chat-wrapper",children:[s.jsxs("div",{className:"chat-header",children:[s.jsx("h1",{className:"chat-title",children:m?"Чат с клиентами":"Чат с администратором"}),m&&s.jsx("button",{className:"mobile-users-btn",onClick:()=>_(!b),children:b?s.jsx(Jr,{}):s.jsx(Sl,{})})]}),s.jsxs("div",{className:"chat-container",children:[m&&s.jsxs("div",{className:`users-panel ${b?"mobile-users-open":""}`,children:[s.jsx("div",{className:"users-header",children:s.jsx("h2",{className:"users-title",children:"Пользователи"})}),s.jsx("div",{className:"users-list",children:i.length===0?s.jsx("div",{className:"no-users",children:"Нет доступных пользователей"}):s.jsx("div",{className:"users-scroll",children:i.map(j=>s.jsx("div",{className:`user-item ${(c==null?void 0:c.id)===j.id?"user-selected":""}`,onClick:()=>v(j),children:s.jsxs("div",{className:"user-content",children:[j.avatar?s.jsx("img",{src:j.avatar,alt:j.username,className:"user-avatar"}):s.jsx("div",{className:"user-avatar-placeholder",children:S(j.role)}),s.jsxs("div",{className:"user-info",children:[s.jsx("div",{className:"user-name",children:j.username}),s.jsxs("div",{className:"user-details",children:["ID: ",j.id," • ",R(j.role)]})]})]})},j.id))})})]}),s.jsxs("div",{className:"chat-main",children:[s.jsx("div",{className:"chat-user-header",children:c?s.jsxs("div",{className:"selected-user-info",children:[s.jsx("div",{className:"selected-user-avatar",children:S(c.role)}),s.jsxs("div",{className:"selected-user-details",children:[s.jsx("h2",{className:"selected-user-name",children:c.username}),s.jsx("div",{className:"selected-user-role",children:R(c.role)})]})]}):s.jsx("h2",{className:"no-user-selected",children:"Выберите пользователя"})}),c&&s.jsxs("div",{className:"chat-content",children:[s.jsx("div",{className:"messages-container",children:d?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{className:"loading-text",children:"Загрузка сообщений..."})]}):s.jsxs("div",{className:"messages-list",children:[n.length===0?s.jsxs("div",{className:"empty-messages",children:[s.jsx("i",{className:"fas fa-comment-dots empty-icon"}),s.jsx("p",{className:"empty-text",children:m?"Нет сообщений с этим пользователем":"Нет сообщений. Начните диалог!"}),s.jsx("small",{className:"empty-subtext",children:m?"Начните диалог, отправив первое сообщение":"Администратор отвечает на сообщения в рабочее время"})]}):n.map(j=>{var L,A;if(!j||typeof j!="object")return console.warn("Некорректное сообщение:",j),null;const I=j.id||`msg-${Math.random()}`,M=j.sender_id||j.from_user_id||0,N=j.content||j.message||"";j.sender_name||j.from_username;const z=j.created_at||j.created_date||new Date().toISOString(),D=M===h.id;return s.jsxs("div",{className:`message ${D?"message-sent":"message-received"}`,children:[s.jsx("div",{className:"message-avatar",children:D?((L=h.username)==null?void 0:L.charAt(0).toUpperCase())||"U":m?((A=c==null?void 0:c.username)==null?void 0:A.charAt(0).toUpperCase())||"?":"A"}),s.jsxs("div",{className:"message-content",children:[s.jsx("div",{className:"message-text",children:N}),s.jsx("div",{className:"message-time",children:x(z)})]})]},I)}),s.jsx("div",{ref:O})]})}),s.jsx("div",{className:"message-input-container",children:s.jsxs("form",{onSubmit:P,className:"message-form",children:[s.jsxs("div",{className:"input-wrapper",children:[s.jsx("textarea",{className:"message-input",placeholder:"Введите сообщение...",value:l,onChange:j=>a(j.target.value),rows:2,onKeyDown:j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),P(j))}}),s.jsx("button",{type:"button",className:"emoji-btn",onClick:()=>E(!p),children:s.jsx(Dg,{})}),p&&s.jsx("div",{className:"emoji-picker",children:w.map((j,I)=>s.jsx("button",{type:"button",className:"emoji-item",onClick:()=>f(j),children:j},I))})]}),s.jsx("button",{type:"submit",className:"send-btn",disabled:!l.trim(),children:s.jsx(Lg,{})})]})})]}),!c&&!m&&s.jsxs("div",{className:"no-chat-state",children:[s.jsx(qe,{className:"no-chat-icon"}),s.jsx("p",{className:"no-chat-text",children:"Чат с администратором будет доступен после входа в систему"})]})]})]}),c&&s.jsxs("div",{className:"quick-phrases",children:[s.jsx("div",{className:"quick-phrases-title",children:"Быстрые фразы:"}),s.jsx("div",{className:"quick-phrases-list",children:["Здравствуйте!","Спасибо за помощь","Есть вопрос по заказу","Когда будет готово?","Всё понятно"].map((j,I)=>s.jsx("button",{className:"quick-phrase-btn",onClick:()=>a(j),children:j},I))})]}),s.jsx("style",{jsx:!0,children:`
        .chat-wrapper {
          display: flex;
          flex-direction: column;
          height: calc(100vh - 100px);
          max-width: 1200px;
          margin: 0 auto;
          padding: 1rem;
        }

        .chat-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1rem;
          padding: 0 0.5rem;
        }

        .chat-title {
          font-size: 1.5rem;
          font-weight: bold;
          color: #000;
          margin: 0;
        }

        .mobile-users-btn {
          display: none;
          background: var(--accent-blue);
          color: white;
          border: none;
          padding: 0.5rem;
          border-radius: 0.25rem;
          cursor: pointer;
        }

        .chat-container {
          display: grid;
          grid-template-columns: 300px 1fr;
          gap: 1rem;
          height: 100%;
          background: white;
          border-radius: 0.5rem;
          overflow: hidden;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .users-panel {
          border-right: 1px solid #e0e0e0;
          display: flex;
          flex-direction: column;
          background: #f9f9f9;
        }

        .users-header {
          padding: 1rem;
          border-bottom: 1px solid #e0e0e0;
          background: white;
        }

        .users-title {
          font-size: 1.125rem;
          font-weight: 600;
          margin: 0;
          color: #000;
        }

        .users-list {
          flex: 1;
          overflow: hidden;
        }

        .no-users {
          padding: 2rem 1rem;
          text-align: center;
          color: #666;
        }

        .users-scroll {
          height: 100%;
          overflow-y: auto;
        }

        .user-item {
          padding: 1rem;
          border-bottom: 1px solid #e0e0e0;
          cursor: pointer;
          transition: background-color 0.2s;
          background: white;
        }

        .user-item:hover {
          background-color: #f0f0f0;
        }

        .user-selected {
          background-color: rgba(26, 54, 93, 0.1) !important;
          border-left: 4px solid var(--accent-blue);
        }

        .user-content {
          display: flex;
          gap: 0.75rem;
          align-items: center;
        }

        .user-avatar, .user-avatar-placeholder {
          width: 2.5rem;
          height: 2.5rem;
          border-radius: 50%;
          object-fit: cover;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #e0e0e0;
        }

        .user-info {
          flex: 1;
        }

        .user-name {
          font-weight: 500;
          color: #000;
          margin-bottom: 0.25rem;
        }

        .user-details {
          font-size: 0.875rem;
          color: #666;
        }

        .chat-main {
          display: flex;
          flex-direction: column;
          height: 100%;
        }

        .chat-user-header {
          padding: 1rem;
          border-bottom: 1px solid #e0e0e0;
          background: white;
        }

        .selected-user-info {
          display: flex;
          gap: 0.75rem;
          align-items: center;
        }

        .selected-user-avatar {
          width: 2rem;
          height: 2rem;
          border-radius: 50%;
          background: #e0e0e0;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .selected-user-name {
          font-size: 1.125rem;
          font-weight: 600;
          margin: 0;
          color: #000;
        }

        .selected-user-role {
          font-size: 0.875rem;
          color: #666;
        }

        .no-user-selected {
          font-size: 1.125rem;
          font-weight: 600;
          margin: 0;
          color: #666;
        }

        .chat-content {
          display: flex;
          flex-direction: column;
          flex: 1;
        }

        .messages-container {
          flex: 1;
          overflow-y: auto;
          padding: 1rem;
          background: #f9f9f9;
        }

        .loading-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100%;
        }

        .loading-spinner {
          width: 2rem;
          height: 2rem;
          border: 3px solid #e0e0e0;
          border-top: 3px solid var(--accent-blue);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-bottom: 1rem;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        .loading-text {
          color: #666;
          margin: 0;
        }

        .messages-list {
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
        }

        .empty-messages {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100%;
          text-align: center;
          padding: 2rem;
        }

        .empty-icon {
          font-size: 3rem;
          color: #ddd;
          margin-bottom: 1rem;
        }

        .empty-text {
          color: #666;
          margin: 0 0 0.5rem 0;
        }

        .empty-subtext {
          color: #999;
          font-size: 0.875rem;
        }

        .message {
          display: flex;
          gap: 0.5rem;
          align-items: flex-start;
          max-width: 70%;
        }

        .message-sent {
          margin-left: auto;
          flex-direction: row-reverse;
        }

        .message-received {
          margin-right: auto;
        }

        .message-avatar {
          width: 2rem;
          height: 2rem;
          border-radius: 50%;
          background: var(--accent-blue);
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 0.75rem;
          font-weight: bold;
          flex-shrink: 0;
        }

        .message-content {
          background: white;
          padding: 0.75rem;
          border-radius: 1rem;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .message-sent .message-content {
          background: var(--accent-blue);
          color: white;
        }

        .message-text {
          margin-bottom: 0.25rem;
          word-wrap: break-word;
        }

        .message-time {
          font-size: 0.75rem;
          opacity: 0.7;
        }

        .message-input-container {
          padding: 1rem;
          background: white;
          border-top: 1px solid #e0e0e0;
        }

        .message-form {
          display: flex;
          gap: 0.5rem;
          align-items: flex-end;
        }

        .input-wrapper {
          position: relative;
          flex: 1;
        }

        .message-input {
          width: 100%;
          padding: 0.75rem;
          border: 1px solid #ddd;
          border-radius: 1rem;
          resize: none;
          outline: none;
          font-family: inherit;
        }

        .message-input:focus {
          border-color: var(--accent-blue);
        }

        .emoji-btn {
          position: absolute;
          bottom: 0.5rem;
          right: 0.5rem;
          background: none;
          border: none;
          color: #666;
          cursor: pointer;
          padding: 0.25rem;
          border-radius: 50%;
          transition: background-color 0.2s;
        }

        .emoji-btn:hover {
          background: #f0f0f0;
        }

        .emoji-picker {
          position: absolute;
          bottom: 100%;
          right: 0;
          background: white;
          border: 1px solid #ddd;
          border-radius: 0.5rem;
          padding: 0.5rem;
          display: grid;
          grid-template-columns: repeat(6, 1fr);
          gap: 0.25rem;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .emoji-item {
          background: none;
          border: none;
          font-size: 1.25rem;
          padding: 0.25rem;
          cursor: pointer;
          border-radius: 0.25rem;
          transition: background-color 0.2s;
        }

        .emoji-item:hover {
          background: #f0f0f0;
        }

        .send-btn {
          background: var(--accent-blue);
          color: white;
          border: none;
          padding: 0.75rem;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background-color 0.2s;
          min-width: 3rem;
          height: 3rem;
        }

        .send-btn:hover:not(:disabled) {
          background: var(--accent-blue-hover);
        }

        .send-btn:disabled {
          background: #ccc;
          cursor: not-allowed;
        }

        .no-chat-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100%;
          padding: 2rem;
          text-align: center;
        }

        .no-chat-icon {
          font-size: 4rem;
          color: #ddd;
          margin-bottom: 1rem;
        }

        .no-chat-text {
          color: #666;
          margin: 0;
        }

        .quick-phrases {
          margin-top: 1rem;
          padding: 1rem;
          background: #f9f9f9;
          border-radius: 0.5rem;
        }

        .quick-phrases-title {
          font-size: 0.875rem;
          color: #666;
          margin-bottom: 0.5rem;
        }

        .quick-phrases-list {
          display: flex;
          flex-wrap: wrap;
          gap: 0.5rem;
        }

        .quick-phrase-btn {
          background: white;
          border: 1px solid #ddd;
          padding: 0.25rem 0.75rem;
          border-radius: 1rem;
          font-size: 0.75rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .quick-phrase-btn:hover {
          background: #f0f0f0;
          border-color: var(--accent-blue);
        }

        /* Мобильные стили */
        @media (max-width: 768px) {
          .chat-wrapper {
            padding: 0.5rem;
            height: calc(100vh - 60px);
          }

          .chat-header {
            margin-bottom: 0.5rem;
          }

          .chat-title {
            font-size: 1.125rem;
          }

          .mobile-users-btn {
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .chat-container {
            grid-template-columns: 1fr;
            position: relative;
          }

          .users-panel {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            border-right: none;
          }

          .mobile-users-open {
            transform: translateX(0);
          }

          .users-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
          }

          .message {
            max-width: 85%;
          }

          .message-avatar {
            width: 1.75rem;
            height: 1.75rem;
            font-size: 0.625rem;
          }

          .message-content {
            padding: 0.5rem 0.75rem;
          }

          .message-text {
            font-size: 0.875rem;
          }

          .message-time {
            font-size: 0.6875rem;
          }

          .message-input-container {
            padding: 0.75rem;
          }

          .message-input {
            padding: 0.5rem 2.5rem 0.5rem 0.75rem;
            font-size: 1rem;
          }

          .send-btn {
            min-width: 2.5rem;
            height: 2.5rem;
            padding: 0.5rem;
          }

          .quick-phrases {
            display: none;
          }

          .emoji-picker {
            grid-template-columns: repeat(4, 1fr);
            left: 50%;
            transform: translateX(-50%);
            right: auto;
          }

          .selected-user-name {
            font-size: 1rem;
          }

          .users-title {
            font-size: 1rem;
          }

          .user-item {
            padding: 0.75rem;
          }

          .user-avatar,
          .user-avatar-placeholder {
            width: 2rem;
            height: 2rem;
          }

          .user-name {
            font-size: 0.875rem;
          }

          .user-details {
            font-size: 0.75rem;
          }
        }

        @media (max-width: 480px) {
          .chat-wrapper {
            padding: 0.25rem;
          }

          .chat-title {
            font-size: 1rem;
          }

          .message {
            max-width: 90%;
          }

          .message-content {
            padding: 0.5rem;
          }

          .message-input {
            font-size: 16px; /* Предотвращает зум на iOS */
          }

          .emoji-picker {
            grid-template-columns: repeat(3, 1fr);
          }
        }

        /* Переменные CSS */
        :root {
          --accent-blue: #1a365d;
          --accent-blue-hover: #2c5282;
        }
      `})]})},Fr=({productId:e="",onClose:t})=>{const[n,r]=k.useState({product_name:"",model_links:[""],additional_name:"",required_heights:[""],images:[],product_id:e||""}),[l,a]=k.useState(!1),[i,o]=k.useState([]),[c,u]=k.useState([]),[d,g]=k.useState(!!e);k.useEffect(()=>{JSON.parse(localStorage.getItem("currentUser")||"{}").id&&p()},[]);const p=async()=>{try{const v=JSON.parse(localStorage.getItem("currentUser")||"{}");if(!v.id||!v.role){console.warn("Недостаточно данных пользователя для загрузки заявок"),u([]);return}const f=await U.get(`/api/custom-requests?user_id=${v.id}&role=${v.role}`);f.data&&Array.isArray(f.data)?u(f.data):(console.warn("Некорректный ответ от сервера:",f.data),u([]))}catch(v){console.error("Ошибка загрузки заявок:",v),u([])}},E=v=>{const{name:f,value:S}=v.target;r(R=>({...R,[f]:S}))},b=(v,f,S)=>{r(R=>({...R,[f]:R[f].map((x,j)=>j===v?S:x)}))},_=v=>{if(v==="model_links"&&n.model_links.length>=5){alert("Максимум 5 ссылок на модели");return}if(v==="required_heights"&&n.required_heights.length>=5){alert("Максимум 5 размеров высоты");return}r(f=>({...f,[v]:[...f[v],""]}))},O=(v,f)=>{n[v].length<=1||r(S=>({...S,[v]:S[v].filter((R,x)=>x!==f)}))},h=v=>{const f=Array.from(v.target.files);if(f.length>3){alert("Максимум 3 изображения");return}if(f.filter(x=>x.size>5*1024*1024).length>0){alert("Максимальный размер файла: 5MB");return}r(x=>({...x,images:f}));const R=f.map(x=>URL.createObjectURL(x));o(R)},m=async v=>{if(v.preventDefault(),!n.product_name.trim()){alert("Укажите название товара");return}const f=JSON.parse(localStorage.getItem("currentUser")||"{}");if(!f.id){alert("Необходимо войти в систему");return}try{a(!0);const S=new FormData;S.append("user_id",f.id),S.append("product_name",n.product_name),S.append("additional_name",n.additional_name),S.append("product_id",n.product_id);const R=n.model_links.filter(j=>j.trim()),x=n.required_heights.filter(j=>j.trim());S.append("model_links",JSON.stringify(R)),S.append("required_heights",JSON.stringify(x)),n.images.forEach((j,I)=>{S.append("images",j)}),await U.post("/api/custom-requests",S,{headers:{"Content-Type":"multipart/form-data"}}),alert("Заявка на замер успешно отправлена"),r({product_name:"",model_links:[""],additional_name:"",required_heights:[""],images:[],product_id:""}),o([]),g(!1),p(),t&&t()}catch(S){console.error("Ошибка отправки заявки:",S),alert("Ошибка при отправке заявки")}finally{a(!1)}},w=v=>`status-badge ${{"в обработке":"status-processing",ожидает:"status-created",отказано:"status-cancelled",выполнен:"status-completed"}[v]||"status-created"}`,y=JSON.parse(localStorage.getItem("currentUser")||"{}"),C=y.id===1,P=async(v,f,S="")=>{var R,x,j;if(!v||!f){alert("Некорректные данные для обновления статуса");return}if(!y.id||y.id!==1){alert("Недостаточно прав для изменения статуса");return}try{a(!0),console.log("Обновление статуса заявки:",v,f);const I={status:f};S&&S.trim()&&(I.admin_notes=S.trim());const M=await U.put(`/api/custom-requests/${v}`,I,{timeout:1e4,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера на обновление статуса:",M.status,M.data),M.status===200)alert("Статус заявки обновлен"),p();else throw new Error(`Неожиданный статус ответа: ${M.status}`)}catch(I){console.error("Детальная ошибка обновления статуса:",{message:I.message,response:(R=I.response)==null?void 0:R.data,status:(x=I.response)==null?void 0:x.status,requestId:v,newStatus:f});let M="Ошибка при обновлении статуса";I.response?I.response.status===404?M="Заявка не найдена":I.response.status===403?M="Недостаточно прав для изменения статуса":(j=I.response.data)!=null&&j.error&&(M=I.response.data.error):I.code==="ECONNABORTED"&&(M="Превышено время ожидания обновления"),alert(M)}finally{a(!1)}};return s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-black",children:C?"Управление заявками на замер":"Заявки на замер"}),!C&&s.jsx("button",{className:"btn btn-accent",onClick:()=>g(!d),children:d?"Скрыть форму":"Подать заявку на замер"})]}),d&&!C&&s.jsxs("div",{className:"card mb-8",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Новая заявка на замер"})}),s.jsx("div",{className:"card-body",children:s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Название товара *"}),s.jsx("input",{type:"text",name:"product_name",className:"input w-full",value:n.product_name,onChange:E,placeholder:"Введите название товара",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Дополнительное название"}),s.jsx("input",{type:"text",name:"additional_name",className:"input w-full",value:n.additional_name,onChange:E,placeholder:"Дополнительная информация о товаре"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"ID существующего товара (необязательно)"}),s.jsx("input",{type:"text",name:"product_id",className:"input w-full",value:n.product_id,onChange:E,placeholder:"Если есть похожий товар в каталоге"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ссылки на модель или сайт"}),n.model_links.map((v,f)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"url",className:"input flex-1",value:v,onChange:S=>b(f,"model_links",S.target.value),placeholder:"https://example.com/model"}),n.model_links.length>1&&s.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>O("model_links",f),children:"Удалить"})]},f)),n.model_links.length<5&&s.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>_("model_links"),children:"Добавить ссылку"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Нужная высота"}),n.required_heights.map((v,f)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",className:"input flex-1",value:v,onChange:S=>b(f,"required_heights",S.target.value),placeholder:"Например: 15 см, 20 см"}),n.required_heights.length>1&&s.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>O("required_heights",f),children:"Удалить"})]},f)),n.required_heights.length<5&&s.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>_("required_heights"),children:"Добавить размер"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Изображения (максимум 3, до 5MB каждое)"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:h,className:"input w-full"}),i.length>0&&s.jsx("div",{className:"flex gap-4 mt-4",children:i.map((v,f)=>s.jsx("div",{className:"relative",children:s.jsx("img",{src:v,alt:`Превью ${f+1}`,className:"w-24 h-24 object-cover rounded border"})},f))})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?"Отправка...":"Отправить заявку"}),s.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>g(!1),children:"Отмена"})]})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:C?"Все заявки на замер":"Мои заявки на замер"})}),s.jsx("div",{className:"card-body",children:c.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:C?"Нет заявок на замер":"У вас пока нет заявок на замер"}):s.jsx("div",{className:"space-y-4",children:c.map(v=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-black",children:v.product_name}),v.additional_name&&s.jsx("p",{className:"text-sm text-gray-600",children:v.additional_name}),C&&v.User&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Пользователь: ",v.User.username," (ID: ",v.user_id,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:w(v.status),children:v.status}),C&&s.jsx("div",{className:"flex gap-1",children:s.jsxs("select",{className:"text-xs p-1 border rounded",value:v.status,onChange:f=>{f.target.value!==v.status&&P(v.id,f.target.value)},disabled:l,children:[s.jsx("option",{value:"в обработке",children:"В обработке"}),s.jsx("option",{value:"ожидает",children:"Ожидает"}),s.jsx("option",{value:"выполнен",children:"Выполнен"}),s.jsx("option",{value:"отказано",children:"Отказано"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"ID заявки:"})," ",v.id]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Дата:"})," ",new Date(v.created_date).toLocaleDateString("ru-RU")]}),C&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Пользователь:"})," ID ",v.user_id]}),v.product_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"ID товара:"})," ",v.product_id]}),v.required_heights&&(()=>{try{const f=JSON.parse(v.required_heights||"[]");return f.length>0?s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Размеры:"})," ",f.join(", ")]}):null}catch(f){return console.error("Ошибка парсинга размеров:",f),null}})()]}),(v.admin_notes||C)&&s.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Примечание администратора:"}),C?s.jsx("textarea",{className:"w-full mt-1 p-2 border rounded text-sm",placeholder:"Добавить примечание...",defaultValue:v.admin_notes||"",onBlur:f=>{const S=f.target.value.trim(),R=(v.admin_notes||"").trim();S!==R&&P(v.id,v.status,S)},rows:2,disabled:l}):s.jsx("p",{className:"text-gray-600 mt-1",children:v.admin_notes})]}),v.model_links&&(()=>{try{const f=JSON.parse(v.model_links||"[]");return f.length>0?s.jsxs("div",{className:"mt-3",children:[s.jsx("span",{className:"font-medium text-gray-700 block mb-1",children:"Ссылки на модели:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((S,R)=>s.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-accent-blue text-white px-2 py-1 rounded hover:bg-accent-blue-hover",children:["Ссылка ",R+1]},R))})]}):null}catch(f){return console.error("Ошибка парсинга ссылок:",f),null}})(),v.images&&(()=>{try{const f=JSON.parse(v.images||"[]");return f.length>0?s.jsxs("div",{className:"mt-3",children:[s.jsx("span",{className:"font-medium text-gray-700 block mb-2",children:"Изображения:"}),s.jsx("div",{className:"flex gap-2",children:f.map((S,R)=>s.jsx("img",{src:S,alt:`Изображение ${R+1}`,className:"w-16 h-16 object-cover rounded border cursor-pointer hover:opacity-75",onClick:()=>window.open(S,"_blank"),onError:x=>{x.target.style.display="none",console.error("Ошибка загрузки изображения:",S)}},R))})]}):null}catch(f){return console.error("Ошибка парсинга изображений:",f),null}})()]},v.id))})})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white p-6 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-2"}),s.jsx("p",{children:"Отправка заявки..."})]})})})]})},Kc=()=>{const[e,t]=k.useState("catalog"),[n,r]=k.useState(null),[l,a]=k.useState([]),[i,o]=k.useState([]),[c,u]=k.useState(""),[d,g]=k.useState("name"),[p,E]=k.useState(!1),[b,_]=k.useState([]),[O,h]=k.useState([]),[m,w]=k.useState([]),[y,C]=k.useState(!1),[P,v]=k.useState(""),[f,S]=k.useState(!1);k.useEffect(()=>{const V=JSON.parse(localStorage.getItem("currentUser")||"{}");if(!V.id||V.role!=="buyer"){window.location.href="#/login";return}r(V),R(),x(),j();const J=ae=>{v(ae.detail.productId),C(!0),t("custom-requests")},K=()=>{x(),D()};return window.addEventListener("openCustomRequest",J),window.addEventListener("favoriteUpdated",K),()=>{window.removeEventListener("openCustomRequest",J),window.removeEventListener("favoriteUpdated",K)}},[]),k.useEffect(()=>{n!=null&&n.id&&l.length>0&&D()},[n,l]);const R=async(V="",J="name")=>{try{E(!0);const K=new URLSearchParams;V&&V.trim()&&(K.append("search",V.trim()),K.append("filter",J));const ae=await U.get(`/api/products?${K.toString()}`);a(ae.data),o(ae.data)}catch(K){console.error("Ошибка загрузки товаров:",K),a([]),o([])}finally{E(!1)}},x=async()=>{if(n!=null&&n.id)try{const V=JSON.parse(localStorage.getItem(`favorites_${n.id}`)||"[]");_(V);try{const J=await U.get(`/api/favorites/${n.id}`);if(J.data&&Array.isArray(J.data)){const K=J.data.map(ae=>ae.product_id||ae.id);localStorage.setItem(`favorites_${n.id}`,JSON.stringify(K)),_(K)}}catch{console.log("Используем локальные данные избранного")}}catch(V){console.error("Ошибка загрузки избранного:",V),_([])}},j=async()=>{if(n!=null&&n.id)try{const[V,J,K]=await Promise.all([U.get(`/api/chat?user_id=${n.id}`),U.get(`/api/orders?user_id=${n.id}&role=${n.role}`),U.get(`/api/custom-requests?user_id=${n.id}&role=${n.role}`)]),ae=V.data.filter(wt=>new Date(wt.created_date)>new Date(Date.now()-24*60*60*1e3)&&wt.to_user_id===n.id).length,Nt=J.data.filter(wt=>new Date(wt.updated_date||wt.created_date)>new Date(Date.now()-24*60*60*1e3)).length,po=K.data.filter(wt=>new Date(wt.updated_date||wt.created_date)>new Date(Date.now()-24*60*60*1e3)).length,Yr=[];ae>0&&Yr.push(`${ae} новых сообщений`),Nt>0&&Yr.push(`${Nt} изменений в заказах`),po>0&&Yr.push(`${po} изменений в заявках`),w(Yr)}catch(V){console.error("Ошибка загрузки уведомлений:",V)}},I=V=>{V.preventDefault(),R(c,d)},M=(V,J,K)=>{if(!J||!J.trim())return V;const ae=J.toLowerCase().trim();return V.filter(Nt=>{switch(K){case"description":return Nt.description&&Nt.description.toLowerCase().includes(ae);case"id":return Nt.id.toString()===ae;case"name":default:return Nt.name&&Nt.name.toLowerCase().includes(ae)}})},N=V=>{if(u(V),V.trim()==="")o(l);else{const J=M(l,V,d);o(J)}},z=V=>{if(g(V),c.trim()!==""){const J=M(l,c,V);o(J)}},D=async()=>{if(n!=null&&n.id)try{const V=await U.get(`/api/favorites/${n.id}`);if(V.data&&Array.isArray(V.data)){const J=V.data.map(K=>({...K,price_options:K.price_options?typeof K.price_options=="string"?JSON.parse(K.price_options):K.price_options:[],additional_images:K.additional_images?typeof K.additional_images=="string"?JSON.parse(K.additional_images):K.additional_images:[],is_favorite:!0}));console.log("Загружены избранные товары:",J),h(J)}}catch(V){console.error("Ошибка загрузки избранных товаров:",V);try{const J=JSON.parse(localStorage.getItem(`favorites_${n.id}`)||"[]");if(J.length>0&&l.length>0){const K=l.filter(ae=>J.includes(ae.id));h(K)}}catch(J){console.error("Fallback также не удался:",J),h([])}}},L=()=>O.length>0?O:b.length>0&&l.length>0?l.filter(V=>b.includes(V.id)):[],A=V=>{j(),x(),D()},$=()=>{u(""),o(l)},B=()=>{S(!1)},W=V=>{t(V),B()},be=()=>{switch(e){case"catalog":return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-4 lg:mb-6 gap-3 lg:gap-0",children:[s.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-black",children:"Каталог товаров"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[s.jsxs("form",{onSubmit:I,className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("select",{className:"input select w-full sm:w-auto",value:d,onChange:J=>z(J.target.value),children:[s.jsx("option",{value:"name",children:"По названию"}),s.jsx("option",{value:"description",children:"По описанию"}),s.jsx("option",{value:"id",children:"По ID"})]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Поиск товаров...",className:"input pl-10 w-full",value:c,onChange:J=>N(J.target.value)}),c&&s.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:$,children:"✕"})]}),s.jsx("button",{type:"submit",className:"btn btn-primary w-full sm:w-auto",children:"Найти"})]}),s.jsx("button",{className:"btn btn-accent w-full sm:w-auto",onClick:()=>C(!0),children:"Подать заявку на замер"})]})]}),c&&s.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded border",children:s.jsxs("div",{className:"text-sm text-gray-600",children:["Поиск по ",d==="name"?"названию":d==="description"?"описанию":"ID",":",s.jsxs("span",{className:"font-medium ml-1",children:['"',c,'"']}),s.jsxs("span",{className:"ml-2",children:["Найдено: ",i.length," из ",l.length," товаров"]}),s.jsx("button",{className:"ml-3 text-accent-blue hover:underline",onClick:$,children:"Очистить"})]})}),p?s.jsxs("div",{className:"text-center py-8 lg:py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 lg:h-8 lg:w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:"Загрузка товаров..."})]}):i.length===0?s.jsxs("div",{className:"text-center py-8 lg:py-12",children:[s.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:c?"Товары не найдены по вашему запросу":"Товары не найдены"}),c&&s.jsx("button",{className:"btn btn-ghost mt-4",onClick:$,children:"Показать все товары"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 lg:gap-6",children:i.map(J=>s.jsx(Dr,{product:J,onAddToCart:A,showCustomRequest:!0},J.id))})]});case"cart":return s.jsx(ef,{});case"profile":return s.jsx(uo,{});case"orders":return s.jsx(mo,{});case"custom-requests":return s.jsx(Fr,{productId:P,onClose:()=>{C(!1),v("")}});case"chat":return s.jsx(fo,{});case"favorites":const V=L();return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 lg:mb-6 gap-3 sm:gap-0",children:[s.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-black",children:"Избранные товары"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[V.length," товаров в избранном"]})]}),p?s.jsxs("div",{className:"text-center py-8 lg:py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 lg:h-8 lg:w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:"Загрузка избранных товаров..."})]}):V.length===0?s.jsxs("div",{className:"text-center py-8 lg:py-12",children:[s.jsx($t,{className:"text-4xl lg:text-6xl text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:"Нет избранных товаров"}),s.jsx("p",{className:"text-xs lg:text-sm text-gray-400 mt-2",children:"Добавляйте товары в избранное, нажимая на сердечко"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 lg:gap-6",children:V.map(J=>s.jsx(Dr,{product:J,onAddToCart:A,showCustomRequest:!0},J.id))})]});default:return s.jsx("div",{children:"Страница не найдена"})}};return n?s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("nav",{className:"nav shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6",children:[s.jsxs("div",{className:"flex justify-between items-center h-14 lg:h-16",children:[s.jsxs("div",{className:"flex items-center gap-4 lg:gap-8",children:[s.jsxs("div",{className:"header-logo-container",children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/fb4e11b1-32cb-4ee9-a6b8-90711522901e_1759499694999.jpg",alt:"NIGHTINGALE EMPIRE Logo",className:"logo-image"}),s.jsx("h1",{className:"text-base lg:text-xl font-bold text-white",children:"NIGHTINGALE EMPIRE"})]}),s.jsxs("div",{className:"hidden lg:flex gap-1",children:[s.jsxs("button",{className:`nav-link ${e==="catalog"?"active":""}`,onClick:()=>t("catalog"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/d808c41c-8078-41ec-9530-8a0955f2cc4e_1759499878628.jpg",alt:"Catalog Icon",className:"catalog-icon"}),"Каталог"]}),s.jsxs("button",{className:`nav-link ${e==="cart"?"active":""}`,onClick:()=>t("cart"),children:[s.jsx(Re,{className:"mr-2"}),"Корзина"]}),s.jsxs("button",{className:`nav-link ${e==="orders"?"active":""}`,onClick:()=>t("orders"),children:[s.jsx(it,{className:"mr-2"}),"Заказы"]}),s.jsxs("button",{className:`nav-link ${e==="custom-requests"?"active":""}`,onClick:()=>t("custom-requests"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/78891927-a4e5-4a24-990f-9f9ef122df28_1759499812794.jpg",alt:"Measurement Icon",className:"measurement-icon"}),"Заявки на замер"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[m.length>0&&s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"text-white text-base lg:text-lg"}),s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-4 h-4 lg:w-5 lg:h-5 flex items-center justify-center",children:m.length})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[s.jsxs("button",{className:`nav-link ${e==="favorites"?"active":""}`,onClick:()=>t("favorites"),children:[s.jsx($t,{className:"mr-2"}),"Избранное"]}),s.jsxs("button",{className:`nav-link ${e==="chat"?"active":""}`,onClick:()=>t("chat"),children:[s.jsx(At,{className:"mr-2"}),"Чат"]}),s.jsxs("button",{className:`nav-link ${e==="profile"?"active":""}`,onClick:()=>t("profile"),children:[s.jsx(qe,{className:"mr-2"}),"Профиль"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white",children:[n.avatar&&s.jsx("img",{src:n.avatar,alt:"Avatar",className:"w-6 h-6 lg:w-8 lg:h-8 rounded-full object-cover"}),s.jsxs("div",{className:"text-xs lg:text-sm hidden sm:block",children:[s.jsx("div",{className:"font-medium",children:n.username}),s.jsx("div",{className:"text-xs text-gray-300",children:"Покупатель"})]})]}),s.jsx("button",{className:"lg:hidden text-white p-2",onClick:()=>S(!f),children:f?s.jsx(Jr,{}):s.jsx(Sl,{})}),s.jsx("button",{className:"btn btn-ghost text-white hover:bg-gray-800 text-xs lg:text-sm px-2 lg:px-4",onClick:()=>{localStorage.removeItem("currentUser"),window.location.href="#/login"},children:"Выход"})]})]}),f&&s.jsx("div",{className:"lg:hidden bg-gray-800 mt-2 rounded-lg overflow-hidden",children:s.jsxs("div",{className:"flex flex-col space-y-1 p-2",children:[s.jsxs("button",{className:`mobile-nav-link ${e==="catalog"?"active":""}`,onClick:()=>W("catalog"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/d808c41c-8078-41ec-9530-8a0955f2cc4e_1759499878628.jpg",alt:"Catalog Icon",className:"catalog-icon mr-3"}),"Каталог"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="cart"?"active":""}`,onClick:()=>W("cart"),children:[s.jsx(Re,{className:"mr-3"}),"Корзина"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="orders"?"active":""}`,onClick:()=>W("orders"),children:[s.jsx(it,{className:"mr-3"}),"Заказы"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="custom-requests"?"active":""}`,onClick:()=>W("custom-requests"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/78891927-a4e5-4a24-990f-9f9ef122df28_1759499812794.jpg",alt:"Measurement Icon",className:"measurement-icon mr-3"}),"Заявки на замер"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="favorites"?"active":""}`,onClick:()=>W("favorites"),children:[s.jsx($t,{className:"mr-3"}),"Избранное"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="chat"?"active":""}`,onClick:()=>W("chat"),children:[s.jsx(At,{className:"mr-3"}),"Чат"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="profile"?"active":""}`,onClick:()=>W("profile"),children:[s.jsx(qe,{className:"mr-3"}),"Профиль"]})]})})]})}),m.length>0&&s.jsx("div",{className:"bg-accent-blue bg-opacity-10 border-b border-accent-blue",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-2 lg:py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(cn,{className:"text-accent-blue flex-shrink-0"}),s.jsx("div",{className:"text-xs lg:text-sm text-accent-blue",children:s.jsx("div",{className:"truncate",children:m.join(", ")})})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-4 lg:py-8",children:be()}),y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-4 lg:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold",children:"Подача заявки на замер"}),s.jsx("button",{className:"btn btn-ghost p-2",onClick:()=>{C(!1),v("")},children:"✕"})]}),s.jsx(Fr,{productId:P,onClose:()=>{C(!1),v("")}})]})})}),s.jsx("style",{jsx:!0,children:`
        .mobile-nav-link {
          display: flex;
          align-items: center;
          padding: 12px 16px;
          color: white;
          text-decoration: none;
          border-radius: 6px;
          transition: background-color 0.2s;
          font-size: 14px;
          width: 100%;
          text-align: left;
          background: none;
          border: none;
          cursor: pointer;
        }
        
        .mobile-nav-link:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }
        
        .mobile-nav-link.active {
          background-color: var(--accent-blue);
        }
      `})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 lg:h-8 lg:w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:"Загрузка..."})]})})},k0=()=>{var M;const[e,t]=k.useState([]),[n,r]=k.useState(!1),[l,a]=k.useState(""),[i,o]=k.useState(!1),[c,u]=k.useState(null),[d,g]=k.useState(null),[p,E]=k.useState({name:"",related_name:"",description:"",original_height:"",original_width:"",original_length:"",parts_count:1,main_image:null,additional_images:[],price_options:[{size:"",price:"",resin_ml:""}],is_visible:!0}),[b,_]=k.useState({main:null,additional:[]}),O=JSON.parse(localStorage.getItem("currentUser")||"{}");k.useEffect(()=>{O.id===1&&h()},[l]);const h=async()=>{try{r(!0);const N=new URLSearchParams;l&&N.append("search",l);const z=await U.get(`/api/products?${N.toString()}&admin=true`);t(z.data)}catch(N){console.error("Ошибка загрузки товаров:",N)}finally{r(!1)}},m=N=>{const{name:z,value:D,type:L,checked:A}=N.target;E($=>({...$,[z]:L==="checkbox"?A:D}))},w=(N,z,D)=>{E(L=>({...L,price_options:L.price_options.map((A,$)=>$===N?{...A,[z]:D}:A)}))},y=()=>{E(N=>({...N,price_options:[...N.price_options,{size:"",price:"",resin_ml:""}]}))},C=N=>{p.price_options.length<=1||E(z=>({...z,price_options:z.price_options.filter((D,L)=>L!==N)}))},P=N=>{const z=N.target.files[0];if(z){if(z.size>5*1024*1024){alert("Максимальный размер файла: 5MB");return}E(D=>({...D,main_image:z})),_(D=>({...D,main:URL.createObjectURL(z)}))}},v=N=>{const z=Array.from(N.target.files);if(z.length>4){alert("Максимум 4 дополнительных изображения");return}if(z.filter(A=>A.size>5*1024*1024).length>0){alert("Максимальный размер файла: 5MB");return}E(A=>({...A,additional_images:z}));const L=z.map(A=>URL.createObjectURL(A));_(A=>({...A,additional:L}))},f=async N=>{var z,D,L,A,$;if(N.preventDefault(),!p.name.trim()){alert("Укажите название товара");return}if(p.price_options.some(B=>!B.size||!B.price)){alert("Заполните все варианты размеров и цен");return}for(const B of p.price_options){const W=parseFloat(B.price);if(isNaN(W)||W<=0){alert(`Неверная цена для размера "${B.size}". Цена должна быть положительным числом.`);return}}try{r(!0),console.log("Создание товара:",p);const B=new FormData;B.append("name",p.name.trim()),B.append("related_name",((z=p.related_name)==null?void 0:z.trim())||""),B.append("description",((D=p.description)==null?void 0:D.trim())||""),B.append("original_height",p.original_height||""),B.append("original_width",p.original_width||""),B.append("original_length",p.original_length||""),B.append("parts_count",p.parts_count||1),B.append("is_visible",p.is_visible);const W=p.price_options.filter(V=>V.size&&V.price).map(V=>({...V,price:parseFloat(V.price),resin_ml:V.resin_ml?parseFloat(V.resin_ml):""}));B.append("price_options",JSON.stringify(W)),p.main_image&&B.append("main_image",p.main_image),p.additional_images.forEach(V=>{B.append("additional_images",V)}),console.log("Отправка данных на сервер...");const be=await U.post("/api/products",B,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4});console.log("Ответ сервера:",be.data),alert("Товар создан успешно"),x(),h()}catch(B){console.error("Детальная ошибка создания товара:",{message:B.message,response:(L=B.response)==null?void 0:L.data,status:(A=B.response)==null?void 0:A.status,config:B.config});let W="Ошибка при создании товара";B.response?W=(($=B.response.data)==null?void 0:$.error)||`Ошибка сервера: ${B.response.status}`:B.request?W="Нет связи с сервером. Проверьте подключение к интернету.":B.message&&(W=B.message),alert(W)}finally{r(!1)}},S=async N=>{if(N.preventDefault(),!!c)try{r(!0);const z={name:p.name,related_name:p.related_name,description:p.description,original_height:p.original_height,original_width:p.original_width,original_length:p.original_length,parts_count:p.parts_count,is_visible:p.is_visible,price_options:JSON.stringify(p.price_options)};await U.put(`/api/products/${c.id}`,z),alert("Товар обновлен успешно"),u(null),x(),h()}catch(z){console.error("Ошибка обновления товара:",z),alert("Ошибка при обновлении товара")}finally{r(!1)}},R=async N=>{var z,D,L,A;if(confirm("Вы уверены, что хотите удалить этот товар?"))try{r(!0),console.log("Попытка удалить товар с ID:",N);const $=await U.delete(`/api/products/${N}`,{timeout:1e4,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера на удаление:",$.status,$.data),$.status===200||(z=$.data)!=null&&z.success)alert("Товар удален успешно"),h();else throw new Error("Неожиданный ответ сервера")}catch($){console.error("Детальная ошибка удаления товара:",{message:$.message,response:(D=$.response)==null?void 0:D.data,status:(L=$.response)==null?void 0:L.status,productId:N});let B="Ошибка при удалении товара";$.response?$.response.status===404?B="Товар не найден":$.response.status===403?B="Недостаточно прав для удаления товара":(A=$.response.data)!=null&&A.error?B=$.response.data.error:B+=`: ${$.response.status}`:$.code==="ECONNABORTED"?B="Превышено время ожидания удаления товара":$.request&&(B="Нет связи с сервером"),alert(B)}finally{r(!1)}},x=()=>{E({name:"",related_name:"",description:"",original_height:"",original_width:"",original_length:"",parts_count:1,main_image:null,additional_images:[],price_options:[{size:"",price:"",resin_ml:""}],is_visible:!0}),_({main:null,additional:[]}),o(!1),u(null)},j=N=>{u(N),E({name:N.name,related_name:N.related_name||"",description:N.description||"",original_height:N.original_height||"",original_width:N.original_width||"",original_length:N.original_length||"",parts_count:N.parts_count||1,main_image:null,additional_images:[],price_options:N.price_options||[{size:"",price:"",resin_ml:""}],is_visible:N.is_visible}),o(!0)},I=async()=>{try{const N=await U.get("/api/products/export"),z=JSON.stringify(N.data,null,2),D=new Blob([z],{type:"application/json"}),L=URL.createObjectURL(D),A=document.createElement("a");A.href=L,A.download=`products_${new Date().toISOString().split("T")[0]}.json`,A.click(),URL.revokeObjectURL(L)}catch(N){console.error("Ошибка экспорта:",N),alert("Ошибка при экспорте товаров")}};return O.id!==1?s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Доступ запрещен. Только для администраторов."})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-black",children:"Управление товарами"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"btn btn-secondary",onClick:I,children:[s.jsx(Og,{className:"mr-2"}),"Экспорт"]}),s.jsxs("button",{className:"btn btn-accent",onClick:()=>o(!0),children:[s.jsx(ll,{className:"mr-2"}),"Добавить товар"]})]})]}),s.jsx("div",{className:"card mb-6",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"relative",children:[s.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Поиск по названию, описанию или ID...",className:"input pl-10 w-full",value:l,onChange:N=>a(N.target.value)})]})})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-xl font-semibold",children:["Товары (",e.length,")"]})}),s.jsx("div",{className:"card-body",children:n?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка товаров..."})]}):e.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Товары не найдены"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"ID"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Изображение"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Название"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Варианты цен"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Продажи"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Статус"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Действия"})]})}),s.jsx("tbody",{children:e.map(N=>{var z;return s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-3 font-medium",children:N.id}),s.jsx("td",{className:"p-3",children:N.main_image&&s.jsx("img",{src:N.main_image,alt:N.name,className:"w-12 h-12 object-cover rounded border"})}),s.jsxs("td",{className:"p-3",children:[s.jsx("div",{className:"font-medium",children:N.name}),N.related_name&&s.jsx("div",{className:"text-sm text-gray-500",children:N.related_name})]}),s.jsx("td",{className:"p-3",children:s.jsx("div",{className:"text-sm",children:(z=N.price_options)==null?void 0:z.map((D,L)=>s.jsxs("div",{className:"mb-1",children:[D.size,": ",D.price,"₽",D.resin_ml&&s.jsxs("span",{className:"text-gray-500",children:[" (",D.resin_ml,"мл)"]})]},L))})}),s.jsx("td",{className:"p-3",children:N.sales_count||0}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`status-badge ${N.is_visible?"status-completed":"status-cancelled"}`,children:N.is_visible?"Отображается":"Скрыт"})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>g(N),title:"Просмотр",children:s.jsx(kl,{})}),s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>j(N),title:"Редактировать",children:s.jsx(ao,{})}),s.jsx("button",{className:"btn btn-sm bg-red-500 text-white hover:bg-red-600",onClick:()=>R(N.id),title:"Удалить",children:s.jsx(Un,{})})]})})]},N.id)})})]})})})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:c?"Редактировать товар":"Добавить товар"}),s.jsxs("form",{onSubmit:c?S:f,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Название *"}),s.jsx("input",{type:"text",name:"name",className:"input w-full",value:p.name,onChange:m,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Связанное название"}),s.jsx("input",{type:"text",name:"related_name",className:"input w-full",value:p.related_name,onChange:m})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Описание"}),s.jsx("textarea",{name:"description",className:"input textarea w-full",value:p.description,onChange:m,rows:3})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Исходная высота"}),s.jsx("input",{type:"number",step:"0.1",name:"original_height",className:"input w-full",value:p.original_height,onChange:m})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Исходная ширина"}),s.jsx("input",{type:"number",step:"0.1",name:"original_width",className:"input w-full",value:p.original_width,onChange:m})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Исходная длина"}),s.jsx("input",{type:"number",step:"0.1",name:"original_length",className:"input w-full",value:p.original_length,onChange:m})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Количество деталей"}),s.jsx("input",{type:"number",min:"1",name:"parts_count",className:"input w-full",value:p.parts_count,onChange:m})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Варианты размеров и цен *"}),p.price_options.map((N,z)=>s.jsxs("div",{className:"flex gap-3 mb-3 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"Размер (например: 10см)",className:"input w-full",value:N.size,onChange:D=>w(z,"size",D.target.value),required:!0})}),s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"number",placeholder:"Цена в рублях",className:"input w-full",value:N.price,onChange:D=>w(z,"price",D.target.value),required:!0})}),s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"number",step:"0.1",placeholder:"Количество смолы (мл)",className:"input w-full",value:N.resin_ml,onChange:D=>w(z,"resin_ml",D.target.value)})}),p.price_options.length>1&&s.jsx("button",{type:"button",className:"btn btn-sm bg-red-500 text-white hover:bg-red-600",onClick:()=>C(z),children:s.jsx(Un,{})})]},z)),s.jsxs("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:y,children:[s.jsx(ll,{className:"mr-2"}),"Добавить вариант"]})]}),!c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Главное изображение"}),s.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"input w-full"}),b.main&&s.jsx("img",{src:b.main,alt:"Превью",className:"w-24 h-24 object-cover rounded border mt-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Дополнительные изображения (до 4)"}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:v,className:"input w-full"}),b.additional.length>0&&s.jsx("div",{className:"flex gap-2 mt-2",children:b.additional.map((N,z)=>s.jsx("img",{src:N,alt:`Превью ${z+1}`,className:"w-16 h-16 object-cover rounded border"},z))})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"is_visible",checked:p.is_visible,onChange:m}),s.jsx("span",{className:"text-sm",children:"Отображать в каталоге"})]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",className:"btn btn-primary flex-1",disabled:n,children:c?"Обновить":"Создать"}),s.jsx("button",{type:"button",className:"btn btn-ghost flex-1",onClick:x,children:"Отмена"})]})]})]})})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:d.name}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>g(null),children:"✕"})]}),s.jsxs("div",{className:"space-y-4",children:[d.main_image&&s.jsx("img",{src:d.main_image,alt:d.name,className:"w-full h-48 object-cover rounded border"}),s.jsxs("div",{children:[s.jsx("strong",{children:"ID:"})," ",d.id]}),d.related_name&&s.jsxs("div",{children:[s.jsx("strong",{children:"Связанное название:"})," ",d.related_name]}),d.description&&s.jsxs("div",{children:[s.jsx("strong",{children:"Описание:"})," ",d.description]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Варианты размеров и цен:"}),s.jsx("div",{className:"mt-2 space-y-2",children:(M=d.price_options)==null?void 0:M.map((N,z)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Размер:"})," ",N.size]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Цена:"})," ",N.price,"₽"]}),N.resin_ml&&s.jsxs("div",{children:[s.jsx("strong",{children:"Смола:"})," ",N.resin_ml,"мл"]})]},z))})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Продажи:"})," ",d.sales_count||0]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Статус:"})," ",s.jsx("span",{className:`status-badge ${d.is_visible?"status-completed":"status-cancelled"}`,children:d.is_visible?"Отображается":"Скрыт"})]})]})]})})})]})},_0=()=>{const[e,t]=k.useState([]),[n,r]=k.useState(!1),[l,a]=k.useState(""),[i,o]=k.useState(""),[c,u]=k.useState("registration_date"),[d,g]=k.useState("desc"),[p,E]=k.useState(!1),[b,_]=k.useState(null),[O,h]=k.useState(null),[m,w]=k.useState([]),[y,C]=k.useState({username:"",password:"",role:"buyer"}),P=JSON.parse(localStorage.getItem("currentUser")||"{}");k.useEffect(()=>{P.id===1&&v()},[l,i,c,d]);const v=async()=>{var N,z;try{r(!0);const D=new URLSearchParams;l&&D.append("search",l),i&&D.append("role_filter",i),console.log("Загрузка пользователей с параметрами:",D.toString());const L=await U.get(`/api/users?${D.toString()}`,{timeout:15e3,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера пользователей:",L.data),!L.data||!Array.isArray(L.data)){console.error("Некорректный ответ сервера:",L.data);try{const $=await U.get(`/api/admin/users?${D.toString()}`,{timeout:1e4});if($.data&&Array.isArray($.data)){console.log("Использован fallback admin API"),t($.data);return}}catch($){console.error("Fallback API также не работает:",$)}t([]);return}let A=[...L.data];A.sort(($,B)=>{let W,be;switch(c){case"username":W=($.username||"").toLowerCase(),be=(B.username||"").toLowerCase();break;case"registration_date":W=new Date($.registration_date||0),be=new Date(B.registration_date||0);break;case"role":W=$.role||"",be=B.role||"";break;default:W=$.id||0,be=B.id||0}return d==="asc"?W>be?1:-1:W<be?1:-1}),console.log("Загружено пользователей:",A.length),t(A)}catch(D){console.error("Детальная ошибка загрузки пользователей:",{message:D.message,response:(N=D.response)==null?void 0:N.data,status:(z=D.response)==null?void 0:z.status}),console.warn("Не удалось загрузить пользователей, устанавливаем пустой массив"),t([])}finally{r(!1)}},f=async N=>{var z,D;if(N.preventDefault(),!y.username.trim()||!y.password.trim()){alert("Заполните все обязательные поля");return}try{r(!0),console.log("Создание пользователя:",y);const L=await U.post("/api/register",{username:y.username.trim(),password:y.password,role:y.role});console.log("Пользователь создан:",L.data),alert("Пользователь создан успешно"),C({username:"",password:"",role:"buyer"}),E(!1),v()}catch(L){console.error("Ошибка создания пользователя:",L),alert(((D=(z=L.response)==null?void 0:z.data)==null?void 0:D.error)||"Ошибка при создании пользователя")}finally{r(!1)}},S=async(N,z)=>{try{r(!0),await U.put(`/api/users/${N}`,z),alert("Пользователь обновлен успешно"),_(null),v()}catch(D){console.error("Ошибка обновления пользователя:",D),alert("Ошибка при обновлении пользователя")}finally{r(!1)}},R=async N=>{var z,D;if(confirm("Вы уверены, что хотите удалить этого пользователя?"))try{r(!0),await U.delete(`/api/users/${N}`),alert("Пользователь удален успешно"),v()}catch(L){console.error("Ошибка удаления пользователя:",L),alert(((D=(z=L.response)==null?void 0:z.data)==null?void 0:D.error)||"Ошибка при удалении пользователя")}finally{r(!1)}},x=async(N,z)=>{confirm(`Изменить роль пользователя на "${z}"?`)&&await S(N,{role:z})},j=async N=>{try{r(!0);const z=await U.get(`/api/portfolio/${N}`);w(z.data),h(N)}catch(z){console.error("Ошибка загрузки портфолио:",z),alert("Ошибка при загрузке портфолио")}finally{r(!1)}},I=N=>`status-badge ${({buyer:{label:"Покупатель",class:"status-created"},executor:{label:"Исполнитель",class:"status-processing"},admin:{label:"Администратор",class:"status-completed"}}[N]||{class:"status-created"}).class}`,M=N=>({buyer:"Покупатель",executor:"Исполнитель",admin:"Администратор"})[N]||N;return P.id!==1?s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Доступ запрещен. Только для администраторов."})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-black",children:"Управление пользователями"}),s.jsxs("button",{className:"btn btn-accent",onClick:()=>E(!0),children:[s.jsx(ll,{className:"mr-2"}),"Добавить пользователя"]})]}),s.jsx("div",{className:"card mb-6",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Поиск по ID или никнейму...",className:"input pl-10 w-full",value:l,onChange:N=>a(N.target.value)})]}),s.jsx("div",{children:s.jsxs("select",{className:"input select w-full",value:i,onChange:N=>o(N.target.value),children:[s.jsx("option",{value:"",children:"Все роли"}),s.jsx("option",{value:"buyer",children:"Покупатели"}),s.jsx("option",{value:"executor",children:"Исполнители"}),s.jsx("option",{value:"admin",children:"Администраторы"})]})}),s.jsx("div",{children:s.jsxs("select",{className:"input select w-full",value:c,onChange:N=>u(N.target.value),children:[s.jsx("option",{value:"registration_date",children:"По дате регистрации"}),s.jsx("option",{value:"username",children:"По алфавиту"}),s.jsx("option",{value:"role",children:"По роли"})]})}),s.jsx("div",{children:s.jsx("button",{className:"btn btn-ghost w-full flex items-center justify-center",onClick:()=>g(d==="asc"?"desc":"asc"),children:d==="asc"?s.jsxs(s.Fragment,{children:[s.jsx(Fg,{className:"mr-2"}),"По возрастанию"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ag,{className:"mr-2"}),"По убыванию"]})})})]})})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-xl font-semibold",children:["Пользователи (",e.length,")"]})}),s.jsx("div",{className:"card-body",children:n?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка пользователей..."})]}):e.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Пользователи не найдены"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"ID"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Никнейм"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Роль"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Регистрация"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Действия"})]})}),s.jsx("tbody",{children:e.map(N=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-3 font-medium",children:N.id||"N/A"}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[N.avatar&&s.jsx("img",{src:N.avatar,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover",onError:z=>{z.target.style.display="none"}}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:N.username||"Неизвестный пользователь"}),N.city&&s.jsx("div",{className:"text-sm text-gray-500",children:N.city})]})]})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:I(N.role||"buyer"),children:M(N.role||"buyer")})}),s.jsx("td",{className:"p-3 text-sm text-gray-600",children:N.registration_date?new Date(N.registration_date).toLocaleDateString("ru-RU"):"Неизвестно"}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>_(N),title:"Редактировать",disabled:n,children:s.jsx(ao,{})}),N.role==="executor"&&s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>j(N.id),title:"Портфолио",disabled:n,children:s.jsx(Ir,{})}),s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>x(N.id,N.role==="buyer"?"executor":"buyer"),title:"Изменить роль",disabled:n||N.id===1,children:s.jsx(_m,{})}),N.id!==1&&s.jsx("button",{className:"btn btn-sm bg-red-500 text-white hover:bg-red-600",onClick:()=>R(N.id),title:"Удалить",disabled:n,children:s.jsx(Un,{})})]})})]},N.id))})]})})})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Добавить пользователя"}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Никнейм *"}),s.jsx("input",{type:"text",className:"input w-full",value:y.username,onChange:N=>C({...y,username:N.target.value}),placeholder:"Введите никнейм",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Пароль *"}),s.jsx("input",{type:"password",className:"input w-full",value:y.password,onChange:N=>C({...y,password:N.target.value}),placeholder:"Введите пароль",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Роль"}),s.jsxs("select",{className:"input select w-full",value:y.role,onChange:N=>C({...y,role:N.target.value}),children:[s.jsx("option",{value:"buyer",children:"Покупатель"}),s.jsx("option",{value:"executor",children:"Исполнитель"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",className:"btn btn-primary flex-1",disabled:n,children:"Создать"}),s.jsx("button",{type:"button",className:"btn btn-ghost flex-1",onClick:()=>{E(!1),C({username:"",password:"",role:"buyer"})},children:"Отмена"})]})]})]})})}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Редактировать пользователя #",b.id]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Никнейм"}),s.jsx("input",{type:"text",className:"input w-full",defaultValue:b.username,onBlur:N=>_({...b,username:N.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Город"}),s.jsx("input",{type:"text",className:"input w-full",defaultValue:b.city||"",onBlur:N=>_({...b,city:N.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Роль"}),s.jsxs("select",{className:"input select w-full",value:b.role,onChange:N=>_({...b,role:N.target.value}),children:[s.jsx("option",{value:"buyer",children:"Покупатель"}),s.jsx("option",{value:"executor",children:"Исполнитель"}),b.id===1&&s.jsx("option",{value:"admin",children:"Администратор"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Новый пароль (оставьте пустым, если не меняете)"}),s.jsx("input",{type:"password",className:"input w-full",onBlur:N=>_({...b,password:N.target.value})})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{className:"btn btn-primary flex-1",onClick:()=>{const N={...b};delete N.id,delete N.registration_date,N.password||delete N.password,S(b.id,N)},disabled:n,children:"Сохранить"}),s.jsx("button",{className:"btn btn-ghost flex-1",onClick:()=>_(null),children:"Отмена"})]})]})]})})}),O&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[80vh] overflow-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Портфолио пользователя #",O]}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>{h(null),w([])},children:"✕"})]}),m.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"Портфолио пусто"}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:m.map(N=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:N.image_path,alt:`Работа ${N.id}`,className:"w-full h-32 object-cover rounded border cursor-pointer hover:opacity-75",onClick:()=>window.open(N.image_path,"_blank")}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 text-center",children:new Date(N.created_date).toLocaleDateString("ru-RU")})]},N.id))})]})})})]})},C0=()=>{const[e,t]=k.useState({payment_info:"",price_coefficient:5.25,discount_rules:[],show_discount_on_products:!1}),[n]=k.useState(()=>{try{return JSON.parse(localStorage.getItem("currentUser")||"{}")}catch{return{}}}),[r,l]=k.useState({name:"",type:"percentage",value:0,conditions:{min_total_spent:0,role:"",registration_date_after:"",min_order_amount:0,monthly_orders_count:0,monthly_spent_amount:0,start_date:"",end_date:"",user_id:"",product_ids:[]}}),[a,i]=k.useState(""),[o,c]=k.useState(!1),[u,d]=k.useState(null);k.useEffect(()=>{JSON.parse(localStorage.getItem("currentUser")||"{}").id===1?g():console.error("Доступ к настройкам запрещен")},[]);const g=async()=>{var y,C,P;try{console.log("Загрузка настроек...");const v=await U.get("/api/settings",{timeout:15e3,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера на загрузку настроек:",v.data),v.data&&v.status===200){let f=[];if(v.data.discount_rules)try{f=typeof v.data.discount_rules=="string"?JSON.parse(v.data.discount_rules):v.data.discount_rules}catch(R){console.warn("Ошибка парсинга discount_rules:",R),f=[]}const S={payment_info:v.data.payment_info||"",price_coefficient:parseFloat(v.data.price_coefficient)||5.25,discount_rules:Array.isArray(f)?f:[],show_discount_on_products:!!v.data.show_discount_on_products};console.log("Успешно загружены настройки:",S),t(S)}else console.warn("Сервер не вернул корректные данные, используем значения по умолчанию"),p()}catch(v){console.error("Критическая ошибка загрузки настроек:",{message:v.message,response:(y=v.response)==null?void 0:y.data,status:(C=v.response)==null?void 0:C.status,stack:v.stack}),p(),((P=v.response)==null?void 0:P.status)===404?console.info("API настроек недоступно, используем локальные значения"):v.code==="ECONNABORTED"?alert("Превышено время ожидания загрузки настроек"):alert("Ошибка при загрузке настроек. Используются значения по умолчанию.")}},p=()=>{console.log("Установка настроек по умолчанию"),t({payment_info:`Реквизиты для оплаты:
Банковская карта: 1234 5678 9012 3456
Яндекс.Деньги: 410011234567890
QIWI: +79001234567`,price_coefficient:5.25,discount_rules:[],show_discount_on_products:!1})},E=async y=>{var C,P,v;if(!y){alert("Некорректные данные для обновления");return}try{c(!0),console.log("Подготовка данных для отправки:",y);const f={payment_info:String(y.payment_info||""),price_coefficient:parseFloat(y.price_coefficient)||5.25,discount_rules:JSON.stringify(Array.isArray(y.discount_rules)?y.discount_rules:[]),show_discount_on_products:!!y.show_discount_on_products};console.log("Валидированные данные для отправки:",f);const S=await U.put("/api/settings",f,{headers:{"Content-Type":"application/json"},timeout:2e4});if(console.log("Успешный ответ сервера:",S.data),S.status===200)t({...y,discount_rules:Array.isArray(y.discount_rules)?y.discount_rules:[]}),alert("Настройки успешно обновлены");else throw new Error(`Неожиданный статус ответа: ${S.status}`)}catch(f){console.error("Критическая ошибка обновления настроек:",{message:f.message,response:(C=f.response)==null?void 0:C.data,status:(P=f.response)==null?void 0:P.status,stack:f.stack});let S="Ошибка при обновлении настроек";f.response?f.response.status===403?S="Недостаточно прав для изменения настроек":f.response.status===500?S="Ошибка сервера при сохранении настроек":S+=`: ${((v=f.response.data)==null?void 0:v.error)||f.response.statusText}`:f.code==="ECONNABORTED"?S="Превышено время ожидания. Проверьте соединение с сервером.":f.request?S="Нет ответа от сервера. Проверьте подключение к интернету.":S+=`: ${f.message}`,alert(S)}finally{c(!1)}},b=async()=>{if(!r.name||!r.name.trim()){alert("Укажите название скидки");return}if(!r.value||parseFloat(r.value)<=0){alert("Укажите корректное значение скидки");return}if(r.type==="percentage"&&parseFloat(r.value)>100){alert("Процентная скидка не может превышать 100%");return}try{const y={...r,id:Date.now()+Math.random(),name:r.name.trim(),value:parseFloat(r.value),conditions:{...r.conditions,min_total_spent:parseFloat(r.conditions.min_total_spent)||0,min_order_amount:parseFloat(r.conditions.min_order_amount)||0,monthly_orders_count:parseInt(r.conditions.monthly_orders_count)||0,monthly_spent_amount:parseFloat(r.conditions.monthly_spent_amount)||0}};console.log("Добавляется новая скидка:",y);const C=[...e.discount_rules||[],y];console.log("Обновленный список скидок:",C),await E({...e,discount_rules:C}),l({name:"",type:"percentage",value:0,conditions:{min_total_spent:0,role:"",registration_date_after:"",min_order_amount:0,monthly_orders_count:0,monthly_spent_amount:0,start_date:"",end_date:"",user_id:"",product_ids:[]}}),console.log("Скидка успешно добавлена и форма сброшена")}catch(y){console.error("Ошибка при добавлении скидки:",y),alert("Ошибка при добавлении скидки. Попробуйте еще раз.")}},_=y=>{const C=e.discount_rules.filter(P=>P.id!==y);E({...e,discount_rules:C})},O=async()=>{var y,C,P;if(confirm("Экспортировать все данные базы? Это может занять некоторое время."))try{c(!0),console.log("Начинаем экспорт базы данных...");const v=await U.get("/api/backup/all",{timeout:6e4,headers:{"Content-Type":"application/json"}});console.log("Данные экспорта получены:",v.data);const f=JSON.stringify(v.data,null,2),S=new Blob([f],{type:"application/json"}),R=URL.createObjectURL(S),x=document.createElement("a");x.href=R,x.download=`database_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(R),alert("База данных успешно экспортирована!"),console.log("Экспорт базы данных завершен")}catch(v){console.error("Критическая ошибка экспорта базы данных:",{message:v.message,response:(y=v.response)==null?void 0:y.data,status:(C=v.response)==null?void 0:C.status,stack:v.stack});let f="Ошибка при экспорте базы данных";v.response?v.response.status===403?f="Недостаточно прав для экспорта базы данных":v.response.status===500?f="Ошибка сервера при экспорте базы данных":(P=v.response.data)!=null&&P.error?f+=`: ${v.response.data.error}`:f+=`: HTTP ${v.response.status}`:v.code==="ECONNABORTED"?f="Превышено время ожидания экспорта базы данных":v.request?f="Нет соединения с сервером":f+=`: ${v.message}`,alert(f)}finally{c(!1)}},h=y=>{const C=y.target.files[0];if(C){if(console.log("Выбран файл для импорта:",{name:C.name,size:C.size,type:C.type,lastModified:new Date(C.lastModified).toLocaleString()}),!C.name.toLowerCase().endsWith(".json")){alert("Файл должен иметь расширение .json"),y.target.value="";return}const v=["application/json","text/json","text/plain"];if(C.type&&!v.includes(C.type)&&(console.warn("Неожиданный MIME тип:",C.type),!confirm(`Файл имеет тип "${C.type}". Продолжить импорт?`))){y.target.value="";return}if(C.size>50*1024*1024){alert("Файл слишком большой. Максимальный размер: 50MB"),y.target.value="";return}if(C.size===0){alert("Файл пустой. Выберите файл с данными."),y.target.value="";return}console.log("Файл успешно выбран для импорта"),d(C)}else d(null)},m=async()=>{var P,v,f;if(!u){alert("Выберите файл для импорта");return}if(!u.type||!u.type.includes("json")){alert("Файл должен быть в формате JSON");return}if(u.size>50*1024*1024){alert("Файл слишком большой. Максимальный размер: 50MB");return}try{const S=await u.text(),R=JSON.parse(S);if(!R||typeof R!="object")throw new Error("Некорректная структура файла");const j=["users","products","orders"].filter(I=>!R[I]||!Array.isArray(R[I]));if(j.length>0)throw new Error(`Отсутствуют обязательные поля: ${j.join(", ")}`);console.log("Валидация файла прошла успешно:",{users:R.users.length,products:R.products.length,orders:R.orders.length,settings:R.settings?R.settings.length:0})}catch(S){console.error("Ошибка валидации файла:",S),alert(`Ошибка в файле: ${S.message}. Убедитесь, что файл содержит корректные данные.`);return}if(!confirm(`ВНИМАНИЕ! Вы собираетесь заменить ВСЮ базу данных.

Все текущие данные будут удалены:
- Пользователи
- Товары
- Заказы
- Сообщения
- Настройки

Это действие НЕОБРАТИМО!

Вы уверены, что хотите продолжить?`))return;if(prompt('Для подтверждения введите "УДАЛИТЬ ВСЕ ДАННЫЕ" (без кавычек):')!=="УДАЛИТЬ ВСЕ ДАННЫЕ"){alert("Импорт отменен");return}try{c(!0),console.log("Начинаем импорт базы данных...");const S=new FormData;S.append("backup_file",u);const R=await U.post("/api/backup/restore",S,{headers:{"Content-Type":"multipart/form-data"},timeout:12e4,onUploadProgress:x=>{const j=Math.round(x.loaded*100/x.total);console.log(`Загрузка файла: ${j}%`)}});if(console.log("Ответ сервера на импорт:",R.status,R.data),R.status===200&&R.data){const x=R.data;if(x.success){let j="База данных успешно импортирована!";x.imported&&(j+=`

Импортировано:
`,x.imported.users&&(j+=`- Пользователей: ${x.imported.users}
`),x.imported.products&&(j+=`- Товаров: ${x.imported.products}
`),x.imported.orders&&(j+=`- Заказов: ${x.imported.orders}
`),x.imported.settings&&(j+=`- Настроек: ${x.imported.settings}
`)),j+=`
Перезагрузите страницу для применения изменений.`,alert(j),d(null);const I=document.querySelector('input[type="file"]');I&&(I.value=""),console.log("Импорт базы данных завершен успешно"),confirm("Импорт завершен. Перезагрузить страницу сейчас?")&&window.location.reload()}else throw new Error(x.message||x.error||"Сервер сообщил об ошибке импорта")}else throw new Error(`Неожиданный ответ сервера: статус ${R.status}`)}catch(S){console.error("Критическая ошибка импорта базы данных:",{message:S.message,response:(P=S.response)==null?void 0:P.data,status:(v=S.response)==null?void 0:v.status,stack:S.stack});let R="Ошибка при импорте базы данных";if(S.response){const x=S.response.status,j=(f=S.response.data)==null?void 0:f.error;x===400?(R="Некорректный файл или формат данных",j&&(R+=`: ${j}`)):x===403?R="Недостаточно прав для импорта базы данных":x===413?R="Файл слишком большой для загрузки":x===500?(R="Ошибка сервера при импорте базы данных",j&&(R+=`: ${j}`)):j?R+=`: ${j}`:R+=`: HTTP ${x}`}else S.code==="ECONNABORTED"?R="Превышено время ожидания импорта базы данных (более 2 минут)":S.request?R="Нет соединения с сервером. Проверьте подключение к интернету.":S.message&&(R+=`: ${S.message}`);alert(R)}finally{c(!1)}},w=async()=>{var y,C,P;if(!a||!a.trim()){alert("Введите сообщение для рассылки");return}if(!n||!n.id){alert("Ошибка: не определен текущий пользователь");return}try{c(!0);const v={message:a.trim(),from_user_id:n.id};console.log("Отправка рассылки с данными:",v);const f=await U.post("/api/chat/broadcast",v,{headers:{"Content-Type":"application/json"},timeout:15e3});if(console.log("Полный ответ сервера на рассылку:",f),f.status===200||f.status===201){const S=f.data;let R="Рассылка отправлена успешно!";S&&(S.count!==void 0&&(R+=`
Отправлено сообщений: ${S.count}`),S.recipients!==void 0&&(R+=`
Получателей: ${S.recipients}`),S.message&&(R+=`
${S.message}`)),alert(R),i(""),console.log("Рассылка успешно завершена")}else throw new Error(`Неожиданный статус ответа: ${f.status}`)}catch(v){console.error("Критическая ошибка при рассылке:",{message:v.message,response:(y=v.response)==null?void 0:y.data,status:(C=v.response)==null?void 0:C.status,stack:v.stack});let f="Ошибка при отправке рассылки";if(v.response){const S=v.response.status,R=(P=v.response.data)==null?void 0:P.error;S===403?f="Недостаточно прав для отправки рассылки":S===404?f="API рассылки не найдено":S===500?f="Ошибка сервера при отправке рассылки":R?f+=`: ${R}`:f+=`: HTTP ${S}`}else v.code==="ECONNABORTED"?f="Превышено время ожидания отправки рассылки":v.request?f="Нет соединения с сервером":f+=`: ${v.message}`;alert(f)}finally{c(!1)}};return!n.id||n.id!==1?s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Доступ запрещен. Только для администраторов."})}):s.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-black mb-8",children:"Системные настройки"}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Информация для оплаты"})}),s.jsxs("div",{className:"card-body",children:[s.jsx("textarea",{className:"input textarea w-full mb-4",placeholder:"Введите реквизиты для оплаты...",value:e.payment_info,onChange:y=>t({...e,payment_info:y.target.value}),rows:4}),s.jsx("button",{className:"btn btn-primary",onClick:()=>E(e),disabled:o,children:"Сохранить реквизиты"})]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Коэффициент стоимости"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("label",{className:"text-gray-700",children:"Коэффициент:"}),s.jsx("input",{type:"number",step:"0.01",className:"input w-32",value:e.price_coefficient,onChange:y=>t({...e,price_coefficient:parseFloat(y.target.value)||0})}),s.jsx("span",{className:"text-gray-500",children:"(по умолчанию 5.25 = +0%)"})]}),s.jsx("button",{className:"btn btn-primary",onClick:()=>E(e),disabled:o,children:"Обновить коэффициент"})]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Управление скидками"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Активные скидки"}),e.discount_rules.length===0?s.jsx("p",{className:"text-gray-500",children:"Скидки не настроены"}):s.jsx("div",{className:"space-y-3",children:e.discount_rules.map(y=>s.jsx("div",{className:"border rounded p-4 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-black",children:y.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Тип: ",y.type==="percentage"?"Процент":"Фиксированная сумма"," - ",y.value,y.type==="percentage"?"%":"₽"]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[y.conditions.min_total_spent>0&&`Мин. потрачено: ${y.conditions.min_total_spent}₽ `,y.conditions.role&&`Роль: ${y.conditions.role} `,y.conditions.min_order_amount>0&&`Мин. сумма заказа: ${y.conditions.min_order_amount}₽ `]})]}),s.jsx("button",{className:"btn btn-sm bg-red-500 text-white hover:bg-red-600",onClick:()=>_(y.id),children:"Удалить"})]})},y.id))})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Добавить новую скидку"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Название скидки"}),s.jsx("input",{type:"text",className:"input w-full",value:r.name,onChange:y=>l({...r,name:y.target.value}),placeholder:"Например: Скидка постоянным клиентам"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Тип скидки"}),s.jsxs("select",{className:"input select w-full",value:r.type,onChange:y=>l({...r,type:y.target.value}),children:[s.jsx("option",{value:"percentage",children:"Процент"}),s.jsx("option",{value:"fixed",children:"Фиксированная сумма"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Значение"}),s.jsx("input",{type:"number",className:"input w-full",value:r.value,onChange:y=>l({...r,value:parseFloat(y.target.value)||0}),placeholder:r.type==="percentage"?"10":"500"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-md font-medium mb-2",children:"Условия применения"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Мин. потрачено всего (₽)"}),s.jsx("input",{type:"number",className:"input w-full text-sm",value:r.conditions.min_total_spent,onChange:y=>l({...r,conditions:{...r.conditions,min_total_spent:parseFloat(y.target.value)||0}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Роль"}),s.jsxs("select",{className:"input select w-full text-sm",value:r.conditions.role,onChange:y=>l({...r,conditions:{...r.conditions,role:y.target.value}}),children:[s.jsx("option",{value:"",children:"Любая"}),s.jsx("option",{value:"buyer",children:"Покупатель"}),s.jsx("option",{value:"executor",children:"Исполнитель"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Мин. сумма заказа (₽)"}),s.jsx("input",{type:"number",className:"input w-full text-sm",value:r.conditions.min_order_amount,onChange:y=>l({...r,conditions:{...r.conditions,min_order_amount:parseFloat(y.target.value)||0}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"ID пользователя"}),s.jsx("input",{type:"text",className:"input w-full text-sm",value:r.conditions.user_id,onChange:y=>l({...r,conditions:{...r.conditions,user_id:y.target.value}}),placeholder:"Оставить пустым для всех"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Дата начала"}),s.jsx("input",{type:"date",className:"input w-full text-sm",value:r.conditions.start_date,onChange:y=>l({...r,conditions:{...r.conditions,start_date:y.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Дата окончания"}),s.jsx("input",{type:"date",className:"input w-full text-sm",value:r.conditions.end_date,onChange:y=>l({...r,conditions:{...r.conditions,end_date:y.target.value}})})]})]})]}),s.jsx("button",{className:"btn btn-accent mr-4",onClick:b,disabled:o,children:"Добавить скидку"})]}),s.jsxs("div",{className:"border-t pt-4 mt-6",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.show_discount_on_products,onChange:y=>t({...e,show_discount_on_products:y.target.checked})}),s.jsx("span",{className:"text-sm",children:"Отображать применение скидки на товарах"})]}),s.jsx("button",{className:"btn btn-secondary mt-2",onClick:()=>E(e),disabled:o,children:"Сохранить настройку отображения"})]})]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Управление базой данных"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Экспорт данных"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Скачать все данные базы в формате JSON для резервного копирования"}),s.jsx("button",{className:"btn btn-primary w-full",onClick:O,disabled:o,children:"Экспортировать базу данных"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Импорт данных"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Загрузить данные из JSON файла (заменит текущую базу данных)"}),s.jsx("input",{type:"file",accept:".json",onChange:h,className:"input w-full mb-2",disabled:o}),s.jsx("div",{className:"text-xs text-red-500 mb-2",children:"⚠️ Внимание! Импорт полностью заменит текущую базу данных"}),u&&s.jsx("button",{className:"btn btn-accent w-full",onClick:m,disabled:o,children:"Импортировать базу данных"})]})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Общая рассылка"})}),s.jsxs("div",{className:"card-body",children:[s.jsx("textarea",{className:"input textarea w-full mb-4",placeholder:"Введите сообщение для рассылки всем пользователям...",value:a,onChange:y=>i(y.target.value),rows:3}),s.jsx("button",{className:"btn btn-accent",onClick:w,disabled:o||!a.trim(),children:"Отправить рассылку"})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white p-6 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-2"}),s.jsx("p",{children:"Обновление настроек..."})]})})})]})},Gc=()=>{const[e,t]=k.useState("catalog"),[n,r]=k.useState(null),[l,a]=k.useState([]),[i,o]=k.useState(""),[c,u]=k.useState(!1),[d,g]=k.useState([]),[p,E]=k.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalRequests:0}),[b,_]=k.useState(!1);k.useEffect(()=>{const f=JSON.parse(localStorage.getItem("currentUser")||"{}");if(!f.id||f.id!==1){alert("Доступ запрещен. Только для администраторов."),window.location.href="#/login";return}r(f),O(),h(),m()},[]);const O=async()=>{try{u(!0);const f=new URLSearchParams;i&&f.append("search",i),f.append("admin","true");const S=await U.get(`/api/products?${f.toString()}`);a(S.data)}catch(f){console.error("Ошибка загрузки товаров:",f)}finally{u(!1)}},h=async()=>{if(n!=null&&n.id)try{const[f,S,R]=await Promise.all([U.get(`/api/chat?user_id=${n.id}`),U.get("/api/orders"),U.get("/api/custom-requests")]),x=f.data.filter(N=>new Date(N.created_date)>new Date(Date.now()-24*60*60*1e3)&&N.to_user_id===n.id).length,j=S.data.filter(N=>new Date(N.created_date)>new Date(Date.now()-24*60*60*1e3)).length,I=R.data.filter(N=>new Date(N.created_date)>new Date(Date.now()-24*60*60*1e3)).length,M=[];x>0&&M.push(`${x} новых сообщений`),j>0&&M.push(`${j} новых заказов`),I>0&&M.push(`${I} новых заявок`),g(M)}catch(f){console.error("Ошибка загрузки уведомлений:",f)}},m=async()=>{try{const[f,S,R,x]=await Promise.all([U.get("/api/products?admin=true"),U.get("/api/orders"),U.get("/api/users"),U.get("/api/custom-requests")]);E({totalProducts:f.data.length,totalOrders:S.data.length,totalUsers:R.data.length,totalRequests:x.data.length})}catch(f){console.error("Ошибка загрузки статистики:",f)}},w=f=>{h()},y=async()=>{try{const f=await U.get("/api/backup/all"),S=JSON.stringify(f.data,null,2),R=new Blob([S],{type:"application/json"}),x=URL.createObjectURL(R),j=document.createElement("a");j.href=x,j.download=`backup_${new Date().toISOString().split("T")[0]}.json`,j.click(),URL.revokeObjectURL(x),alert("Резервная копия создана успешно")}catch(f){console.error("Ошибка создания резервной копии:",f),alert("Ошибка при создании резервной копии")}},C=()=>{_(!1)},P=f=>{t(f),C()};k.useEffect(()=>{O()},[i]);const v=()=>{switch(e){case"catalog":return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-black",children:"Каталог товаров"}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:s.jsx("input",{type:"text",placeholder:"Поиск товаров...",className:"input flex-1 sm:flex-none",value:i,onChange:f=>o(f.target.value)})})]}),c?s.jsxs("div",{className:"text-center py-8 sm:py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Загрузка товаров..."})]}):l.length===0?s.jsx("div",{className:"text-center py-8 sm:py-12",children:s.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Товары не найдены"})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-6",children:l.map(f=>s.jsx(Dr,{product:f,onAddToCart:w,showCustomRequest:!1},f.id))})]});case"dashboard":return s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-black mb-4 sm:mb-6",children:"Панель управления"}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center p-3 sm:p-6",children:[s.jsx(Re,{className:"text-2xl sm:text-3xl text-accent-blue mx-auto mb-2"}),s.jsx("h3",{className:"text-sm sm:text-lg font-semibold mb-1",children:"Товары"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-accent-blue",children:p.totalProducts})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center p-3 sm:p-6",children:[s.jsx(it,{className:"text-2xl sm:text-3xl text-accent-blue mx-auto mb-2"}),s.jsx("h3",{className:"text-sm sm:text-lg font-semibold mb-1",children:"Заказы"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-accent-blue",children:p.totalOrders})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center p-3 sm:p-6",children:[s.jsx(gs,{className:"text-2xl sm:text-3xl text-accent-blue mx-auto mb-2"}),s.jsx("h3",{className:"text-sm sm:text-lg font-semibold mb-1",children:"Пользователи"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-accent-blue",children:p.totalUsers})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center p-3 sm:p-6",children:[s.jsx(At,{className:"text-2xl sm:text-3xl text-accent-blue mx-auto mb-2"}),s.jsx("h3",{className:"text-sm sm:text-lg font-semibold mb-1",children:"Заявки"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-accent-blue",children:p.totalRequests})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Быстрые действия"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs("button",{className:"btn btn-accent text-xs sm:text-sm",onClick:()=>t("product-manager"),children:[s.jsx(Re,{className:"mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Управление "}),"товарами"]}),s.jsxs("button",{className:"btn btn-accent text-xs sm:text-sm",onClick:()=>t("orders"),children:[s.jsx(it,{className:"mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Управление "}),"заказами"]}),s.jsxs("button",{className:"btn btn-accent text-xs sm:text-sm",onClick:()=>t("user-manager"),children:[s.jsx(gs,{className:"mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Управление "}),"пользователями"]}),s.jsxs("button",{className:"btn btn-accent text-xs sm:text-sm",onClick:y,children:[s.jsx(Rg,{className:"mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Создать "}),"резервную копию"]})]})})]})]});case"orders":return s.jsx(mo,{isAdmin:!0});case"custom-requests":return s.jsx(Fr,{});case"chat":return s.jsx(fo,{});case"product-manager":return s.jsx(k0,{});case"user-manager":return s.jsx(_0,{});case"settings":return s.jsx(C0,{});case"profile":return s.jsx(uo,{});default:return s.jsx("div",{children:"Страница не найдена"})}};return n?s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("nav",{className:"nav shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[s.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"header-logo-container",children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/fb4e11b1-32cb-4ee9-a6b8-90711522901e_1759499694999.jpg",alt:"NIGHTINGALE EMPIRE Logo",className:"logo-image"}),s.jsx("h1",{className:"text-base sm:text-xl font-bold text-white",children:"NIGHTINGALE EMPIRE"})]}),s.jsx("button",{className:"md:hidden text-white p-1",onClick:()=>_(!b),children:b?s.jsx(Jr,{size:20}):s.jsx(Sl,{size:20})})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[s.jsxs("button",{className:`nav-link text-sm ${e==="dashboard"?"active":""}`,onClick:()=>t("dashboard"),children:[s.jsx(Lc,{className:"mr-2"}),"Панель"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="catalog"?"active":""}`,onClick:()=>t("catalog"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/d808c41c-8078-41ec-9530-8a0955f2cc4e_1759499878628.jpg",alt:"Catalog Icon",className:"catalog-icon"}),"Каталог"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="orders"?"active":""}`,onClick:()=>t("orders"),children:[s.jsx(it,{className:"mr-2"}),"Заказы"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="custom-requests"?"active":""}`,onClick:()=>t("custom-requests"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/78891927-a4e5-4a24-990f-9f9ef122df28_1759499812794.jpg",alt:"Measurement Icon",className:"measurement-icon"}),"Заявки"]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[d.length>0&&s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"text-white text-base sm:text-lg"}),s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:d.length})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[s.jsxs("button",{className:`nav-link text-sm ${e==="product-manager"?"active":""}`,onClick:()=>t("product-manager"),children:[s.jsx(Re,{className:"mr-2"}),"Товары"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="user-manager"?"active":""}`,onClick:()=>t("user-manager"),children:[s.jsx(gs,{className:"mr-2"}),"Пользователи"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="chat"?"active":""}`,onClick:()=>t("chat"),children:[s.jsx(At,{className:"mr-2"}),"Чат"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="settings"?"active":""}`,onClick:()=>t("settings"),children:[s.jsx(Ic,{className:"mr-2"}),"Настройки"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="profile"?"active":""}`,onClick:()=>t("profile"),children:[s.jsx(qe,{className:"mr-2"}),"Профиль"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white",children:[n.avatar&&s.jsx("img",{src:n.avatar,alt:"Avatar",className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full object-cover"}),s.jsxs("div",{className:"text-xs sm:text-sm hidden sm:block",children:[s.jsx("div",{className:"font-medium",children:n.username}),s.jsx("div",{className:"text-xs text-gray-300",children:"Администратор"})]})]}),s.jsx("button",{className:"btn btn-ghost text-white hover:bg-gray-800 text-xs sm:text-sm px-2 sm:px-4",onClick:()=>{localStorage.removeItem("currentUser"),window.location.href="#/login"},children:"Выход"})]})]}),b&&s.jsx("div",{className:"md:hidden bg-gray-800 mt-2 rounded-lg overflow-hidden",children:s.jsxs("div",{className:"flex flex-col space-y-1 p-2",children:[s.jsxs("button",{className:`mobile-nav-link ${e==="dashboard"?"active":""}`,onClick:()=>P("dashboard"),children:[s.jsx(Lc,{className:"mr-3"}),"Панель управления"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="catalog"?"active":""}`,onClick:()=>P("catalog"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/d808c41c-8078-41ec-9530-8a0955f2cc4e_1759499878628.jpg",alt:"Catalog Icon",className:"catalog-icon mr-3"}),"Каталог"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="orders"?"active":""}`,onClick:()=>P("orders"),children:[s.jsx(it,{className:"mr-3"}),"Заказы"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="custom-requests"?"active":""}`,onClick:()=>P("custom-requests"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/78891927-a4e5-4a24-990f-9f9ef122df28_1759499812794.jpg",alt:"Measurement Icon",className:"measurement-icon mr-3"}),"Заявки на замер"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="product-manager"?"active":""}`,onClick:()=>P("product-manager"),children:[s.jsx(Re,{className:"mr-3"}),"Управление товарами"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="user-manager"?"active":""}`,onClick:()=>P("user-manager"),children:[s.jsx(gs,{className:"mr-3"}),"Управление пользователями"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="chat"?"active":""}`,onClick:()=>P("chat"),children:[s.jsx(At,{className:"mr-3"}),"Чат"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="settings"?"active":""}`,onClick:()=>P("settings"),children:[s.jsx(Ic,{className:"mr-3"}),"Настройки"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="profile"?"active":""}`,onClick:()=>P("profile"),children:[s.jsx(qe,{className:"mr-3"}),"Профиль"]})]})})]})}),d.length>0&&s.jsx("div",{className:"bg-accent-blue bg-opacity-10 border-b border-accent-blue",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(cn,{className:"text-accent-blue flex-shrink-0"}),s.jsx("div",{className:"text-xs sm:text-sm text-accent-blue overflow-hidden",children:s.jsx("div",{className:"truncate",children:d.join(", ")})})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-8",children:v()}),s.jsx("style",{jsx:!0,children:`
        .mobile-nav-link {
          display: flex;
          align-items: center;
          padding: 12px 16px;
          color: white;
          text-decoration: none;
          border-radius: 6px;
          transition: background-color 0.2s;
          font-size: 14px;
          width: 100%;
          text-align: left;
          background: none;
          border: none;
          cursor: pointer;
        }
        
        .mobile-nav-link:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }
        
        .mobile-nav-link.active {
          background-color: var(--accent-blue);
        }
        
        @media (max-width: 640px) {
          .nav {
            position: sticky;
            top: 0;
            z-index: 40;
          }
          
          .nav-link {
            padding: 6px 12px;
            font-size: 12px;
          }
          
          .btn {
            padding: 6px 12px;
            font-size: 12px;
          }
          
          .card {
            margin: 0.5rem 0;
          }
          
          .card-body {
            padding: 1rem;
          }
          
          .grid {
            gap: 0.75rem;
          }
          
          h1, h2, h3 {
            font-size: 0.9rem;
          }
          
          .product-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Загрузка..."})]})})},E0=()=>{const[e,t]=k.useState([]),[n,r]=k.useState(!1),[l,a]=k.useState(!1),[i,o]=k.useState([]),[c,u]=k.useState([]),[d,g]=k.useState(null),p=JSON.parse(localStorage.getItem("currentUser")||"{}");k.useEffect(()=>{E()},[]);const E=async()=>{var y,C,P,v;if(!(p!=null&&p.id)){console.warn("Нет ID пользователя для загрузки портфолио");return}try{r(!0),console.log("Загрузка портфолио для пользователя:",p.id);const f=await U.get(`/api/portfolio/${p.id}`,{timeout:1e4,headers:{"Content-Type":"application/json"}});f.data&&Array.isArray(f.data)?t(f.data):(console.warn("Некорректные данные портфолио:",f.data),t([]))}catch(f){console.error("Детальная ошибка загрузки портфолио:",{message:f.message,response:(y=f.response)==null?void 0:y.data,status:(C=f.response)==null?void 0:C.status}),((P=f.response)==null?void 0:P.status)===403?console.error("Портфолио доступно только для исполнителей"):((v=f.response)==null?void 0:v.status)===404?(console.log("Портфолио пусто - это нормально для нового пользователя"),t([])):console.error("Ошибка сервера при загрузке портфолио"),t([])}finally{r(!1)}},b=y=>{const C=Array.from(y.target.files);if(e.length+C.length>20){alert("Максимум 20 изображений в портфолио");return}if(C.filter(S=>S.size>5*1024*1024).length>0){alert("Максимальный размер файла: 5MB");return}if(C.filter(S=>!S.type.startsWith("image/")).length>0){alert("Разрешены только изображения");return}o(C);const f=C.map(S=>URL.createObjectURL(S));u(f)},_=async()=>{var y,C,P;if(i.length===0){alert("Выберите изображения для загрузки");return}if(!(p!=null&&p.id)){alert("Ошибка: не определен пользователь");return}try{a(!0),console.log("Начало загрузки изображений:",i.length);const v=new FormData;v.append("user_id",p.id),i.forEach((R,x)=>{console.log(`Добавляем изображение ${x+1}:`,R.name,R.size),v.append("images",R)});const f=await U.post("/api/portfolio",v,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4});console.log("Ответ сервера на загрузку:",f.status,f.data),alert("Изображения успешно загружены"),o([]),u([]);const S=document.getElementById("portfolio-upload");S&&(S.value=""),await E()}catch(v){console.error("Детальная ошибка загрузки изображений:",{message:v.message,response:(y=v.response)==null?void 0:y.data,status:(C=v.response)==null?void 0:C.status});let f="Ошибка при загрузке изображений";v.response?v.response.status===413?f="Файлы слишком большие. Максимальный размер: 5MB":v.response.status===403?f="Недостаточно прав для загрузки в портфолио":(P=v.response.data)!=null&&P.error&&(f=v.response.data.error):v.code==="ECONNABORTED"&&(f="Превышено время ожидания загрузки. Попробуйте еще раз."),alert(f)}finally{a(!1)}},O=async y=>{var C,P,v,f,S,R;if(!y){alert("Ошибка: не указан ID изображения");return}if(confirm("Удалить это изображение?"))try{console.log("Удаление изображения с ID:",y);const x=await U.delete(`/api/portfolio/${y}`,{timeout:1e4});console.log("Ответ сервера на удаление:",x.status),alert("Изображение удалено"),await E()}catch(x){console.error("Детальная ошибка удаления изображения:",{message:x.message,response:(C=x.response)==null?void 0:C.data,status:(P=x.response)==null?void 0:P.status,imageId:y});let j="Ошибка при удалении изображения";((v=x.response)==null?void 0:v.status)===404?j="Изображение не найдено":((f=x.response)==null?void 0:f.status)===403?j="Недостаточно прав для удаления":(R=(S=x.response)==null?void 0:S.data)!=null&&R.error&&(j=x.response.data.error),alert(j)}},h=()=>{o([]),u([]);const y=document.getElementById("portfolio-upload");y&&(y.value="")},m=y=>{g(y)},w=()=>{g(null)};return!p||!p.id?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка данных пользователя..."})]}):p.role!=="executor"?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("p",{className:"text-gray-500",children:"Портфолио доступно только для исполнителей"}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Ваша роль: ",p.role||"неопределена"]})]}):s.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-black",children:"Моё портфолио"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[e.length,"/20 изображений"]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Ug,{className:"text-accent-blue"}),"Загрузить изображения"]})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{htmlFor:"portfolio-upload",className:"block text-sm font-medium mb-2",children:["Выберите изображения (максимум ",20-e.length,", до 5MB каждое)"]}),s.jsx("input",{id:"portfolio-upload",type:"file",multiple:!0,accept:"image/*",onChange:b,className:"input w-full",disabled:e.length>=20||l}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Поддерживаемые форматы: JPG, PNG, GIF, WebP"})]}),c.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Выбранные изображения:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-4",children:c.map((y,C)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:y,alt:`Превью ${C+1}`,className:"w-full h-24 object-cover rounded border cursor-pointer hover:opacity-75",onClick:()=>window.open(y,"_blank")}),s.jsx("div",{className:"absolute top-1 right-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded",children:C+1})]},C))}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"btn btn-primary",onClick:_,disabled:l,children:l?"Загрузка...":"Загрузить изображения"}),s.jsx("button",{className:"btn btn-ghost",onClick:h,disabled:l,children:"Отменить"})]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Ir,{className:"text-accent-blue"}),"Галерея работ"]})}),s.jsx("div",{className:"card-body",children:n?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка портфолио..."})]}):e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ir,{className:"text-6xl text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Ваше портфолио пусто"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Загрузите изображения своих работ, чтобы показать их администратору и клиентам"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e.map(y=>s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-lg border hover:border-accent-blue transition-colors",children:[s.jsx("img",{src:y.image_path,alt:`Работа ${y.id}`,className:"w-full h-32 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>m(y)}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn btn-sm bg-white text-black hover:bg-gray-100",onClick:()=>m(y),title:"Просмотр",children:s.jsx(kl,{})}),s.jsx("button",{className:"btn btn-sm bg-red-500 text-white hover:bg-red-600",onClick:()=>O(y.id),title:"Удалить",children:s.jsx(Un,{})})]})})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 text-center",children:new Date(y.created_date).toLocaleDateString("ru-RU")})]},y.id))})})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:w,children:s.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[s.jsx("img",{src:d.image_path,alt:`Работа ${d.id}`,className:"max-w-full max-h-full object-contain rounded-lg",onClick:y=>y.stopPropagation()}),s.jsx("button",{className:"absolute top-4 right-4 btn btn-sm bg-white text-black hover:bg-gray-100 rounded-full w-8 h-8 flex items-center justify-center",onClick:w,children:"✕"}),s.jsx("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-75 text-white px-3 py-2 rounded",children:s.jsxs("p",{className:"text-sm",children:["Загружено: ",new Date(d.created_date).toLocaleString("ru-RU")]})}),s.jsxs("button",{className:"absolute bottom-4 right-4 btn btn-sm bg-red-500 text-white hover:bg-red-600",onClick:()=>{w(),O(d.id)},children:[s.jsx(Un,{className:"mr-1"}),"Удалить"]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-black",children:"Загрузка изображений..."})]})})]})},Xc=()=>{const[e,t]=k.useState("catalog"),[n,r]=k.useState(null),[l,a]=k.useState([]),[i,o]=k.useState(""),[c,u]=k.useState(!1),[d,g]=k.useState([]),[p,E]=k.useState([]),[b,_]=k.useState(!1),[O,h]=k.useState(""),[m,w]=k.useState(!1);k.useEffect(()=>{const j=JSON.parse(localStorage.getItem("currentUser")||"{}");if(!j.id||j.role!=="executor"){window.location.href="#/login";return}r(j),y(),C(),P();const I=M=>{h(M.detail.productId),_(!0),t("custom-requests")};return window.addEventListener("openCustomRequest",I),()=>window.removeEventListener("openCustomRequest",I)},[]);const y=async()=>{try{u(!0);const j=new URLSearchParams;i&&j.append("search",i);const I=await U.get(`/api/products?${j.toString()}`);a(I.data)}catch(j){console.error("Ошибка загрузки товаров:",j)}finally{u(!1)}},C=async()=>{if(n!=null&&n.id)try{const j=JSON.parse(localStorage.getItem(`favorites_${n.id}`)||"[]");g(j)}catch(j){console.error("Ошибка загрузки избранного:",j)}},P=async()=>{if(n!=null&&n.id)try{const[j,I]=await Promise.all([U.get(`/api/chat?user_id=${n.id}`),U.get(`/api/orders?user_id=${n.id}&role=${n.role}`)]),M=j.data.filter(D=>new Date(D.created_date)>new Date(Date.now()-24*60*60*1e3)).length,N=I.data.filter(D=>new Date(D.created_date)>new Date(Date.now()-24*60*60*1e3)).length,z=[];M>0&&z.push(`${M} новых сообщений`),N>0&&z.push(`${N} новых заказов`),E(z)}catch(j){console.error("Ошибка загрузки уведомлений:",j)}},v=()=>l.filter(j=>d.includes(j.id)),f=j=>{P()},S=()=>{w(!1)},R=j=>{t(j),S()};k.useEffect(()=>{y()},[i]);const x=()=>{switch(e){case"catalog":return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-black",children:"Каталог товаров"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[s.jsx("input",{type:"text",placeholder:"Поиск товаров...",className:"input flex-1 sm:flex-none",value:i,onChange:j=>o(j.target.value)}),s.jsx("button",{className:"btn btn-accent whitespace-nowrap",onClick:()=>_(!0),children:"Подать заявку"})]})]}),c?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка товаров..."})]}):l.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Товары не найдены"})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:l.map(j=>s.jsx(Dr,{product:j,onAddToCart:f,showCustomRequest:!0},j.id))})]});case"cart":return s.jsx(ef,{});case"profile":return s.jsx(uo,{});case"orders":return s.jsx(mo,{isExecutor:!0});case"custom-requests":return s.jsx(Fr,{productId:O,onClose:()=>{_(!1),h("")}});case"chat":return s.jsx(fo,{});case"portfolio":return s.jsx(E0,{});case"favorites":return s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-black mb-6",children:"Избранные товары"}),d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx($t,{className:"text-6xl text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Нет избранных товаров"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:v().map(j=>s.jsx(Dr,{product:j,onAddToCart:f,showCustomRequest:!0},j.id))})]});default:return s.jsx("div",{children:"Страница не найдена"})}};return n?s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("nav",{className:"nav shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"header-logo-container",children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/fb4e11b1-32cb-4ee9-a6b8-90711522901e_1759499694999.jpg",alt:"NIGHTINGALE EMPIRE Logo",className:"logo-image"}),s.jsx("h1",{className:"text-lg sm:text-xl font-bold text-white",children:"NIGHTINGALE EMPIRE"})]}),s.jsx("button",{className:"md:hidden text-white p-2",onClick:()=>w(!m),children:m?s.jsx(Jr,{}):s.jsx(Sl,{})})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[s.jsxs("button",{className:`nav-link ${e==="catalog"?"active":""}`,onClick:()=>t("catalog"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/d808c41c-8078-41ec-9530-8a0955f2cc4e_1759499878628.jpg",alt:"Catalog Icon",className:"catalog-icon"}),"Каталог"]}),s.jsxs("button",{className:`nav-link ${e==="cart"?"active":""}`,onClick:()=>t("cart"),children:[s.jsx(Re,{className:"mr-2"}),"Корзина"]}),s.jsxs("button",{className:`nav-link ${e==="orders"?"active":""}`,onClick:()=>t("orders"),children:[s.jsx(it,{className:"mr-2"}),"Заказы"]}),s.jsxs("button",{className:`nav-link ${e==="custom-requests"?"active":""}`,onClick:()=>t("custom-requests"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/78891927-a4e5-4a24-990f-9f9ef122df28_1759499812794.jpg",alt:"Measurement Icon",className:"measurement-icon"}),"Заявки на замер"]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[p.length>0&&s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"text-white text-lg"}),s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:p.length})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[s.jsxs("button",{className:`nav-link ${e==="portfolio"?"active":""}`,onClick:()=>t("portfolio"),children:[s.jsx(Ir,{className:"mr-2"}),"Портфолио"]}),s.jsxs("button",{className:`nav-link ${e==="favorites"?"active":""}`,onClick:()=>t("favorites"),children:[s.jsx($t,{className:"mr-2"}),"Избранное"]}),s.jsxs("button",{className:`nav-link ${e==="chat"?"active":""}`,onClick:()=>t("chat"),children:[s.jsx(At,{className:"mr-2"}),"Чат"]}),s.jsxs("button",{className:`nav-link ${e==="profile"?"active":""}`,onClick:()=>t("profile"),children:[s.jsx(qe,{className:"mr-2"}),"Профиль"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white",children:[n.avatar&&s.jsx("img",{src:n.avatar,alt:"Avatar",className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full object-cover"}),s.jsxs("div",{className:"text-xs sm:text-sm hidden sm:block",children:[s.jsx("div",{className:"font-medium",children:n.username}),s.jsx("div",{className:"text-xs text-gray-300",children:"Исполнитель"})]})]}),s.jsx("button",{className:"btn btn-ghost text-white hover:bg-gray-800 text-xs sm:text-sm px-2 sm:px-4",onClick:()=>{localStorage.removeItem("currentUser"),window.location.href="#/login"},children:"Выход"})]})]}),m&&s.jsx("div",{className:"md:hidden bg-gray-800 mt-2 rounded-lg overflow-hidden",children:s.jsxs("div",{className:"flex flex-col space-y-1 p-2",children:[s.jsxs("button",{className:`mobile-nav-link ${e==="catalog"?"active":""}`,onClick:()=>R("catalog"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/d808c41c-8078-41ec-9530-8a0955f2cc4e_1759499878628.jpg",alt:"Catalog Icon",className:"catalog-icon mr-3"}),"Каталог"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="cart"?"active":""}`,onClick:()=>R("cart"),children:[s.jsx(Re,{className:"mr-3"}),"Корзина"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="orders"?"active":""}`,onClick:()=>R("orders"),children:[s.jsx(it,{className:"mr-3"}),"Заказы"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="custom-requests"?"active":""}`,onClick:()=>R("custom-requests"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/78891927-a4e5-4a24-990f-9f9ef122df28_1759499812794.jpg",alt:"Measurement Icon",className:"measurement-icon mr-3"}),"Заявки на замер"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="portfolio"?"active":""}`,onClick:()=>R("portfolio"),children:[s.jsx(Ir,{className:"mr-3"}),"Портфолио"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="favorites"?"active":""}`,onClick:()=>R("favorites"),children:[s.jsx($t,{className:"mr-3"}),"Избранное"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="chat"?"active":""}`,onClick:()=>R("chat"),children:[s.jsx(At,{className:"mr-3"}),"Чат"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="profile"?"active":""}`,onClick:()=>R("profile"),children:[s.jsx(qe,{className:"mr-3"}),"Профиль"]})]})})]})}),p.length>0&&s.jsx("div",{className:"bg-accent-blue bg-opacity-10 border-b border-accent-blue",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(cn,{className:"text-accent-blue flex-shrink-0"}),s.jsx("div",{className:"text-sm text-accent-blue overflow-hidden",children:s.jsx("div",{className:"truncate",children:p.join(", ")})})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-8",children:x()}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Подача заявки на замер"}),s.jsx("button",{className:"btn btn-ghost p-2",onClick:()=>{_(!1),h("")},children:"✕"})]}),s.jsx(Fr,{productId:O,onClose:()=>{_(!1),h("")}})]})})}),s.jsx("style",{jsx:!0,children:`
        .mobile-nav-link {
          display: flex;
          align-items: center;
          padding: 12px 16px;
          color: white;
          text-decoration: none;
          border-radius: 6px;
          transition: background-color 0.2s;
          font-size: 14px;
          width: 100%;
          text-align: left;
          background: none;
          border: none;
          cursor: pointer;
        }
        
        .mobile-nav-link:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }
        
        .mobile-nav-link.active {
          background-color: var(--accent-blue);
        }
        
        @media (max-width: 640px) {
          .product-grid {
            grid-template-columns: 1fr;
          }
        }
        
        @media (max-width: 768px) {
          .nav {
            position: sticky;
            top: 0;
            z-index: 40;
          }
          
          .nav-link {
            padding: 8px 12px;
            font-size: 14px;
          }
          
          .btn {
            padding: 8px 12px;
            font-size: 14px;
          }
        }
      `})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка..."})]})})},xs=({onLogin:e})=>{const[t,n]=k.useState({username:"",password:""}),[r,l]=k.useState(!1),[a,i]=k.useState(!1),o=async u=>{if(u.preventDefault(),!t.username.trim()||!t.password.trim()){alert("Заполните все поля");return}i(!0);try{if(r){const d=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password,role:"buyer"})}),g=await d.json();if(!d.ok)throw new Error(g.error||"Ошибка регистрации");alert(g.message||"Регистрация успешна! Теперь войдите в систему."),l(!1)}else{const d=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password})}),g=await d.json();if(d.ok&&g.user)console.log("Успешная аутентификация для пользователя:",g.user.username),e(g.user);else{const p=g.error||"Ошибка входа в систему";console.error("Ошибка аутентификации:",p),alert(p)}}}catch(d){console.error("Ошибка:",d),alert("Произошла ошибка при "+(r?"регистрации":"входе"))}finally{i(!1)}},c=u=>{n({...t,[u.target.name]:u.target.value})};return s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:s.jsxs("div",{className:"card max-w-md w-full",children:[s.jsxs("div",{className:"card-header text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-black mb-2",children:"ЦИФРОВАЯ СРЕДА NIGHTINGALE"}),s.jsx("p",{className:"text-gray-600",children:r?"Регистрация в системе":"Вход в систему"})]}),s.jsxs("div",{className:"card-body",children:[s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-black",children:"Имя пользователя"}),s.jsx("input",{type:"text",name:"username",className:"input w-full",value:t.username,onChange:c,placeholder:"Введите имя пользователя",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-black",children:"Пароль"}),s.jsx("input",{type:"password",name:"password",className:"input w-full",value:t.password,onChange:c,placeholder:"Введите пароль",required:!0})]}),s.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:a,children:a?"Подождите...":r?"Зарегистрироваться":"Войти"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{className:"btn btn-ghost",onClick:()=>l(!r),disabled:a,children:r?"Уже есть аккаунт? Войти":"Нет аккаунта? Зарегистрироваться"})})]})]})})},P0=()=>{const[e,t]=k.useState(null),[n,r]=k.useState(!0);k.useEffect(()=>{try{const i=localStorage.getItem("currentUser");if(i&&i!=="undefined"&&i!=="null"){const o=JSON.parse(i);o&&o.id&&o.username&&o.role?t(o):(console.warn("Некорректная структура пользователя:",o),localStorage.removeItem("currentUser"))}}catch(i){console.error("Ошибка восстановления пользователя:",i),localStorage.removeItem("currentUser")}finally{r(!1)}},[]);const l=i=>{try{if(!i||!i.id||!i.username||!i.role)throw new Error("Некорректная структура пользователя");console.log("Успешный вход пользователя:",i.username,"Роль:",i.role),t(i),localStorage.setItem("currentUser",JSON.stringify(i))}catch(o){console.error("Ошибка при сохранении пользователя:",o),alert("Ошибка входа в систему. Попробуйте еще раз.")}};if(n)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка приложения..."})]})});if(!e)return s.jsx(xs,{onLogin:l});const a=()=>{if(!e||!e.role)return console.error("Пользователь не найден или некорректен:",e),s.jsx(xs,{onLogin:l});try{switch(e.role){case"admin":return e.id===1?s.jsx(Gc,{}):s.jsx(tr,{to:"/buyer",replace:!0});case"executor":return s.jsx(Xc,{});case"buyer":default:return s.jsx(Kc,{})}}catch(i){return console.error("Ошибка рендеринга компонента пользователя:",i),t(null),localStorage.removeItem("currentUser"),s.jsx(xs,{onLogin:l})}};return s.jsx(yg,{children:s.jsxs(gg,{children:[s.jsx(Qt,{path:"/",element:a()}),s.jsx(Qt,{path:"/buyer",element:e&&e.role?s.jsx(Kc,{}):s.jsx(tr,{to:"/",replace:!0})}),s.jsx(Qt,{path:"/admin",element:e&&e.id===1?s.jsx(Gc,{}):s.jsx(tr,{to:"/",replace:!0})}),s.jsx(Qt,{path:"/executor",element:e&&e.role==="executor"?s.jsx(Xc,{}):s.jsx(tr,{to:"/",replace:!0})}),s.jsx(Qt,{path:"/login",element:s.jsx(xs,{onLogin:l})}),s.jsx(Qt,{path:"*",element:s.jsx(tr,{to:"/",replace:!0})})]})})},Yc=()=>{const e=document.getElementById("initial-loading");e&&(e.style.display="none")},tf=e=>{const t=document.getElementById("root");t&&(t.innerHTML=`
      <div style="
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 20px;
        text-align: center;
        background: #ffffff;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      ">
        <div style="color: #e53e3e; font-size: 24px; margin-bottom: 16px;">
          Ошибка загрузки приложения
        </div>
        <div style="color: #666666; margin-bottom: 20px; max-width: 600px; line-height: 1.5;">
          ${e}
        </div>
        <button onclick="window.location.reload()" style="
          padding: 10px 20px;
          background: #1a365d;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          font-size: 14px;
        ">
          Перезагрузить страницу
        </button>
      </div>
    `)},Zc=()=>{try{const e=document.getElementById("root");if(!e)throw new Error("Элемент #root не найден в DOM");Yc(),um(e).render(s.jsx(pt.StrictMode,{children:s.jsx(P0,{})})),console.log("3D Print Marketplace успешно загружен")}catch(e){console.error("Ошибка инициализации приложения:",e),Yc(),tf("Не удалось инициализировать приложение. Проверьте консоль браузера для получения подробной информации.")}};window.addEventListener("error",e=>{console.error("Глобальная ошибка:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Необработанное отклонение промиса:",e.reason),e.preventDefault()});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Zc):Zc();window.__APP_DEBUG__={showError:tf,reload:()=>window.location.reload()};
